{"code":"(this[\"webpackJsonptwitter-clone\"]=this[\"webpackJsonptwitter-clone\"]||[]).push([[9,11,14],{1300:function(e,t){},1307:function(e,t){},1308:function(e,t){},1316:function(e,t){},1325:function(e,t,r){\"use strict\";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&\"object\"==typeof t&&\"object\"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}},1326:function(e,t,r){\"use strict\";var n=function(e){return null!==e&&\"object\"===typeof e&&\"function\"===typeof e.pipe};n.writable=function(e){return n(e)&&!1!==e.writable&&\"function\"===typeof e._write&&\"object\"===typeof e._writableState},n.readable=function(e){return n(e)&&!1!==e.readable&&\"function\"===typeof e._read&&\"object\"===typeof e._readableState},n.duplex=function(e){return n.writable(e)&&n.readable(e)},n.transform=function(e){return n.duplex(e)&&\"function\"===typeof e._transform},e.exports=n},1327:function(e,t){},1329:function(e,t){},1336:function(e,t,r){\"use strict\";var n=r(70).default,i=r(71).default,o=r(77).default,a=r(78).default,s=r(370).default;Object.defineProperty(t,\"__esModule\",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;var c=r(233),u=function(e){o(r,e);var t=a(r);function r(e,i,o){var a;if(n(this,r),!Number.isInteger(e))throw new Error('\"code\" must be an integer.');if(!i||\"string\"!==typeof i)throw new Error('\"message\" must be a nonempty string.');return(a=t.call(this,i)).code=e,void 0!==o&&(a.data=o),a}return i(r,[{key:\"serialize\",value:function(){var e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}},{key:\"toString\",value:function(){return c.default(this.serialize(),l,2)}}]),r}(s(Error));t.EthereumRpcError=u;var d=function(e){o(r,e);var t=a(r);function r(e,i,o){if(n(this,r),!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');return t.call(this,e,i,o)}return i(r)}(u);function l(e,t){if(\"[Circular]\"!==t)return t}t.EthereumProviderError=d},1337:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}}},1375:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var n=r(1337),i=r(1336),o=n.errorCodes.rpc.internal,a=\"Unspecified error message. This is a bug, please report it.\",s={code:o,message:c(o)};function c(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(Number.isInteger(e)){var i=e.toString();if(h(n.errorValues,i))return n.errorValues[i].message;if(d(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;var t=e.toString();return!!n.errorValues[t]||!!d(e)}function d(e){return e>=-32099&&e<=-32e3}function l(e){return e&&\"object\"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE=\"Unspecified server error.\",t.getMessageFromCode=c,t.isValidCode=u,t.serializeError=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.fallbackError,a=void 0===o?s:o,d=n.shouldIncludeStack,p=void 0!==d&&d;if(!a||!Number.isInteger(a.code)||\"string\"!==typeof a.message)throw new Error(\"Must provide fallback error with integer number code and string message.\");if(e instanceof i.EthereumRpcError)return e.serialize();var f={};if(e&&\"object\"===typeof e&&!Array.isArray(e)&&h(e,\"code\")&&u(e.code)){var v=e;f.code=v.code,v.message&&\"string\"===typeof v.message?(f.message=v.message,h(v,\"data\")&&(f.data=v.data)):(f.message=c(f.code),f.data={originalError:l(e)})}else{f.code=a.code;var m=null===(t=e)||void 0===t?void 0:t.message;f.message=m&&\"string\"===typeof m?m:a.message,f.data={originalError:l(e)}}var g=null===(r=e)||void 0===r?void 0:r.stack;return p&&e&&g&&\"string\"===typeof g&&(f.stack=g),f}},1447:function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",(function(){return ce}));var n=r(112),i=r(6),o=r(7),a=r(11),s=r(9),c=r(10),u=r(12),d=r(1),l=r.n(d),h=r(14),p=r.n(h),f=r(1386),v=r(1312),m=r(287),g=r(84),b=r(1481),w=r(1326),y=r(240),O=r.n(y),_=r(28),k=r.n(_),j=r(1325),E=r.n(j),C={disconnected:function(){return\"Torus: Lost connection to Torus.\"},permanentlyDisconnected:function(){return\"Torus: Disconnected from iframe. Page reload required.\"},unsupportedSync:function(e){return\"Torus: The Torus Ethereum provider does not support synchronous methods like \".concat(e,\" without a callback parameter.\")},invalidDuplexStream:function(){return\"Must provide a Node.js-style duplex stream.\"},invalidOptions:function(e){return\"Invalid options. Received: { maxEventListeners: \".concat(e,\"}\")},invalidRequestArgs:function(){return\"Expected a single, non-array, object argument.\"},invalidRequestMethod:function(){return\"'args.method' must be a non-empty string.\"},invalidRequestParams:function(){return\"'args.params' must be an object or array if provided.\"},invalidLoggerObject:function(){return\"'args.logger' must be an object if provided.\"},invalidLoggerMethod:function(e){return\"'args.logger' must include required method '\".concat(e,\"'.\")}},P={connected:function(e){return'Torus: Connected to chain with ID \"'.concat(e,'\".')}},I=\"production\",S=\"bottom-left\",x=\"top-left\",R=\"bottom-right\",A=\"top-right\",T={supportedVerifierList:[\"google\",\"reddit\",\"discord\"],api:\"https://api.tor.us\",translations:{en:{embed:{continue:\"Continue\",actionRequired:\"Authorization required\",pendingAction:\"Click continue to proceed with your request in a popup\",cookiesRequired:\"Cookies Required\",enableCookies:\"Please enable cookies in your browser preferences to access Torus\",clickHere:\"More Info\"}},de:{embed:{continue:\"Fortsetzen\",actionRequired:\"Autorisierung erforderlich\",pendingAction:\"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren\",cookiesRequired:\"Cookies ben\\xf6tigt\",enableCookies:\"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen\",clickHere:\"Mehr Info\"}},ja:{embed:{continue:\"\\u7d99\\u7d9a\\u3059\\u308b\",actionRequired:\"\\u8a8d\\u8a3c\\u304c\\u5fc5\\u8981\\u3067\\u3059\",pendingAction:\"\\u7d9a\\u884c\\u3092\\u30af\\u30ea\\u30c3\\u30af\\u3057\\u3066\\u3001\\u30dd\\u30c3\\u30d7\\u30a2\\u30c3\\u30d7\\u3067\\u30ea\\u30af\\u30a8\\u30b9\\u30c8\\u3092\\u7d9a\\u884c\\u3057\\u307e\\u3059\",cookiesRequired:\"\\u5fc5\\u8981\\u306a\\u30af\\u30c3\\u30ad\\u30fc\",enableCookies:\"Torus\\u306b\\u30a2\\u30af\\u30bb\\u30b9\\u3059\\u308b\\u306b\\u306f\\u3001\\u30d6\\u30e9\\u30a6\\u30b6\\u306e\\u8a2d\\u5b9a\\u3067Cookie\\u3092\\u6709\\u52b9\\u306b\\u3057\\u3066\\u304f\\u3060\\u3055\\u3044\\u3002\",clickHere:\"\\u8a73\\u3057\\u304f\\u306f\"}},ko:{embed:{continue:\"\\uacc4\\uc18d\\ud558\\ub2e4\",actionRequired:\"\\uc2b9\\uc778 \\ud544\\uc694\",pendingAction:\"\\ud31d\\uc5c5\\uc5d0\\uc11c \\uc694\\uccad\\uc744 \\uc9c4\\ud589\\ud558\\ub824\\uba74 \\uacc4\\uc18d\\uc744 \\ud074\\ub9ad\\ud558\\uc2ed\\uc2dc\\uc624.\",cookiesRequired:\"\\ucfe0\\ud0a4 \\ud544\\uc694\",enableCookies:\"\\ube0c\\ub77c\\uc6b0\\uc800 \\ud658\\uacbd \\uc124\\uc815\\uc5d0\\uc11c \\ucfe0\\ud0a4\\ub97c \\ud65c\\uc131\\ud654\\ud558\\uc5ec Torus\\uc5d0 \\uc561\\uc138\\uc2a4\\ud558\\uc2ed\\uc2dc\\uc624.\",clickHere:\"\\ub354 \\ub9ce\\uc740 \\uc815\\ubcf4\"}},zh:{embed:{continue:\"\\u7ee7\\u7eed\",actionRequired:\"\\u9700\\u8981\\u6388\\u6743\",pendingAction:\"\\u5355\\u51fb\\u7ee7\\u7eed\\u4ee5\\u5728\\u5f39\\u51fa\\u7a97\\u53e3\\u4e2d\\u7ee7\\u7eed\\u60a8\\u7684\\u8bf7\\u6c42\",cookiesRequired:\"\\u5fc5\\u586bCookie\",enableCookies:\"\\u8bf7\\u5728\\u60a8\\u7684\\u6d4f\\u89c8\\u5668\\u9996\\u9009\\u9879\\u4e2d\\u542f\\u7528cookie\\u4ee5\\u8bbf\\u95eeTorus\\u3002\",clickHere:\"\\u66f4\\u591a\\u4fe1\\u606f\"}}},prodTorusUrl:\"\",localStorageKey:\"torus-\".concat(window.location.hostname)},N=k.a.getLogger(\"solana-embed\");var L=function(){return Math.random().toString(36).slice(2)},q=function(){var e=Object(u.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=\"testing\"===e.t0?3:\"development\"===e.t0?6:9;break;case 3:return r=\"https://solana-testing.tor.us\",n=\"debug\",e.abrupt(\"break\",12);case 6:return r=\"http://localhost:8080\",n=\"debug\",e.abrupt(\"break\",12);case 9:return r=\"https://solana.tor.us\",n=\"error\",e.abrupt(\"break\",12);case 12:return e.abrupt(\"return\",{torusUrl:r,logLevel:n});case 13:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D={height:660,width:375},U={height:740,width:1315},z={height:700,width:1200},W={height:600,width:400};function F(e){var t=e.width,r=e.height,n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,s=Math.abs((o-t)/2/1+n),c=Math.abs((a-r)/2/1+i);return\"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=\".concat(r/1,\",width=\").concat(t/1,\",top=\").concat(c,\",left=\").concat(s)}var M=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e,n){var o;Object(i.a)(this,r);var s=n.maxEventListeners,c=void 0===s?100:s,u=n.jsonRpcStreamName,d=void 0===u?\"provider\":u;if(o=t.call(this),p()(Object(a.a)(o),\"isTorus\",void 0),p()(Object(a.a)(o),\"_rpcEngine\",void 0),p()(Object(a.a)(o),\"jsonRpcConnectionEvents\",void 0),p()(Object(a.a)(o),\"_state\",void 0),!Object(w.duplex)(e))throw new Error(C.invalidDuplexStream());o.isTorus=!0,o.setMaxListeners(c),o._handleConnect=o._handleConnect.bind(Object(a.a)(o)),o._handleDisconnect=o._handleDisconnect.bind(Object(a.a)(o)),o._handleStreamDisconnect=o._handleStreamDisconnect.bind(Object(a.a)(o)),o._rpcRequest=o._rpcRequest.bind(Object(a.a)(o)),o._initializeState=o._initializeState.bind(Object(a.a)(o)),o.request=o.request.bind(Object(a.a)(o)),o.sendAsync=o.sendAsync.bind(Object(a.a)(o));var l=new g.c;O()(e,l,e,o._handleStreamDisconnect.bind(Object(a.a)(o),\"Torus\")),l.ignoreStream(\"phishing\");var h=Object(g.i)();O()(h.stream,l.createStream(d),h.stream,o._handleStreamDisconnect.bind(Object(a.a)(o),\"Torus RpcProvider\"));var f=new g.b;return f.push(Object(g.g)()),f.push((function(e,t,r){\"string\"===typeof e.method&&e.method||(t.error=b.ethErrors.rpc.invalidRequest({message:\"The request 'method' must be a non-empty string.\",data:e})),r((function(e){var r=t.error;return r?(N.error(\"Torus - RPC Error: \".concat(r.message),r),e()):e()}))})),f.push(Object(v.h)({origin:location.origin})),f.push(h.middleware),o._rpcEngine=f,o.jsonRpcConnectionEvents=h.events,o}return Object(o.a)(r,[{key:\"request\",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var r,n,i=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&\"object\"===typeof t&&!Array.isArray(t)){e.next=2;break}throw b.ethErrors.rpc.invalidRequest({message:C.invalidRequestArgs(),data:t});case 2:if(r=t.method,n=t.params,\"string\"===typeof r&&0!==r.length){e.next=5;break}throw b.ethErrors.rpc.invalidRequest({message:C.invalidRequestMethod(),data:t});case 5:if(void 0===n||Array.isArray(n)||\"object\"===typeof n&&null!==n){e.next=7;break}throw b.ethErrors.rpc.invalidRequest({message:C.invalidRequestParams(),data:t});case 7:return e.abrupt(\"return\",new Promise((function(e,t){i._rpcRequest({method:r,params:n},Object(g.j)(e,t))})));case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"send\",value:function(e,t){this._rpcRequest(e,t)}},{key:\"sendAsync\",value:function(e){var t=this;return new Promise((function(r,n){t._rpcRequest(e,Object(g.j)(r,n))}))}},{key:\"_handleStreamDisconnect\",value:function(e,t){!function(e,t,r){var n='Torus: Lost connection to \"'.concat(e,'\".');null!==t&&void 0!==t&&t.stack&&(n+=\"\\n\".concat(t.stack)),N.warn(n),r&&r.listenerCount(\"error\")>0&&r.emit(\"error\",n)}(e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}}]),r}(g.e),K=function(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=function n(){r.apply(void 0,i),e.removeEventListener(t,n)};e.addEventListener(t,a)};function H(){return V.apply(this,arguments)}function V(){return(V=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e){\"loading\"!==document.readyState?e():K(document,\"DOMContentLoaded\",e)})));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(e){var t=window.document.createElement(\"template\"),r=e.trim();return t.innerHTML=r,t.content.firstChild},G=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;Object(i.a)(this,r);var o=e.url,s=e.target,c=e.features;return n=t.call(this),p()(Object(a.a)(n),\"url\",void 0),p()(Object(a.a)(n),\"target\",void 0),p()(Object(a.a)(n),\"features\",void 0),p()(Object(a.a)(n),\"window\",void 0),p()(Object(a.a)(n),\"windowTimer\",void 0),p()(Object(a.a)(n),\"iClosedWindow\",void 0),n.url=o,n.target=s||\"_blank\",n.features=c||F(z),n.window=void 0,n.windowTimer=void 0,n.iClosedWindow=!1,n._setupTimer(),n}return Object(o.a)(r,[{key:\"_setupTimer\",value:function(){var e=this;this.windowTimer=Number(setInterval((function(){e.window&&e.window.closed&&(clearInterval(e.windowTimer),e.iClosedWindow||e.emit(\"close\"),e.iClosedWindow=!1,e.window=void 0),void 0===e.window&&clearInterval(e.windowTimer)}),500))}},{key:\"open\",value:function(){var e;return this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus(),Promise.resolve()}},{key:\"close\",value:function(){this.iClosedWindow=!0,this.window&&this.window.close()}},{key:\"redirect\",value:function(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}]),r}(g.e);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Y=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e,n){var o;Object(i.a)(this,r);var s=n.maxEventListeners,c=void 0===s?100:s,u=n.jsonRpcStreamName,d=void 0===u?\"provider\":u;o=t.call(this,e,{maxEventListeners:c,jsonRpcStreamName:d}),p()(Object(a.a)(o),\"embedTranslations\",void 0),p()(Object(a.a)(o),\"torusUrl\",void 0),p()(Object(a.a)(o),\"dappStorageKey\",void 0),p()(Object(a.a)(o),\"windowRefs\",void 0),p()(Object(a.a)(o),\"tryWindowHandle\",void 0),p()(Object(a.a)(o),\"torusAlertContainer\",void 0),p()(Object(a.a)(o),\"torusIframe\",void 0),o._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r._defaultState),o.torusUrl=\"\",o.dappStorageKey=\"\";var l=T.translations[function(){var e=window.navigator.language||\"en-US\",t=e.split(\"-\");return Object.prototype.hasOwnProperty.call(T.translations,t[0])?t[0]:\"en\"}()];o.embedTranslations=l.embed,o.windowRefs={},o.on(\"connect\",(function(){o._state.isConnected=!0}));return o.jsonRpcConnectionEvents.on(\"notification\",(function(e){var t=e.method,r=e.params;if(t===v.c.IFRAME_STATUS){var n=r.isFullScreen,i=r.rid;o._displayIframe({isFull:n,rid:i})}else if(t===v.c.CREATE_WINDOW){var a=r.windowId,s=r.url;o._createPopupBlockAlert(a,s)}else if(t===v.c.CLOSE_WINDOW)o._handleCloseWindow(r);else if(t===v.c.USER_LOGGED_IN){var c=r.currentLoginProvider;o._state.isLoggedIn=!0,o._state.currentLoginProvider=c}else t===v.c.USER_LOGGED_OUT&&(o._state.isLoggedIn=!1,o._state.currentLoginProvider=null,o._displayIframe())})),o}return Object(o.a)(r,[{key:\"isLoggedIn\",get:function(){return this._state.isLoggedIn}},{key:\"isIFrameFullScreen\",get:function(){return this._state.isIFrameFullScreen}},{key:\"isConnected\",value:function(){return this._state.isConnected}},{key:\"_initializeState\",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var r,n,i,o,a,s,c,u=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.torusUrl,n=t.dappStorageKey,i=t.torusAlertContainer,o=t.torusIframe,this.torusUrl=r,this.dappStorageKey=n,this.torusAlertContainer=i,this.torusIframe=o,this.torusIframe.addEventListener(\"load\",(function(){u._state.isIFrameFullScreen||u._displayIframe()})),e.next=9,this.request({method:v.b.GET_PROVIDER_STATE,params:[]});case 9:a=e.sent,s=a.currentLoginProvider,c=a.isLoggedIn,this._handleConnect(s,c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),N.error(\"Torus: Failed to get initial state. Please report this bug.\",e.t0);case 18:return e.prev=18,N.info(\"initialized communication state\"),this._state.initialized=!0,this.emit(\"_initialized\"),e.finish(18);case 23:case\"end\":return e.stop()}}),e,this,[[0,15,18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"_handleWindow\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.url,i=r.target,o=r.features,a=new URL(n||\"\".concat(this.torusUrl,\"/redirect?windowId=\").concat(e));this.dappStorageKey&&(a.hash?a.hash+=\"&dappStorageKey=\".concat(this.dappStorageKey):a.hash=\"#dappStorageKey=\".concat(this.dappStorageKey));var s=new G({url:a,target:i,features:o});s.open(),s.window?(this.windowRefs[e]=s,this.request({method:v.b.OPENED_WINDOW,params:{windowId:e}}),s.once(\"close\",(function(){delete t.windowRefs[e],t.request({method:v.b.CLOSED_WINDOW,params:{windowId:e}})}))):this._createPopupBlockAlert(e,a.href)}},{key:\"_displayIframe\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isFull,r=void 0!==t&&t,n=e.rid,i=void 0===n?\"\":n,o={};if(r)o.display=\"block\",o.width=\"100%\",o.height=\"100%\",o.top=\"0px\",o.right=\"0px\",o.left=\"0px\",o.bottom=\"0px\";else switch(o.display=this._state.torusWidgetVisibility?\"block\":\"none\",o.height=\"70px\",o.width=\"70px\",this._state.buttonPosition){case x:o.top=\"0px\",o.left=\"0px\",o.right=\"auto\",o.bottom=\"auto\";break;case A:o.top=\"0px\",o.right=\"0px\",o.left=\"auto\",o.bottom=\"auto\";break;case R:o.bottom=\"0px\",o.right=\"0px\",o.top=\"auto\",o.left=\"auto\";break;default:o.bottom=\"0px\",o.left=\"0px\",o.top=\"auto\",o.right=\"auto\"}Object.assign(this.torusIframe.style,o),this._state.isIFrameFullScreen=r,this.request({method:v.b.IFRAME_STATUS,params:{isIFrameFullScreen:r,rid:i}})}},{key:\"hideTorusButton\",value:function(){this._state.torusWidgetVisibility=!1,this._displayIframe()}},{key:\"showTorusButton\",value:function(){this._state.torusWidgetVisibility=!0,this._displayIframe()}},{key:\"_rpcRequest\",value:function(e,t){var r=t,n=e;Array.isArray(n)||n.jsonrpc||(n.jsonrpc=\"2.0\"),this.tryWindowHandle(n,r)}},{key:\"_handleConnect\",value:function(e,t){this._state.isConnected||(this._state.isConnected=!0,this.emit(\"connect\",{currentLoginProvider:e,isLoggedIn:t}),N.debug(P.connected(e)))}},{key:\"_handleDisconnect\",value:function(e,t){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(r=new b.EthereumRpcError(1013,t||C.disconnected()),N.debug(r)):(r=new b.EthereumRpcError(1011,t||C.permanentlyDisconnected()),N.error(r),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit(\"disconnect\",r))}},{key:\"_handleCloseWindow\",value:function(e){var t=e.windowId;this.windowRefs[t]&&(this.windowRefs[t].close(),delete this.windowRefs[t])}},{key:\"_createPopupBlockAlert\",value:function(){var e=Object(u.a)(l.a.mark((function e(t,r){var n,i,o,a,s,c,u=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getLogoUrl(),i=B('<div id=\"torusAlert\" class=\"torus-alert--v2\">'+'<div id=\"torusAlert__logo\"><img src=\"'.concat(n,'\" /></div>')+\"<div>\"+'<h1 id=\"torusAlert__title\">'.concat(this.embedTranslations.actionRequired,\"</h1>\")+'<p id=\"torusAlert__desc\">'.concat(this.embedTranslations.pendingAction,\"</p>\")+\"</div></div>\"),o=B('<div><a id=\"torusAlert__btn\">'.concat(this.embedTranslations.continue,\"</a></div>\")),(a=B('<div id=\"torusAlert__btn-container\"></div>')).appendChild(o),i.appendChild(a),s=function(){o.addEventListener(\"click\",(function(){u._handleWindow(t,{url:r,target:\"_blank\",features:F(W)}),i.remove(),0===u.torusAlertContainer.children.length&&(u.torusAlertContainer.style.display=\"none\")}))},c=function(){u.torusAlertContainer.appendChild(i)},e.next=10,H();case 10:c(),s(),this.torusAlertContainer.style.display=\"block\";case 13:case\"end\":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:\"getLogoUrl\",value:function(){return\"\".concat(this.torusUrl,\"/images/torus_icon-blue.svg\")}}]),r}(M);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}p()(Y,\"_defaultState\",{buttonPosition:\"bottom-left\",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});var Q=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e,n){var o;Object(i.a)(this,r);var s=n.maxEventListeners,c=void 0===s?100:s,u=n.jsonRpcStreamName,d=void 0===u?\"provider\":u;o=t.call(this,e,{maxEventListeners:c,jsonRpcStreamName:d}),p()(Object(a.a)(o),\"chainId\",void 0),p()(Object(a.a)(o),\"selectedAddress\",void 0),p()(Object(a.a)(o),\"tryWindowHandle\",void 0),o._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r._defaultState),o.selectedAddress=null,o.chainId=null,o._handleAccountsChanged=o._handleAccountsChanged.bind(Object(a.a)(o)),o._handleChainChanged=o._handleChainChanged.bind(Object(a.a)(o)),o._handleUnlockStateChanged=o._handleUnlockStateChanged.bind(Object(a.a)(o)),o.on(\"connect\",(function(){o._state.isConnected=!0}));return o.jsonRpcConnectionEvents.on(\"notification\",(function(e){var t=e.method,r=e.params;t===v.e.ACCOUNTS_CHANGED?o._handleAccountsChanged(r):t===v.e.UNLOCK_STATE_CHANGED?o._handleUnlockStateChanged(r):t===v.e.CHAIN_CHANGED&&o._handleChainChanged(r)})),o}return Object(o.a)(r,[{key:\"isConnected\",value:function(){return this._state.isConnected}},{key:\"_initializeState\",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,r,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request({method:v.d.GET_PROVIDER_STATE,params:[]});case 3:t=e.sent,r=t.accounts,n=t.chainId,i=t.isUnlocked,this.emit(\"connect\",{chainId:n}),this._handleChainChanged({chainId:n}),this._handleUnlockStateChanged({accounts:r,isUnlocked:i}),this._handleAccountsChanged(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),N.error(\"Torus: Failed to get initial state. Please report this bug.\",e.t0);case 16:return e.prev=16,N.info(\"initialized provider state\"),this._state.initialized=!0,this.emit(\"_initialized\"),e.finish(16);case 21:case\"end\":return e.stop()}}),e,this,[[0,13,16,21]])})));return function(){return e.apply(this,arguments)}}()},{key:\"_rpcRequest\",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t,o=e;if(!Array.isArray(o))if(o.jsonrpc||(o.jsonrpc=\"2.0\"),\"solana_accounts\"===o.method||\"solana_requestAccounts\"===o.method)i=function(e,i){r._handleAccountsChanged(i.result||[],\"solana_accounts\"===o.method,n),t(e,i)};else if(\"wallet_getProviderState\"===o.method)return void this._rpcEngine.handle(e,i);this.tryWindowHandle(o,i)}},{key:\"_handleConnect\",value:function(e){this._state.isConnected||(this._state.isConnected=!0,this.emit(\"connect\",{chainId:e}),N.debug(P.connected(e)))}},{key:\"_handleDisconnect\",value:function(e,t){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(r=new b.EthereumRpcError(1013,t||C.disconnected()),N.debug(r)):(r=new b.EthereumRpcError(1011,t||C.permanentlyDisconnected()),N.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit(\"disconnect\",r))}},{key:\"_handleAccountsChanged\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e;Array.isArray(i)||(N.error(\"Torus: Received non-array accounts parameter. Please report this bug.\",i),i=[]);var o,a=Object(n.a)(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(\"string\"!==typeof s){N.error(\"Torus: Received non-string account. Please report this bug.\",e),i=[];break}}}catch(c){a.e(c)}finally{a.f()}E()(this._state.accounts,i)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&N.error('Torus: \"solana_accounts\" unexpectedly updated accounts. Please report this bug.',i),this._state.accounts=i,this.emit(\"accountsChanged\",i)),this.selectedAddress!==i[0]&&(this.selectedAddress=i[0]||null)}},{key:\"_handleChainChanged\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chainId;t?\"loading\"===t?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit(\"chainChanged\",this.chainId))):N.error(\"Torus: Received invalid network parameters. Please report this bug.\",{chainId:t})}},{key:\"_handleUnlockStateChanged\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accounts,r=e.isUnlocked;\"boolean\"===typeof r?r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(t||[])):N.error(\"Torus: Received invalid isUnlocked parameter. Please report this bug.\",{isUnlocked:r})}}]),r}(M);function X(e){return new Promise((function(t,r){try{var n=document.createElement(\"img\");n.onload=function(){return t(!0)},n.onerror=function(){return t(!1)},n.src=e}catch(i){r(i)}}))}p()(Q,\"_defaultState\",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});var $=function(e){var t=e.document,r=t.querySelector('head > meta[property=\"og:site_name\"]');if(r)return r.content;var n=t.querySelector('head > meta[name=\"title\"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.document,n=r.querySelector('head > link[rel=\"shortcut icon\"]'),e.t0=n,!e.t0){e.next=8;break}return e.next=7,X(n.href);case 7:e.t0=e.sent;case 8:if(!e.t0){e.next=10;break}return e.abrupt(\"return\",n.href);case 10:if(n=Array.from(r.querySelectorAll('head > link[rel=\"icon\"]')).find((function(e){return Boolean(e.href)})),e.t1=n,!e.t1){e.next=16;break}return e.next=15,X(n.href);case 15:e.t1=e.sent;case 16:if(!e.t1){e.next=18;break}return e.abrupt(\"return\",n.href);case 18:return e.abrupt(\"return\",\"\");case 21:return e.prev=21,e.t2=e.catch(0),e.abrupt(\"return\",\"\");case 24:case\"end\":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}var re=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=$(window),e.next=3,ee(window);case 3:return e.t1=e.sent,e.abrupt(\"return\",{name:e.t0,icon:e.t1});case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=[\"send_transaction\",\"sign_transaction\",\"sign_all_transactions\",\"sign_message\",\"connect\"],ae=[v.b.SET_PROVIDER],se=function(e){var t;try{t=window[e];var r=\"__storage_test__\";return t.setItem(r,r),t.removeItem(r),!0}catch(n){return n&&(22===n.code||1014===n.code||\"QuotaExceededError\"===n.name||\"NS_ERROR_DOM_QUOTA_REACHED\"===n.name)&&t&&0!==t.length}}(\"localStorage\");!function(){var e=Object(u.a)(l.a.mark((function e(){var t,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,\"undefined\"!==typeof document){e.next=3;break}return e.abrupt(\"return\");case 3:return t=document.createElement(\"link\"),e.next=6,q(\"production\");case 6:r=e.sent,n=r.torusUrl,t.href=\"\".concat(n,\"/frame\"),t.crossOrigin=\"anonymous\",t.type=\"text/html\",t.rel=\"prefetch\",t.relList&&t.relList.supports&&t.relList.supports(\"prefetch\")&&document.head.appendChild(t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),N.warn(e.t0);case 18:case\"end\":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}()();var ce=function(){function t(){Object(i.a)(this,t);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.modalZIndex,n=void 0===r?99999:r;p()(this,\"isInitialized\",void 0),p()(this,\"torusAlert\",void 0),p()(this,\"modalZIndex\",void 0),p()(this,\"alertZIndex\",void 0),p()(this,\"requestedLoginProvider\",void 0),p()(this,\"provider\",void 0),p()(this,\"communicationProvider\",void 0),p()(this,\"dappStorageKey\",void 0),p()(this,\"torusAlertContainer\",void 0),p()(this,\"torusUrl\",void 0),p()(this,\"torusIframe\",void 0),p()(this,\"styleLink\",void 0),this.torusUrl=\"\",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=n,this.alertZIndex=n+1e3,this.dappStorageKey=\"\"}return Object(o.a)(t,[{key:\"isLoggedIn\",get:function(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}},{key:\"init\",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,r,n,i,o,a,s,c,d,h,p,f,v,g,b,w,y,O,_,k,j,E,C,P=this,x=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.length>0&&void 0!==x[0]?x[0]:{},r=t.buildEnv,n=void 0===r?I:r,i=t.enableLogging,o=void 0!==i&&i,a=t.network,s=t.showTorusButton,c=void 0!==s&&s,d=t.useLocalStorage,h=void 0!==d&&d,p=t.buttonPosition,f=void 0===p?S:p,v=t.apiKey,g=void 0===v?\"torus-default\":v,b=t.extraParams,w=void 0===b?{}:b,!this.isInitialized){e.next=3;break}throw new Error(\"Already initialized\");case 3:return Object(m.e)(g),e.next=6,q(n);case 6:return y=e.sent,O=y.torusUrl,_=y.logLevel,N.info(O,\"url loaded\"),this.torusUrl=O,N.setDefaultLevel(_),o?N.enableAll():N.disableAll(),k=this.handleDappStorageKey(h),(j=new URL(O)).pathname.endsWith(\"/\")?j.pathname+=\"frame\":j.pathname+=\"/frame\",E=new URLSearchParams,k&&E.append(\"dappStorageKey\",k),E.append(\"origin\",window.location.origin),j.hash=E.toString(),this.torusIframe=B('<iframe\\n        id=\"torusIframe\"\\n        class=\"torusIframe\"\\n        src=\"'.concat(j.href,'\"\\n        style=\"display: none; position: fixed; top: 0; right: 0; width: 100%;\\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex.toString(),'\"\\n      ></iframe>')),this.torusAlertContainer=B('<div id=\"torusAlertContainer\" style=\"display:none; z-index: '.concat(this.alertZIndex.toString(),'\"></div>')),this.styleLink=B('<link href=\"'.concat(O,'/css/widget.css\" rel=\"stylesheet\" type=\"text/css\">')),C=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e,t){try{window.document.head.appendChild(P.styleLink),window.document.body.appendChild(P.torusIframe),window.document.body.appendChild(P.torusAlertContainer),P.torusIframe.addEventListener(\"load\",Object(u.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re();case 2:return r=t.sent,P.torusIframe.contentWindow.postMessage({buttonPosition:f,apiKey:g,network:a,dappMetadata:r,extraParams:w},j.origin),t.next=6,P._setupWeb3({torusUrl:O});case 6:c?P.showTorusButton():P.hideTorusButton(),P.isInitialized=!0,window.torus=P,e();case 10:case\"end\":return t.stop()}}),t)}))))}catch(r){t(r)}})));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=26,H();case 26:return e.next=28,C();case 28:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"login\",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,r,n=this,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},this.isInitialized){e.next=3;break}throw new Error(\"Call init() first\");case 3:return e.prev=3,this.requestedLoginProvider=t.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0}),e.next=8,new Promise((function(e,r){n.provider._rpcRequest({method:\"solana_requestAccounts\",params:[n.requestedLoginProvider,t.login_hint]},Object(g.j)(e,r))}));case 8:if(r=e.sent,!(Array.isArray(r)&&r.length>0)){e.next=11;break}return e.abrupt(\"return\",r);case 11:throw new Error(\"Login failed\");case 14:throw e.prev=14,e.t0=e.catch(3),N.error(\"login failed\",e.t0),e.t0;case 18:return e.prev=18,this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe(),e.finish(18);case 21:case\"end\":return e.stop()}}),e,this,[[3,14,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:\"loginWithPrivateKey\",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var r,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}throw new Error(\"Call init() first\");case 2:return r=t.privateKey,n=t.userInfo,e.next=5,this.communicationProvider.request({method:\"login_with_private_key\",params:{privateKey:r,userInfo:n}});case 5:if(i=e.sent,i.success){e.next=9;break}throw new Error(\"Login Failed\");case 9:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"logout\",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.communicationProvider.isLoggedIn){e.next=2;break}throw new Error(\"Not logged in\");case 2:return e.next=4,this.communicationProvider.request({method:v.b.LOGOUT,params:[]});case 4:this.requestedLoginProvider=null;case 5:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"cleanUp\",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.communicationProvider.isLoggedIn){e.next=3;break}return e.next=3,this.logout();case 3:this.clearInit();case 4:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"clearInit\",value:function(){function e(e){return e instanceof Element||e instanceof Document}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}},{key:\"hideTorusButton\",value:function(){this.communicationProvider.hideTorusButton()}},{key:\"showTorusButton\",value:function(){this.communicationProvider.showTorusButton()}},{key:\"setProvider\",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicationProvider.request({method:v.b.SET_PROVIDER,params:ie({},t)});case 2:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"showWallet\",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var r,n,i,o,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.communicationProvider.request({method:v.b.WALLET_INSTANCE_ID,params:[]});case 3:n=e.sent,i=t?\"/\".concat(t):\"\",(o=new URL(\"\".concat(this.torusUrl,\"/wallet\").concat(i))).searchParams.append(\"instanceId\",n),Object.keys(r).forEach((function(e){o.searchParams.append(e,r[e])})),this.dappStorageKey&&(o.hash=\"#dappStorageKey=\".concat(this.dappStorageKey)),new G({url:o,features:F(U)}).open();case 11:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"getUserInfo\",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicationProvider.request({method:v.b.USER_INFO,params:[]});case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"initiateTopup\",value:function(){var e=Object(u.a)(l.a.mark((function e(t,r){var n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}throw new Error(\"Torus is not initialized\");case 2:return n=L(),this.communicationProvider._handleWindow(n),e.next=6,this.communicationProvider.request({method:v.b.TOPUP,params:{provider:t,params:r,windowId:n}});case 6:return i=e.sent,e.abrupt(\"return\",i);case 8:case\"end\":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:\"getAccounts\",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:\"getAccounts\",params:[]});case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"sendTransaction\",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:\"send_transaction\",params:{message:t.serialize({requireAllSignatures:!1}).toString(\"hex\")}});case 2:return r=e.sent,e.abrupt(\"return\",r);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"signTransaction\",value:function(){var t=Object(u.a)(l.a.mark((function t(r){var n,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.request({method:\"sign_transaction\",params:{message:r.serializeMessage().toString(\"hex\"),messageOnly:!0}});case 2:return n=t.sent,i=JSON.parse(n),o={publicKey:new f.c(i.publicKey),signature:e.from(i.signature,\"hex\")},r.addSignature(o.publicKey,o.signature),t.abrupt(\"return\",r);case 7:case\"end\":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:\"signAllTransactions\",value:function(){var t=Object(u.a)(l.a.mark((function t(r){var n,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.map((function(e){return e.serializeMessage().toString(\"hex\")})),t.next=3,this.provider.request({method:\"sign_all_transactions\",params:{message:n,messageOnly:!0}});case 3:return i=t.sent,o=i.map((function(t){var r=JSON.parse(t);return{publicKey:new f.c(r.publicKey),signature:e.from(r.signature,\"hex\")}})),r.forEach((function(e,t){return e.addSignature(o[t].publicKey,o[t].signature),e})),t.abrupt(\"return\",r);case 7:case\"end\":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:\"signMessage\",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:\"sign_message\",params:{data:t}});case 2:return r=e.sent,e.abrupt(\"return\",r);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"getGaslessPublicKey\",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:\"get_gasless_public_key\",params:[]});case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"handleDappStorageKey\",value:function(e){var t=\"\";if(se&&e){var r=window.localStorage.getItem(T.localStorageKey);if(r)t=r;else{var n=\"torus-app-\".concat(L());window.localStorage.setItem(T.localStorageKey,n),t=n}}return this.dappStorageKey=t,t}},{key:\"_setupWeb3\",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var r,n,i,o,a,s,c,u=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N.info(\"setupWeb3 running\"),r=new g.a({name:\"embed_torus\",target:\"iframe_torus\",targetWindow:this.torusIframe.contentWindow}),n=new g.a({name:\"embed_communication\",target:\"iframe_communication\",targetWindow:this.torusIframe.contentWindow}),i=new Q(r,{}),o=new Y(n,{}),i.tryWindowHandle=function(e,t){var r=e;if(!Array.isArray(r)&&oe.includes(r.method)){if(!u.communicationProvider.isLoggedIn)throw new Error(\"User Not Logged In\");var n=L();o._handleWindow(n,{target:\"_blank\",features:F(W)}),r.windowId=n}i._rpcEngine.handle(r,t)},o.tryWindowHandle=function(e,t){var r=e;if(!Array.isArray(r)&&ae.includes(r.method)){var n=L();o._handleWindow(n,{target:\"_blank\",features:F(D)}),r.params.windowId=n}o._rpcEngine.handle(r,t)},(a=function(e){var t=i[e],r=u;i[e]=function(e,n){var i=e.method,o=e.params,a=void 0===o?[]:o;if(\"solana_requestAccounts\"===i){if(!n)return r.login({loginProvider:a[0]});r.login({loginProvider:a[0]}).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))}return t.apply(this,[e,n])}})(\"request\"),a(\"sendAsync\"),a(\"send\"),s=new Proxy(i,{deleteProperty:function(){return!0}}),c=new Proxy(o,{deleteProperty:function(){return!0}}),this.provider=s,this.communicationProvider=c,e.next=17,Promise.all([i._initializeState(),o._initializeState(ie(ie({},t),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]);case 17:N.debug(\"Torus - injected provider\");case 18:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}()}).call(this,r(19).Buffer)},1481:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;var n=r(1336);Object.defineProperty(t,\"EthereumRpcError\",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,\"EthereumProviderError\",{enumerable:!0,get:function(){return n.EthereumProviderError}});var i=r(1375);Object.defineProperty(t,\"serializeError\",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,\"getMessageFromCode\",{enumerable:!0,get:function(){return i.getMessageFromCode}});var o=r(1482);Object.defineProperty(t,\"ethErrors\",{enumerable:!0,get:function(){return o.ethErrors}});var a=r(1337);Object.defineProperty(t,\"errorCodes\",{enumerable:!0,get:function(){return a.errorCodes}})},1482:function(e,t,r){\"use strict\";var n=r(232).default;Object.defineProperty(t,\"__esModule\",{value:!0}),t.ethErrors=void 0;var i=r(1336),o=r(1375),a=r(1337);function s(e,t){var r=u(t),a=n(r,2),s=a[0],c=a[1];return new i.EthereumRpcError(e,s||o.getMessageFromCode(e),c)}function c(e,t){var r=u(t),a=n(r,2),s=a[0],c=a[1];return new i.EthereumProviderError(e,s||o.getMessageFromCode(e),c)}function u(e){if(e){if(\"string\"===typeof e)return[e];if(\"object\"===typeof e&&!Array.isArray(e)){var t=e.message,r=e.data;if(t&&\"string\"!==typeof t)throw new Error(\"Must specify string message.\");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:function(e){return s(a.errorCodes.rpc.parse,e)},invalidRequest:function(e){return s(a.errorCodes.rpc.invalidRequest,e)},invalidParams:function(e){return s(a.errorCodes.rpc.invalidParams,e)},methodNotFound:function(e){return s(a.errorCodes.rpc.methodNotFound,e)},internal:function(e){return s(a.errorCodes.rpc.internal,e)},server:function(e){if(!e||\"object\"!==typeof e||Array.isArray(e))throw new Error(\"Ethereum RPC Server errors must provide single object argument.\");var t=e.code;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:function(e){return s(a.errorCodes.rpc.invalidInput,e)},resourceNotFound:function(e){return s(a.errorCodes.rpc.resourceNotFound,e)},resourceUnavailable:function(e){return s(a.errorCodes.rpc.resourceUnavailable,e)},transactionRejected:function(e){return s(a.errorCodes.rpc.transactionRejected,e)},methodNotSupported:function(e){return s(a.errorCodes.rpc.methodNotSupported,e)},limitExceeded:function(e){return s(a.errorCodes.rpc.limitExceeded,e)}},provider:{userRejectedRequest:function(e){return c(a.errorCodes.provider.userRejectedRequest,e)},unauthorized:function(e){return c(a.errorCodes.provider.unauthorized,e)},unsupportedMethod:function(e){return c(a.errorCodes.provider.unsupportedMethod,e)},disconnected:function(e){return c(a.errorCodes.provider.disconnected,e)},chainDisconnected:function(e){return c(a.errorCodes.provider.chainDisconnected,e)},custom:function(e){if(!e||\"object\"!==typeof e||Array.isArray(e))throw new Error(\"Ethereum Provider custom errors must provide single object argument.\");var t=e.code,r=e.message,n=e.data;if(!r||\"string\"!==typeof r)throw new Error('\"message\" must be a nonempty string');return new i.EthereumProviderError(t,r,n)}}}},1570:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"SolanaWalletAdapter\",(function(){return _}));var n=r(12),i=r(6),o=r(7),a=r(11),s=r(42),c=r(32),u=r(9),d=r(10),l=r(1),h=r.n(l),p=r(14),f=r.n(p),v=r(1447),m=r(13),g=r(1338),b=r(28),w=r.n(b);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){f()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=t.call(this),f()(Object(a.a)(e),\"name\",m.i.TORUS_SOLANA),f()(Object(a.a)(e),\"adapterNamespace\",m.c.SOLANA),f()(Object(a.a)(e),\"currentChainNamespace\",m.f.SOLANA),f()(Object(a.a)(e),\"type\",m.a.EXTERNAL),f()(Object(a.a)(e),\"status\",m.d.NOT_READY),f()(Object(a.a)(e),\"torusInstance\",null),f()(Object(a.a)(e),\"torusWalletOptions\",void 0),f()(Object(a.a)(e),\"initParams\",void 0),f()(Object(a.a)(e),\"loginSettings\",{}),f()(Object(a.a)(e),\"solanaProvider\",null),f()(Object(a.a)(e),\"rehydrated\",!1),e.torusWalletOptions=n.adapterSettings||{},e.initParams=n.initParams||{},e.loginSettings=n.loginSettings||{},e.chainConfig=n.chainConfig||null,e}return Object(o.a)(r,[{key:\"provider\",get:function(){var e;return this.status===m.d.CONNECTED&&this.solanaProvider&&(null===(e=this.solanaProvider)||void 0===e?void 0:e.provider)||null},set:function(e){throw new Error(\"Not implemented\")}},{key:\"init\",value:function(){var e=Object(n.a)(h.a.mark((function e(t){var n,i,o,a,u,d,l,p,f,b,y,_,k,j,E;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(s.a)(Object(c.a)(r.prototype),\"checkInitializationRequirements\",this).call(this),this.chainConfig?(f=this.chainConfig,b=f.chainId,y=f.blockExplorer,_=f.displayName,k=f.rpcTarget,j=f.ticker,E=f.tickerName,n={chainId:b,rpcTarget:k,blockExplorerUrl:y,displayName:_,tickerName:E,ticker:j,logo:\"\"}):(this.chainConfig=Object(m.m)(m.f.SOLANA,\"0x1\"),i=this.chainConfig,o=i.blockExplorer,a=i.displayName,u=i.ticker,d=i.tickerName,l=i.rpcTarget,p=i.chainId,n={chainId:p,rpcTarget:l,blockExplorerUrl:o,displayName:a,ticker:u,tickerName:d,logo:\"\"}),this.torusInstance=new v.a(this.torusWalletOptions),e.next=5,this.torusInstance.init(O(O({showTorusButton:!1},this.initParams),{},{network:n}));case 5:if(this.solanaProvider=new g.TorusInjectedProvider({config:{chainConfig:this.chainConfig}}),this.status=m.d.READY,this.emit(m.b.READY,m.i.TORUS_SOLANA),e.prev=8,!t.autoConnect){e.next=13;break}return this.rehydrated=!0,e.next=13,this.connect();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),w.a.error(\"Failed to connect with cached torus solana provider\",e.t0),this.emit(m.b.ERRORED,e.t0);case 19:case\"end\":return e.stop()}}),e,this,[[8,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"connect\",value:function(){var e=Object(n.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(s.a)(Object(c.a)(r.prototype),\"checkConnectionRequirements\",this).call(this),this.torusInstance){e.next=3;break}throw m.j.notReady(\"Torus wallet is not initialized\");case 3:if(this.solanaProvider){e.next=5;break}throw m.j.notReady(\"Torus wallet is not initialized\");case 5:return this.status=m.d.CONNECTING,this.emit(m.b.CONNECTING,{adapter:m.i.TORUS_SOLANA}),e.prev=7,e.next=10,this.torusInstance.login(this.loginSettings);case 10:return e.next=12,this.solanaProvider.setupProvider(this.torusInstance.provider);case 12:return this.status=m.d.CONNECTED,this.torusInstance.showTorusButton(),this.emit(m.d.CONNECTED,{adapter:m.i.TORUS_SOLANA,reconnected:this.rehydrated}),e.abrupt(\"return\",this.provider);case 18:throw e.prev=18,e.t0=e.catch(7),this.status=m.d.READY,this.rehydrated=!1,this.emit(m.b.ERRORED,e.t0),m.k.connectionError(\"Failed to login with torus solana wallet\");case 24:case\"end\":return e.stop()}}),e,this,[[7,18]])})));return function(){return e.apply(this,arguments)}}()},{key:\"disconnect\",value:function(){var e=Object(n.a)(h.a.mark((function e(){var t,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{cleanup:!1},this.status===m.d.CONNECTED){e.next=3;break}throw m.k.notConnectedError(\"Not connected with wallet\");case 3:if(this.torusInstance){e.next=5;break}throw m.j.notReady(\"Torus wallet is not initialized\");case 5:return e.next=7,this.torusInstance.logout();case 7:t.cleanup?(this.status=m.d.NOT_READY,this.torusInstance=null,this.solanaProvider=null):this.status=m.d.READY,this.emit(m.b.DISCONNECTED);case 9:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"getUserInfo\",value:function(){var e=Object(n.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===m.d.CONNECTED){e.next=2;break}throw m.k.notConnectedError(\"Not connected with wallet\");case 2:if(this.torusInstance){e.next=4;break}throw m.j.notReady(\"Torus wallet is not initialized\");case 4:return e.next=6,this.torusInstance.getUserInfo();case 6:return t=e.sent,e.abrupt(\"return\",t);case 8:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"setAdapterSettings\",value:function(e){}}]),r}(m.e)}}]);","name":"static/js/9.3391ec9e.chunk.js","map":{"version":3,"sources":["static/js/9.3391ec9e.chunk.js"],"names":["this","push","module","exports","__webpack_require__","equal","a","b","constructor","length","i","keys","Array","isArray","RegExp","source","flags","valueOf","Object","prototype","toString","hasOwnProperty","call","key","isStream","stream","pipe","writable","_write","_writableState","readable","_read","_readableState","duplex","transform","_transform","_classCallCheck","default","_createClass","_inherits","_createSuper","_wrapNativeSuper","defineProperty","value","EthereumProviderError","EthereumRpcError","fast_safe_stringify_1","_Error","_super","code","message","data","_this","Number","isInteger","Error","undefined","serialized","stack","serialize","stringifyReplacer","_EthereumRpcError","_super2","isValidEthProviderCode","_","errorValues","errorCodes","rpc","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","limitExceeded","parse","invalidRequest","methodNotFound","invalidParams","internal","provider","userRejectedRequest","unauthorized","unsupportedMethod","disconnected","chainDisconnected","standard","serializeError","isValidCode","getMessageFromCode","JSON_RPC_SERVER_ERROR_MESSAGE","error_constants_1","classes_1","FALLBACK_ERROR_CODE","FALLBACK_MESSAGE","FALLBACK_ERROR","fallbackMessage","arguments","codeString","hasKey","isJsonRpcServerError","assignOriginalError","error","assign","obj","_a","_b","_ref","_ref$fallbackError","fallbackError","_ref$shouldIncludeSta","shouldIncludeStack","_error","originalError","__webpack_exports__","Buffer","d","Torus","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__","C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7__","C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default","n","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default","_solana_web3_js__WEBPACK_IMPORTED_MODULE_9__","_toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__","_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_11__","_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__","eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__","is_stream__WEBPACK_IMPORTED_MODULE_14__","pump__WEBPACK_IMPORTED_MODULE_15__","pump__WEBPACK_IMPORTED_MODULE_15___default","loglevel__WEBPACK_IMPORTED_MODULE_16__","loglevel__WEBPACK_IMPORTED_MODULE_16___default","fast_deep_equal__WEBPACK_IMPORTED_MODULE_17__","fast_deep_equal__WEBPACK_IMPORTED_MODULE_17___default","messages","permanentlyDisconnected","unsupportedSync","method","concat","invalidDuplexStream","invalidOptions","maxEventListeners","invalidRequestArgs","invalidRequestMethod","invalidRequestParams","invalidLoggerObject","invalidLoggerMethod","connected","chainId","TORUS_BUILD_ENV","BUTTON_POSITION","configuration","supportedVerifierList","api","translations","en","embed","continue","actionRequired","pendingAction","cookiesRequired","enableCookies","clickHere","de","ja","ko","zh","prodTorusUrl","localStorageKey","window","location","hostname","log","getLogger","getWindowId","Math","random","slice","getTorusUrl","_ref2","mark","_callee","buildEnv","torusUrl","logLevel","wrap","_context","prev","next","t0","abrupt","stop","_x","apply","FEATURES_PROVIDER_CHANGE_WINDOW","height","width","FEATURES_DEFAULT_WALLET_WINDOW","FEATURES_DEFAULT_POPUP_WINDOW","FEATURES_CONFIRM_WINDOW","getPopupFeatures","w","h","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","innerWidth","document","documentElement","clientWidth","screen","innerHeight","clientHeight","left","abs","top","BaseProvider","_SafeEventEmitter","connectionStream","_ref$maxEventListener","_ref$jsonRpcStreamNam","jsonRpcStreamName","isTorus","setMaxListeners","_handleConnect","bind","_handleDisconnect","_handleStreamDisconnect","_rpcRequest","_initializeState","request","sendAsync","mux","ignoreStream","jsonRpcConnection","createStream","rpcEngine","req","res","done","origin","middleware","_rpcEngine","jsonRpcConnectionEvents","events","_request","_callee2","args","params","_this2","_context2","Promise","resolve","reject","_x2","payload","callback","_this3","streamName","remoteLabel","emitter","warningMsg","warn","listenerCount","emit","logStreamDisconnectWarning","handleEvent","handle","eventName","handler","_len","handlerArgs","_key","handlerWrapper","removeEventListener","addEventListener","documentReady","_documentReady","_callee26","_context26","readyState","htmlToElement","html","template","createElement","trimmedHtml","trim","innerHTML","content","firstChild","PopupHandler","_SafeEventEmitter2","_this4","url","target","features","windowTimer","iClosedWindow","_setupTimer","_this5","setInterval","closed","clearInterval","_this$window","open","href","focus","close","locationReplaceOnRedirect","replace","ownKeys$2","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","TorusCommunicationProvider","_BaseProvider","_super3","_this6","_ref$maxEventListener2","_ref$jsonRpcStreamNam2","_state","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread$2","_defaultState","dappStorageKey","languageTranslations","userLanguage","navigator","language","userLanguages","split","getUserLanguage","embedTranslations","windowRefs","on","isConnected","IFRAME_STATUS","isFullScreen","rid","_displayIframe","isFull","CREATE_WINDOW","windowId","_createPopupBlockAlert","CLOSE_WINDOW","_handleCloseWindow","USER_LOGGED_IN","currentLoginProvider","isLoggedIn","USER_LOGGED_OUT","get","isIFrameFullScreen","_initializeState2","_callee3","torusAlertContainer","torusIframe","_yield$this$request","_this7","_context3","GET_PROVIDER_STATE","sent","info","initialized","finish","_x3","_this8","_ref3","finalUrl","URL","hash","handledWindow","OPENED_WINDOW","once","CLOSED_WINDOW","_ref4","_ref4$isFull","_ref4$rid","style","display","right","bottom","torusWidgetVisibility","buttonPosition","cb","_payload","jsonrpc","tryWindowHandle","debug","isRecoverable","errorMessage","isPermanentlyDisconnected","_createPopupBlockAlert2","_callee4","logoUrl","torusAlert","successAlert","btnContainer","bindOnLoad","attachOnLoad","_this9","_context4","getLogoUrl","appendChild","_handleWindow","remove","children","_x4","_x5","ownKeys$1","hasEmittedConnection","TorusInPageProvider","_BaseProvider2","_super4","_this10","_ref$maxEventListener3","_ref$jsonRpcStreamNam3","_objectSpread$1","selectedAddress","_handleAccountsChanged","_handleChainChanged","_handleUnlockStateChanged","ACCOUNTS_CHANGED","UNLOCK_STATE_CHANGED","CHAIN_CHANGED","_initializeState3","_callee5","_yield$this$request2","accounts","isUnlocked","_context5","_this11","isInternal","err","result","isEthAccounts","finalAccounts","_step","_iterator","s","account","e","f","_ref5","_ref6","imgExists","img","onload","onerror","src","getSiteName","siteName","querySelector","metaTitle","title","getSiteIcon","_x6","_getSiteIcon","_callee27","_document","icon","_context27","from","querySelectorAll","find","_icon","Boolean","t1","t2","getSiteMetadata","_ref7","_callee6","_context6","name","ownKeys","_objectSpread","PROVIDER_UNSAFE_METHODS","COMMUNICATION_UNSAFE_METHODS","SET_PROVIDER","isLocalStorageAvailable","type","storage","x","setItem","removeItem","storageAvailable","_preLoadIframe","_callee7","torusIframeHtml","_yield$getTorusUrl","_context7","crossOrigin","rel","relList","supports","head","_ref8","_ref8$modalZIndex","modalZIndex","isInitialized","requestedLoginProvider","alertZIndex","communicationProvider","_init","_callee10","_ref9","_ref9$buildEnv","_ref9$enableLogging","enableLogging","network","_ref9$showTorusButton","showTorusButton","_ref9$useLocalStorage","useLocalStorage","_ref9$buttonPosition","_ref9$apiKey","apiKey","_ref9$extraParams","extraParams","_yield$getTorusUrl2","torusIframeUrl","hashParams","handleSetup","_this12","_args10","_context10","setDefaultLevel","enableAll","disableAll","handleDappStorageKey","pathname","endsWith","URLSearchParams","append","styleLink","_ref10","_callee9","_context9","body","_callee8","dappMetadata","_context8","contentWindow","postMessage","_setupWeb3","hideTorusButton","torus","_login","_callee11","_this13","_args11","_context11","loginProvider","login_hint","_loginWithPrivateKey","_callee12","loginParams","privateKey","userInfo","_yield$this$communica","_context12","success","_x7","_logout","_callee13","_context13","LOGOUT","_cleanUp","_callee14","_context14","logout","clearInit","isElement","element","Element","Document","contains","_setProvider","_callee15","_context15","_x8","_showWallet","_callee16","path","instanceId","finalPath","_args16","_context16","WALLET_INSTANCE_ID","searchParams","_x9","_getUserInfo","_callee17","userInfoResponse","_context17","USER_INFO","_initiateTopup","_callee18","topupResponse","_context18","TOPUP","_x10","_x11","_getAccounts","_callee19","response","_context19","_sendTransaction","_callee20","transaction","_context20","requireAllSignatures","_x12","_signTransaction","_callee21","parsed","signature","_context21","serializeMessage","messageOnly","JSON","publicKey","addSignature","_x13","_signAllTransactions","_callee22","transactions","encodedMessage","responses","signatures","_context22","map","tx","item","idx","_x14","_signMessage","_callee23","_context23","_x15","_getGaslessPublicKey","_callee24","_context24","storedKey","localStorage","getItem","generatedKey","_setupWeb","_callee25","providerParams","providerStream","communicationStream","inPageProvider","detectAccountRequestPrototypeModifier","proxiedInPageProvider","proxiedCommunicationProvider","_this14","_context25","targetWindow","includes","m","originalMethod","self","_request$params","login","then","catch","Proxy","deleteProperty","all","_x16","ethErrors","utils_1","errors_1","_slicedToArray","getEthJsonRpcError","arg","_parseOpts","parseOpts","_parseOpts2","getEthProviderError","_parseOpts3","_parseOpts4","server","opts","custom","r","SolanaWalletAdapter","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_get_js__WEBPACK_IMPORTED_MODULE_4__","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5__","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__","C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_7__","C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8__","C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default","_toruslabs_solana_embed__WEBPACK_IMPORTED_MODULE_10__","_web3auth_base__WEBPACK_IMPORTED_MODULE_11__","_web3auth_solana_provider__WEBPACK_IMPORTED_MODULE_12__","loglevel__WEBPACK_IMPORTED_MODULE_13__","loglevel__WEBPACK_IMPORTED_MODULE_13___default","_BaseAdapter","TORUS_SOLANA","SOLANA","EXTERNAL","NOT_READY","torusWalletOptions","adapterSettings","initParams","loginSettings","chainConfig","_this$solanaProvider","status","CONNECTED","solanaProvider","set","options","_this$chainConfig","blockExplorer","displayName","ticker","tickerName","rpcTarget","_this$chainConfig2","_chainId","_blockExplorer","_displayName","_rpcTarget","_ticker","_tickerName","blockExplorerUrl","logo","torusInstance","init","config","READY","autoConnect","rehydrated","connect","ERRORED","_connect","notReady","CONNECTING","adapter","setupProvider","reconnected","connectionError","_disconnect","_args3","cleanup","notConnectedError","DISCONNECTED","getUserInfo"],"mappings":"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"},"input":"(this[\"webpackJsonptwitter-clone\"] = this[\"webpackJsonptwitter-clone\"] || []).push([[9,11,14],{\n\n/***/ 1300:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 1307:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 1308:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 1316:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 1325:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n // do not edit .js files directly - edit src/index.jst\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  } // true if both NaN, false otherwise\n\n\n  return a !== a && b !== b;\n};\n\n/***/ }),\n\n/***/ 1326:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isStream = function isStream(stream) {\n  return stream !== null && typeof stream === 'object' && typeof stream.pipe === 'function';\n};\n\nisStream.writable = function (stream) {\n  return isStream(stream) && stream.writable !== false && typeof stream._write === 'function' && typeof stream._writableState === 'object';\n};\n\nisStream.readable = function (stream) {\n  return isStream(stream) && stream.readable !== false && typeof stream._read === 'function' && typeof stream._readableState === 'object';\n};\n\nisStream.duplex = function (stream) {\n  return isStream.writable(stream) && isStream.readable(stream);\n};\n\nisStream.transform = function (stream) {\n  return isStream.duplex(stream) && typeof stream._transform === 'function';\n};\n\nmodule.exports = isStream;\n\n/***/ }),\n\n/***/ 1327:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 1329:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 1336:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _classCallCheck = __webpack_require__(70).default;\n\nvar _createClass = __webpack_require__(71).default;\n\nvar _inherits = __webpack_require__(77).default;\n\nvar _createSuper = __webpack_require__(78).default;\n\nvar _wrapNativeSuper = __webpack_require__(370).default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EthereumProviderError = exports.EthereumRpcError = void 0;\n\nvar fast_safe_stringify_1 = __webpack_require__(233);\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP-1474.\n * Permits any integer error code.\n */\n\n\nvar EthereumRpcError = /*#__PURE__*/function (_Error) {\n  _inherits(EthereumRpcError, _Error);\n\n  var _super = _createSuper(EthereumRpcError);\n\n  function EthereumRpcError(code, message, data) {\n    var _this;\n\n    _classCallCheck(this, EthereumRpcError);\n\n    if (!Number.isInteger(code)) {\n      throw new Error('\"code\" must be an integer.');\n    }\n\n    if (!message || typeof message !== 'string') {\n      throw new Error('\"message\" must be a nonempty string.');\n    }\n\n    _this = _super.call(this, message);\n    _this.code = code;\n\n    if (data !== undefined) {\n      _this.data = data;\n    }\n\n    return _this;\n  }\n  /**\n   * Returns a plain object with all public class properties.\n   */\n\n\n  _createClass(EthereumRpcError, [{\n    key: \"serialize\",\n    value: function serialize() {\n      var serialized = {\n        code: this.code,\n        message: this.message\n      };\n\n      if (this.data !== undefined) {\n        serialized.data = this.data;\n      }\n\n      if (this.stack) {\n        serialized.stack = this.stack;\n      }\n\n      return serialized;\n    }\n    /**\n     * Return a string representation of the serialized error, omitting\n     * any circular references.\n     */\n\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return fast_safe_stringify_1.default(this.serialize(), stringifyReplacer, 2);\n    }\n  }]);\n\n  return EthereumRpcError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nexports.EthereumRpcError = EthereumRpcError;\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\n\nvar EthereumProviderError = /*#__PURE__*/function (_EthereumRpcError) {\n  _inherits(EthereumProviderError, _EthereumRpcError);\n\n  var _super2 = _createSuper(EthereumProviderError);\n\n  /**\n   * Create an Ethereum Provider JSON-RPC error.\n   * `code` must be an integer in the 1000 <= 4999 range.\n   */\n  function EthereumProviderError(code, message, data) {\n    _classCallCheck(this, EthereumProviderError);\n\n    if (!isValidEthProviderCode(code)) {\n      throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n    }\n\n    return _super2.call(this, code, message, data);\n  }\n\n  return _createClass(EthereumProviderError);\n}(EthereumRpcError);\n\nexports.EthereumProviderError = EthereumProviderError; // Internal\n\nfunction isValidEthProviderCode(code) {\n  return Number.isInteger(code) && code >= 1000 && code <= 4999;\n}\n\nfunction stringifyReplacer(_, value) {\n  if (value === '[Circular]') {\n    return undefined;\n  }\n\n  return value;\n}\n\n/***/ }),\n\n/***/ 1337:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errorValues = exports.errorCodes = void 0;\nexports.errorCodes = {\n  rpc: {\n    invalidInput: -32000,\n    resourceNotFound: -32001,\n    resourceUnavailable: -32002,\n    transactionRejected: -32003,\n    methodNotSupported: -32004,\n    limitExceeded: -32005,\n    parse: -32700,\n    invalidRequest: -32600,\n    methodNotFound: -32601,\n    invalidParams: -32602,\n    internal: -32603\n  },\n  provider: {\n    userRejectedRequest: 4001,\n    unauthorized: 4100,\n    unsupportedMethod: 4200,\n    disconnected: 4900,\n    chainDisconnected: 4901\n  }\n};\nexports.errorValues = {\n  '-32700': {\n    standard: 'JSON RPC 2.0',\n    message: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.'\n  },\n  '-32600': {\n    standard: 'JSON RPC 2.0',\n    message: 'The JSON sent is not a valid Request object.'\n  },\n  '-32601': {\n    standard: 'JSON RPC 2.0',\n    message: 'The method does not exist / is not available.'\n  },\n  '-32602': {\n    standard: 'JSON RPC 2.0',\n    message: 'Invalid method parameter(s).'\n  },\n  '-32603': {\n    standard: 'JSON RPC 2.0',\n    message: 'Internal JSON-RPC error.'\n  },\n  '-32000': {\n    standard: 'EIP-1474',\n    message: 'Invalid input.'\n  },\n  '-32001': {\n    standard: 'EIP-1474',\n    message: 'Resource not found.'\n  },\n  '-32002': {\n    standard: 'EIP-1474',\n    message: 'Resource unavailable.'\n  },\n  '-32003': {\n    standard: 'EIP-1474',\n    message: 'Transaction rejected.'\n  },\n  '-32004': {\n    standard: 'EIP-1474',\n    message: 'Method not supported.'\n  },\n  '-32005': {\n    standard: 'EIP-1474',\n    message: 'Request limit exceeded.'\n  },\n  '4001': {\n    standard: 'EIP-1193',\n    message: 'User rejected the request.'\n  },\n  '4100': {\n    standard: 'EIP-1193',\n    message: 'The requested account and/or method has not been authorized by the user.'\n  },\n  '4200': {\n    standard: 'EIP-1193',\n    message: 'The requested method is not supported by this Ethereum provider.'\n  },\n  '4900': {\n    standard: 'EIP-1193',\n    message: 'The provider is disconnected from all chains.'\n  },\n  '4901': {\n    standard: 'EIP-1193',\n    message: 'The provider is disconnected from the specified chain.'\n  }\n};\n\n/***/ }),\n\n/***/ 1375:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.serializeError = exports.isValidCode = exports.getMessageFromCode = exports.JSON_RPC_SERVER_ERROR_MESSAGE = void 0;\n\nvar error_constants_1 = __webpack_require__(1337);\n\nvar classes_1 = __webpack_require__(1336);\n\nvar FALLBACK_ERROR_CODE = error_constants_1.errorCodes.rpc.internal;\nvar FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.';\nvar FALLBACK_ERROR = {\n  code: FALLBACK_ERROR_CODE,\n  message: getMessageFromCode(FALLBACK_ERROR_CODE)\n};\nexports.JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.';\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n */\n\nfunction getMessageFromCode(code) {\n  var fallbackMessage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : FALLBACK_MESSAGE;\n\n  if (Number.isInteger(code)) {\n    var codeString = code.toString();\n\n    if (hasKey(error_constants_1.errorValues, codeString)) {\n      return error_constants_1.errorValues[codeString].message;\n    }\n\n    if (isJsonRpcServerError(code)) {\n      return exports.JSON_RPC_SERVER_ERROR_MESSAGE;\n    }\n  }\n\n  return fallbackMessage;\n}\n\nexports.getMessageFromCode = getMessageFromCode;\n/**\n * Returns whether the given code is valid.\n * A code is only valid if it has a message.\n */\n\nfunction isValidCode(code) {\n  if (!Number.isInteger(code)) {\n    return false;\n  }\n\n  var codeString = code.toString();\n\n  if (error_constants_1.errorValues[codeString]) {\n    return true;\n  }\n\n  if (isJsonRpcServerError(code)) {\n    return true;\n  }\n\n  return false;\n}\n\nexports.isValidCode = isValidCode;\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * Merely copies the given error's values if it is already compatible.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.originalError property.\n */\n\nfunction serializeError(error) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$fallbackError = _ref.fallbackError,\n      fallbackError = _ref$fallbackError === void 0 ? FALLBACK_ERROR : _ref$fallbackError,\n      _ref$shouldIncludeSta = _ref.shouldIncludeStack,\n      shouldIncludeStack = _ref$shouldIncludeSta === void 0 ? false : _ref$shouldIncludeSta;\n\n  var _a, _b;\n\n  if (!fallbackError || !Number.isInteger(fallbackError.code) || typeof fallbackError.message !== 'string') {\n    throw new Error('Must provide fallback error with integer number code and string message.');\n  }\n\n  if (error instanceof classes_1.EthereumRpcError) {\n    return error.serialize();\n  }\n\n  var serialized = {};\n\n  if (error && typeof error === 'object' && !Array.isArray(error) && hasKey(error, 'code') && isValidCode(error.code)) {\n    var _error = error;\n    serialized.code = _error.code;\n\n    if (_error.message && typeof _error.message === 'string') {\n      serialized.message = _error.message;\n\n      if (hasKey(_error, 'data')) {\n        serialized.data = _error.data;\n      }\n    } else {\n      serialized.message = getMessageFromCode(serialized.code);\n      serialized.data = {\n        originalError: assignOriginalError(error)\n      };\n    }\n  } else {\n    serialized.code = fallbackError.code;\n    var message = (_a = error) === null || _a === void 0 ? void 0 : _a.message;\n    serialized.message = message && typeof message === 'string' ? message : fallbackError.message;\n    serialized.data = {\n      originalError: assignOriginalError(error)\n    };\n  }\n\n  var stack = (_b = error) === null || _b === void 0 ? void 0 : _b.stack;\n\n  if (shouldIncludeStack && error && stack && typeof stack === 'string') {\n    serialized.stack = stack;\n  }\n\n  return serialized;\n}\n\nexports.serializeError = serializeError; // Internal\n\nfunction isJsonRpcServerError(code) {\n  return code >= -32099 && code <= -32000;\n}\n\nfunction assignOriginalError(error) {\n  if (error && typeof error === 'object' && !Array.isArray(error)) {\n    return Object.assign({}, error);\n  }\n\n  return error;\n}\n\nfunction hasKey(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\n/***/ }),\n\n/***/ 1447:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {/* unused harmony export BUTTON_POSITION */\n/* unused harmony export LOGIN_PROVIDER */\n/* unused harmony export PAYMENT_PROVIDER */\n/* unused harmony export TORUS_BUILD_ENV */\n/* unused harmony export TorusInPageProvider */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Torus; });\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(112);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(10);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(12);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(1);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(14);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(1386);\n/* harmony import */ var _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(1312);\n/* harmony import */ var _toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(287);\n/* harmony import */ var _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(84);\n/* harmony import */ var eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(1481);\n/* harmony import */ var eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var is_stream__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(1326);\n/* harmony import */ var is_stream__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(is_stream__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(240);\n/* harmony import */ var pump__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(pump__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(28);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(1325);\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_17__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar messages = {\n  errors: {\n    disconnected: function disconnected() {\n      return \"Torus: Lost connection to Torus.\";\n    },\n    permanentlyDisconnected: function permanentlyDisconnected() {\n      return \"Torus: Disconnected from iframe. Page reload required.\";\n    },\n    unsupportedSync: function unsupportedSync(method) {\n      return \"Torus: The Torus Ethereum provider does not support synchronous methods like \".concat(method, \" without a callback parameter.\");\n    },\n    invalidDuplexStream: function invalidDuplexStream() {\n      return \"Must provide a Node.js-style duplex stream.\";\n    },\n    invalidOptions: function invalidOptions(maxEventListeners) {\n      return \"Invalid options. Received: { maxEventListeners: \".concat(maxEventListeners, \"}\");\n    },\n    invalidRequestArgs: function invalidRequestArgs() {\n      return \"Expected a single, non-array, object argument.\";\n    },\n    invalidRequestMethod: function invalidRequestMethod() {\n      return \"'args.method' must be a non-empty string.\";\n    },\n    invalidRequestParams: function invalidRequestParams() {\n      return \"'args.params' must be an object or array if provided.\";\n    },\n    invalidLoggerObject: function invalidLoggerObject() {\n      return \"'args.logger' must be an object if provided.\";\n    },\n    invalidLoggerMethod: function invalidLoggerMethod(method) {\n      return \"'args.logger' must include required method '\".concat(method, \"'.\");\n    }\n  },\n  info: {\n    connected: function connected(chainId) {\n      return \"Torus: Connected to chain with ID \\\"\".concat(chainId, \"\\\".\");\n    }\n  },\n  warnings: {}\n};\nvar PAYMENT_PROVIDER = {\n  MOONPAY: \"moonpay\",\n  WYRE: \"wyre\",\n  RAMPNETWORK: \"rampnetwork\",\n  XANPOOL: \"xanpool\",\n  MERCURYO: \"mercuryo\",\n  TRANSAK: \"transak\"\n};\nvar TORUS_BUILD_ENV = {\n  PRODUCTION: \"production\",\n  DEVELOPMENT: \"development\",\n  TESTING: \"testing\"\n};\nvar BUTTON_POSITION = {\n  BOTTOM_LEFT: \"bottom-left\",\n  TOP_LEFT: \"top-left\",\n  BOTTOM_RIGHT: \"bottom-right\",\n  TOP_RIGHT: \"top-right\"\n};\nvar LOGIN_PROVIDER = {\n  GOOGLE: \"google\",\n  FACEBOOK: \"facebook\",\n  REDDIT: \"reddit\",\n  DISCORD: \"discord\",\n  TWITCH: \"twitch\",\n  APPLE: \"apple\",\n  LINE: \"line\",\n  GITHUB: \"github\",\n  KAKAO: \"kakao\",\n  LINKEDIN: \"linkedin\",\n  TWITTER: \"twitter\",\n  WEIBO: \"weibo\",\n  WECHAT: \"wechat\",\n  EMAIL_PASSWORDLESS: \"email_passwordless\"\n};\nvar translations = {\n  en: {\n    embed: {\n      continue: \"Continue\",\n      actionRequired: \"Authorization required\",\n      pendingAction: \"Click continue to proceed with your request in a popup\",\n      cookiesRequired: \"Cookies Required\",\n      enableCookies: \"Please enable cookies in your browser preferences to access Torus\",\n      clickHere: \"More Info\"\n    }\n  },\n  de: {\n    embed: {\n      continue: \"Fortsetzen\",\n      actionRequired: \"Autorisierung erforderlich\",\n      pendingAction: \"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren\",\n      cookiesRequired: \"Cookies benötigt\",\n      enableCookies: \"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen\",\n      clickHere: \"Mehr Info\"\n    }\n  },\n  ja: {\n    embed: {\n      continue: \"継続する\",\n      actionRequired: \"認証が必要です\",\n      pendingAction: \"続行をクリックして、ポップアップでリクエストを続行します\",\n      cookiesRequired: \"必要なクッキー\",\n      enableCookies: \"Torusにアクセスするには、ブラウザの設定でCookieを有効にしてください。\",\n      clickHere: \"詳しくは\"\n    }\n  },\n  ko: {\n    embed: {\n      continue: \"계속하다\",\n      actionRequired: \"승인 필요\",\n      pendingAction: \"팝업에서 요청을 진행하려면 계속을 클릭하십시오.\",\n      cookiesRequired: \"쿠키 필요\",\n      enableCookies: \"브라우저 환경 설정에서 쿠키를 활성화하여 Torus에 액세스하십시오.\",\n      clickHere: \"더 많은 정보\"\n    }\n  },\n  zh: {\n    embed: {\n      continue: \"继续\",\n      actionRequired: \"需要授权\",\n      pendingAction: \"单击继续以在弹出窗口中继续您的请求\",\n      cookiesRequired: \"必填Cookie\",\n      enableCookies: \"请在您的浏览器首选项中启用cookie以访问Torus。\",\n      clickHere: \"更多信息\"\n    }\n  }\n};\nvar configuration = {\n  supportedVerifierList: [LOGIN_PROVIDER.GOOGLE, LOGIN_PROVIDER.REDDIT, LOGIN_PROVIDER.DISCORD],\n  api: \"https://api.tor.us\",\n  translations: translations,\n  prodTorusUrl: \"\",\n  localStorageKey: \"torus-\".concat(window.location.hostname)\n};\nvar log = loglevel__WEBPACK_IMPORTED_MODULE_16___default.a.getLogger(\"solana-embed\");\n/**\n * json-rpc-engine middleware that logs RPC errors and and validates req.method.\n *\n * @param log - The logging API to use.\n * @returns  json-rpc-engine middleware function\n */\n\nfunction createErrorMiddleware() {\n  return function (req, res, next) {\n    // json-rpc-engine will terminate the request when it notices this error\n    if (typeof req.method !== \"string\" || !req.method) {\n      res.error = eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__[\"ethErrors\"].rpc.invalidRequest({\n        message: \"The request 'method' must be a non-empty string.\",\n        data: req\n      });\n    }\n\n    next(function (done) {\n      var error = res.error;\n\n      if (!error) {\n        return done();\n      }\n\n      log.error(\"Torus - RPC Error: \".concat(error.message), error);\n      return done();\n    });\n  };\n}\n/**\n * Logs a stream disconnection error. Emits an 'error' if given an\n * EventEmitter that has listeners for the 'error' event.\n *\n * @param log - The logging API to use.\n * @param remoteLabel - The label of the disconnected stream.\n * @param error - The associated error to log.\n * @param emitter - The logging API to use.\n */\n\n\nfunction logStreamDisconnectWarning(remoteLabel, error, emitter) {\n  var warningMsg = \"Torus: Lost connection to \\\"\".concat(remoteLabel, \"\\\".\");\n\n  if (error !== null && error !== void 0 && error.stack) {\n    warningMsg += \"\\n\".concat(error.stack);\n  }\n\n  log.warn(warningMsg);\n\n  if (emitter && emitter.listenerCount(\"error\") > 0) {\n    emitter.emit(\"error\", warningMsg);\n  }\n}\n\nvar getWindowId = function getWindowId() {\n  return Math.random().toString(36).slice(2);\n};\n\nvar getTorusUrl = /*#__PURE__*/function () {\n  var _ref2 = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee(buildEnv) {\n    var torusUrl, logLevel;\n    return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.t0 = buildEnv;\n            _context.next = _context.t0 === \"testing\" ? 3 : _context.t0 === \"development\" ? 6 : 9;\n            break;\n\n          case 3:\n            torusUrl = \"https://solana-testing.tor.us\";\n            logLevel = \"debug\";\n            return _context.abrupt(\"break\", 12);\n\n          case 6:\n            torusUrl = \"http://localhost:8080\";\n            logLevel = \"debug\";\n            return _context.abrupt(\"break\", 12);\n\n          case 9:\n            torusUrl = \"https://solana.tor.us\";\n            logLevel = \"error\";\n            return _context.abrupt(\"break\", 12);\n\n          case 12:\n            return _context.abrupt(\"return\", {\n              torusUrl: torusUrl,\n              logLevel: logLevel\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getTorusUrl(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getUserLanguage = function getUserLanguage() {\n  var userLanguage = window.navigator.language || \"en-US\";\n  var userLanguages = userLanguage.split(\"-\");\n  userLanguage = Object.prototype.hasOwnProperty.call(configuration.translations, userLanguages[0]) ? userLanguages[0] : \"en\";\n  return userLanguage;\n};\n\nvar FEATURES_PROVIDER_CHANGE_WINDOW = {\n  height: 660,\n  width: 375\n};\nvar FEATURES_DEFAULT_WALLET_WINDOW = {\n  height: 740,\n  width: 1315\n};\nvar FEATURES_DEFAULT_POPUP_WINDOW = {\n  height: 700,\n  width: 1200\n};\nvar FEATURES_CONFIRM_WINDOW = {\n  height: 600,\n  width: 400\n};\n\nfunction storageAvailable(type) {\n  var storage;\n\n  try {\n    storage = window[type];\n    var x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return e && ( // everything except Firefox\n    e.code === 22 || // Firefox\n    e.code === 1014 || // test name field too, because code might not be present\n    // everything except Firefox\n    e.name === \"QuotaExceededError\" || // Firefox\n    e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") && // acknowledge QuotaExceededError only if there's something already stored\n    storage && storage.length !== 0;\n  }\n}\n/**\n * popup handler utils\n */\n\n\nfunction getPopupFeatures(_ref) {\n  var w = _ref.width,\n      h = _ref.height; // Fixes dual-screen position                             Most browsers      Firefox\n\n  var dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  var dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n  var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;\n  var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;\n  var systemZoom = 1; // No reliable estimate\n\n  var left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n  var top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n  var features = \"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=\".concat(h / systemZoom, \",width=\").concat(w / systemZoom, \",top=\").concat(top, \",left=\").concat(left);\n  return features;\n}\n\nvar BaseProvider = /*#__PURE__*/function (_SafeEventEmitter) {\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(BaseProvider, _SafeEventEmitter);\n\n  var _super = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(BaseProvider);\n\n  /**\n   * Indicating that this provider is a Torus provider.\n   */\n  function BaseProvider(connectionStream, _ref) {\n    var _this;\n\n    Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this, BaseProvider);\n\n    var _ref$maxEventListener = _ref.maxEventListeners,\n        maxEventListeners = _ref$maxEventListener === void 0 ? 100 : _ref$maxEventListener,\n        _ref$jsonRpcStreamNam = _ref.jsonRpcStreamName,\n        jsonRpcStreamName = _ref$jsonRpcStreamNam === void 0 ? \"provider\" : _ref$jsonRpcStreamNam;\n    _this = _super.call(this);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"isTorus\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"_rpcEngine\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"jsonRpcConnectionEvents\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"_state\", void 0);\n\n    if (!Object(is_stream__WEBPACK_IMPORTED_MODULE_14__[\"duplex\"])(connectionStream)) {\n      throw new Error(messages.errors.invalidDuplexStream());\n    }\n\n    _this.isTorus = true;\n\n    _this.setMaxListeners(maxEventListeners);\n\n    _this._handleConnect = _this._handleConnect.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this));\n    _this._handleDisconnect = _this._handleDisconnect.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this));\n    _this._handleStreamDisconnect = _this._handleStreamDisconnect.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this));\n    _this._rpcRequest = _this._rpcRequest.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this));\n    _this._initializeState = _this._initializeState.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this));\n    _this.request = _this.request.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this));\n    _this.sendAsync = _this.sendAsync.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this)); // this.enable = this.enable.bind(this);\n    // setup connectionStream multiplexing\n\n    var mux = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* ObjectMultiplex */ \"c\"]();\n    pump__WEBPACK_IMPORTED_MODULE_15___default()(connectionStream, mux, connectionStream, _this._handleStreamDisconnect.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"Torus\")); // ignore phishing warning message (handled elsewhere)\n\n    mux.ignoreStream(\"phishing\"); // setup own event listeners\n    // connect to async provider\n\n    var jsonRpcConnection = Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* createStreamMiddleware */ \"i\"])();\n    pump__WEBPACK_IMPORTED_MODULE_15___default()(jsonRpcConnection.stream, mux.createStream(jsonRpcStreamName), jsonRpcConnection.stream, _this._handleStreamDisconnect.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"Torus RpcProvider\")); // handle RPC requests via dapp-side rpc engine\n\n    var rpcEngine = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* JRPCEngine */ \"b\"]();\n    rpcEngine.push(Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* createIdRemapMiddleware */ \"g\"])());\n    rpcEngine.push(createErrorMiddleware());\n    rpcEngine.push(Object(_toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* createLoggerMiddleware */ \"h\"])({\n      origin: location.origin\n    }));\n    rpcEngine.push(jsonRpcConnection.middleware);\n    _this._rpcEngine = rpcEngine;\n    _this.jsonRpcConnectionEvents = jsonRpcConnection.events;\n    return _this;\n  }\n  /**\n   * Submits an RPC request for the given method, with the given params.\n   * Resolves with the result of the method call, or rejects on error.\n   */\n\n\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(BaseProvider, [{\n    key: \"request\",\n    value: function () {\n      var _request = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee2(args) {\n        var _this2 = this;\n\n        var method, params;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!args || typeof args !== \"object\" || Array.isArray(args))) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                throw eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__[\"ethErrors\"].rpc.invalidRequest({\n                  message: messages.errors.invalidRequestArgs(),\n                  data: args\n                });\n\n              case 2:\n                method = args.method, params = args.params;\n\n                if (!(typeof method !== \"string\" || method.length === 0)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__[\"ethErrors\"].rpc.invalidRequest({\n                  message: messages.errors.invalidRequestMethod(),\n                  data: args\n                });\n\n              case 5:\n                if (!(params !== undefined && !Array.isArray(params) && (typeof params !== \"object\" || params === null))) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                throw eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__[\"ethErrors\"].rpc.invalidRequest({\n                  message: messages.errors.invalidRequestParams(),\n                  data: args\n                });\n\n              case 7:\n                return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  _this2._rpcRequest({\n                    method: method,\n                    params: params\n                  }, Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* getRpcPromiseCallback */ \"j\"])(resolve, reject));\n                }));\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function request(_x2) {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n    /**\n     * Submits an RPC request per the given JSON-RPC request object.\n     */\n\n  }, {\n    key: \"send\",\n    value: function send(payload, callback) {\n      this._rpcRequest(payload, callback);\n    }\n    /**\n     * Submits an RPC request per the given JSON-RPC request object.\n     */\n\n  }, {\n    key: \"sendAsync\",\n    value: function sendAsync(payload) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this3._rpcRequest(payload, Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* getRpcPromiseCallback */ \"j\"])(resolve, reject));\n      });\n    }\n    /**\n     * Called when connection is lost to critical streams.\n     *\n     * emits TorusInpageProvider#disconnect\n     */\n\n  }, {\n    key: \"_handleStreamDisconnect\",\n    value: function _handleStreamDisconnect(streamName, error) {\n      logStreamDisconnectWarning(streamName, error, this);\n\n      this._handleDisconnect(false, error ? error.message : undefined);\n    }\n  }]);\n\n  return BaseProvider;\n}(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* SafeEventEmitter */ \"e\"]);\n\nvar handleEvent = function handleEvent(handle, eventName, handler) {\n  for (var _len = arguments.length, handlerArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    handlerArgs[_key - 3] = arguments[_key];\n  }\n\n  var handlerWrapper = function handlerWrapper() {\n    handler.apply(void 0, handlerArgs);\n    handle.removeEventListener(eventName, handlerWrapper);\n  };\n\n  handle.addEventListener(eventName, handlerWrapper);\n};\n\nfunction documentReady() {\n  return _documentReady.apply(this, arguments);\n}\n\nfunction _documentReady() {\n  _documentReady = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee26() {\n    return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee26$(_context26) {\n      while (1) {\n        switch (_context26.prev = _context26.next) {\n          case 0:\n            return _context26.abrupt(\"return\", new Promise(function (resolve) {\n              if (document.readyState !== \"loading\") {\n                resolve();\n              } else {\n                handleEvent(document, \"DOMContentLoaded\", resolve);\n              }\n            }));\n\n          case 1:\n          case \"end\":\n            return _context26.stop();\n        }\n      }\n    }, _callee26);\n  }));\n  return _documentReady.apply(this, arguments);\n}\n\nvar htmlToElement = function htmlToElement(html) {\n  var template = window.document.createElement(\"template\");\n  var trimmedHtml = html.trim(); // Never return a text node of whitespace as the result\n\n  template.innerHTML = trimmedHtml;\n  return template.content.firstChild;\n};\n\nvar PopupHandler = /*#__PURE__*/function (_SafeEventEmitter2) {\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(PopupHandler, _SafeEventEmitter2);\n\n  var _super2 = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(PopupHandler);\n\n  function PopupHandler(_ref) {\n    var _this4;\n\n    Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this, PopupHandler);\n\n    var url = _ref.url,\n        target = _ref.target,\n        features = _ref.features;\n    _this4 = _super2.call(this);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this4), \"url\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this4), \"target\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this4), \"features\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this4), \"window\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this4), \"windowTimer\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this4), \"iClosedWindow\", void 0);\n\n    _this4.url = url;\n    _this4.target = target || \"_blank\";\n    _this4.features = features || getPopupFeatures(FEATURES_DEFAULT_POPUP_WINDOW);\n    _this4.window = undefined;\n    _this4.windowTimer = undefined;\n    _this4.iClosedWindow = false;\n\n    _this4._setupTimer();\n\n    return _this4;\n  }\n\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(PopupHandler, [{\n    key: \"_setupTimer\",\n    value: function _setupTimer() {\n      var _this5 = this;\n\n      this.windowTimer = Number(setInterval(function () {\n        if (_this5.window && _this5.window.closed) {\n          clearInterval(_this5.windowTimer);\n\n          if (!_this5.iClosedWindow) {\n            _this5.emit(\"close\");\n          }\n\n          _this5.iClosedWindow = false;\n          _this5.window = undefined;\n        }\n\n        if (_this5.window === undefined) clearInterval(_this5.windowTimer);\n      }, 500));\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this$window;\n\n      this.window = window.open(this.url.href, this.target, this.features);\n      if ((_this$window = this.window) !== null && _this$window !== void 0 && _this$window.focus) this.window.focus();\n      return Promise.resolve();\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.iClosedWindow = true;\n      if (this.window) this.window.close();\n    }\n  }, {\n    key: \"redirect\",\n    value: function redirect(locationReplaceOnRedirect) {\n      if (locationReplaceOnRedirect) {\n        window.location.replace(this.url.href);\n      } else {\n        window.location.href = this.url.href;\n      }\n    }\n  }]);\n\n  return PopupHandler;\n}(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* SafeEventEmitter */ \"e\"]);\n\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) {\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar TorusCommunicationProvider = /*#__PURE__*/function (_BaseProvider) {\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(TorusCommunicationProvider, _BaseProvider);\n\n  var _super3 = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(TorusCommunicationProvider);\n\n  function TorusCommunicationProvider(connectionStream, _ref) {\n    var _this6;\n\n    Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this, TorusCommunicationProvider);\n\n    var _ref$maxEventListener2 = _ref.maxEventListeners,\n        maxEventListeners = _ref$maxEventListener2 === void 0 ? 100 : _ref$maxEventListener2,\n        _ref$jsonRpcStreamNam2 = _ref.jsonRpcStreamName,\n        jsonRpcStreamName = _ref$jsonRpcStreamNam2 === void 0 ? \"provider\" : _ref$jsonRpcStreamNam2;\n    _this6 = _super3.call(this, connectionStream, {\n      maxEventListeners: maxEventListeners,\n      jsonRpcStreamName: jsonRpcStreamName\n    }); // private state\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this6), \"embedTranslations\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this6), \"torusUrl\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this6), \"dappStorageKey\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this6), \"windowRefs\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this6), \"tryWindowHandle\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this6), \"torusAlertContainer\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this6), \"torusIframe\", void 0);\n\n    _this6._state = _objectSpread$2({}, TorusCommunicationProvider._defaultState); // public state\n\n    _this6.torusUrl = \"\";\n    _this6.dappStorageKey = \"\";\n    var languageTranslations = configuration.translations[getUserLanguage()];\n    _this6.embedTranslations = languageTranslations.embed;\n    _this6.windowRefs = {}; // setup own event listeners\n    // EIP-1193 connect\n\n    _this6.on(\"connect\", function () {\n      _this6._state.isConnected = true;\n    });\n\n    var notificationHandler = function notificationHandler(payload) {\n      var method = payload.method,\n          params = payload.params;\n\n      if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_NOTIFICATIONS */ \"c\"].IFRAME_STATUS) {\n        var isFullScreen = params.isFullScreen,\n            rid = params.rid;\n\n        _this6._displayIframe({\n          isFull: isFullScreen,\n          rid: rid\n        });\n      } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_NOTIFICATIONS */ \"c\"].CREATE_WINDOW) {\n        var windowId = params.windowId,\n            url = params.url;\n\n        _this6._createPopupBlockAlert(windowId, url);\n      } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_NOTIFICATIONS */ \"c\"].CLOSE_WINDOW) {\n        _this6._handleCloseWindow(params);\n      } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_NOTIFICATIONS */ \"c\"].USER_LOGGED_IN) {\n        var currentLoginProvider = params.currentLoginProvider;\n        _this6._state.isLoggedIn = true;\n        _this6._state.currentLoginProvider = currentLoginProvider;\n      } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_NOTIFICATIONS */ \"c\"].USER_LOGGED_OUT) {\n        _this6._state.isLoggedIn = false;\n        _this6._state.currentLoginProvider = null;\n\n        _this6._displayIframe();\n      }\n    };\n\n    _this6.jsonRpcConnectionEvents.on(\"notification\", notificationHandler);\n\n    return _this6;\n  }\n\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(TorusCommunicationProvider, [{\n    key: \"isLoggedIn\",\n    get: function get() {\n      return this._state.isLoggedIn;\n    }\n  }, {\n    key: \"isIFrameFullScreen\",\n    get: function get() {\n      return this._state.isIFrameFullScreen;\n    }\n    /**\n     * Returns whether the inPage provider is connected to Torus.\n     */\n\n  }, {\n    key: \"isConnected\",\n    value: function isConnected() {\n      return this._state.isConnected;\n    }\n  }, {\n    key: \"_initializeState\",\n    value: function () {\n      var _initializeState2 = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee3(params) {\n        var _this7 = this;\n\n        var torusUrl, dappStorageKey, torusAlertContainer, torusIframe, _yield$this$request, currentLoginProvider, isLoggedIn;\n\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                torusUrl = params.torusUrl, dappStorageKey = params.dappStorageKey, torusAlertContainer = params.torusAlertContainer, torusIframe = params.torusIframe;\n                this.torusUrl = torusUrl;\n                this.dappStorageKey = dappStorageKey;\n                this.torusAlertContainer = torusAlertContainer;\n                this.torusIframe = torusIframe;\n                this.torusIframe.addEventListener(\"load\", function () {\n                  // only do this if iframe is not full screen\n                  if (!_this7._state.isIFrameFullScreen) _this7._displayIframe();\n                });\n                _context3.next = 9;\n                return this.request({\n                  method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_JRPC_METHODS */ \"b\"].GET_PROVIDER_STATE,\n                  params: []\n                });\n\n              case 9:\n                _yield$this$request = _context3.sent;\n                currentLoginProvider = _yield$this$request.currentLoginProvider;\n                isLoggedIn = _yield$this$request.isLoggedIn;\n\n                // indicate that we've connected, for EIP-1193 compliance\n                this._handleConnect(currentLoginProvider, isLoggedIn);\n\n                _context3.next = 18;\n                break;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.t0 = _context3[\"catch\"](0);\n                log.error(\"Torus: Failed to get initial state. Please report this bug.\", _context3.t0);\n\n              case 18:\n                _context3.prev = 18;\n                log.info(\"initialized communication state\");\n                this._state.initialized = true;\n                this.emit(\"_initialized\");\n                return _context3.finish(18);\n\n              case 23:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 15, 18, 23]]);\n      }));\n\n      function _initializeState(_x3) {\n        return _initializeState2.apply(this, arguments);\n      }\n\n      return _initializeState;\n    }()\n  }, {\n    key: \"_handleWindow\",\n    value: function _handleWindow(windowId) {\n      var _this8 = this;\n\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          url = _ref3.url,\n          target = _ref3.target,\n          features = _ref3.features;\n\n      var finalUrl = new URL(url || \"\".concat(this.torusUrl, \"/redirect?windowId=\").concat(windowId));\n\n      if (this.dappStorageKey) {\n        // If multiple instances, it returns the first one\n        if (finalUrl.hash) finalUrl.hash += \"&dappStorageKey=\".concat(this.dappStorageKey);else finalUrl.hash = \"#dappStorageKey=\".concat(this.dappStorageKey);\n      }\n\n      var handledWindow = new PopupHandler({\n        url: finalUrl,\n        target: target,\n        features: features\n      });\n      handledWindow.open();\n\n      if (!handledWindow.window) {\n        this._createPopupBlockAlert(windowId, finalUrl.href);\n\n        return;\n      } // Add to collection only if window is opened\n\n\n      this.windowRefs[windowId] = handledWindow; // We tell the iframe that the window has been successfully opened\n\n      this.request({\n        method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_JRPC_METHODS */ \"b\"].OPENED_WINDOW,\n        params: {\n          windowId: windowId\n        }\n      });\n      handledWindow.once(\"close\", function () {\n        // user closed the window\n        delete _this8.windowRefs[windowId];\n\n        _this8.request({\n          method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_JRPC_METHODS */ \"b\"].CLOSED_WINDOW,\n          params: {\n            windowId: windowId\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_displayIframe\",\n    value: function _displayIframe() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$isFull = _ref4.isFull,\n          isFull = _ref4$isFull === void 0 ? false : _ref4$isFull,\n          _ref4$rid = _ref4.rid,\n          rid = _ref4$rid === void 0 ? \"\" : _ref4$rid;\n\n      var style = {}; // set phase\n\n      if (!isFull) {\n        style.display = this._state.torusWidgetVisibility ? \"block\" : \"none\";\n        style.height = \"70px\";\n        style.width = \"70px\";\n\n        switch (this._state.buttonPosition) {\n          case BUTTON_POSITION.TOP_LEFT:\n            style.top = \"0px\";\n            style.left = \"0px\";\n            style.right = \"auto\";\n            style.bottom = \"auto\";\n            break;\n\n          case BUTTON_POSITION.TOP_RIGHT:\n            style.top = \"0px\";\n            style.right = \"0px\";\n            style.left = \"auto\";\n            style.bottom = \"auto\";\n            break;\n\n          case BUTTON_POSITION.BOTTOM_RIGHT:\n            style.bottom = \"0px\";\n            style.right = \"0px\";\n            style.top = \"auto\";\n            style.left = \"auto\";\n            break;\n\n          case BUTTON_POSITION.BOTTOM_LEFT:\n          default:\n            style.bottom = \"0px\";\n            style.left = \"0px\";\n            style.top = \"auto\";\n            style.right = \"auto\";\n            break;\n        }\n      } else {\n        style.display = \"block\";\n        style.width = \"100%\";\n        style.height = \"100%\";\n        style.top = \"0px\";\n        style.right = \"0px\";\n        style.left = \"0px\";\n        style.bottom = \"0px\";\n      }\n\n      Object.assign(this.torusIframe.style, style);\n      this._state.isIFrameFullScreen = isFull;\n      this.request({\n        method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_JRPC_METHODS */ \"b\"].IFRAME_STATUS,\n        params: {\n          isIFrameFullScreen: isFull,\n          rid: rid\n        }\n      });\n    }\n  }, {\n    key: \"hideTorusButton\",\n    value: function hideTorusButton() {\n      this._state.torusWidgetVisibility = false;\n\n      this._displayIframe();\n    }\n  }, {\n    key: \"showTorusButton\",\n    value: function showTorusButton() {\n      this._state.torusWidgetVisibility = true;\n\n      this._displayIframe();\n    }\n    /**\n     * Internal RPC method. Forwards requests to background via the RPC engine.\n     * Also remap ids inbound and outbound\n     */\n\n  }, {\n    key: \"_rpcRequest\",\n    value: function _rpcRequest(payload, callback) {\n      var cb = callback;\n      var _payload = payload;\n\n      if (!Array.isArray(_payload)) {\n        if (!_payload.jsonrpc) {\n          _payload.jsonrpc = \"2.0\";\n        }\n      }\n\n      this.tryWindowHandle(_payload, cb);\n    }\n    /**\n     * When the provider becomes connected, updates internal state and emits\n     * required events. Idempotent.\n     *\n     * @param currentLoginProvider - The login Provider\n     * emits TorusInpageProvider#connect\n     */\n\n  }, {\n    key: \"_handleConnect\",\n    value: function _handleConnect(currentLoginProvider, isLoggedIn) {\n      if (!this._state.isConnected) {\n        this._state.isConnected = true;\n        this.emit(\"connect\", {\n          currentLoginProvider: currentLoginProvider,\n          isLoggedIn: isLoggedIn\n        });\n        log.debug(messages.info.connected(currentLoginProvider));\n      }\n    }\n    /**\n     * When the provider becomes disconnected, updates internal state and emits\n     * required events. Idempotent with respect to the isRecoverable parameter.\n     *\n     * Error codes per the CloseEvent status codes as required by EIP-1193:\n     * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n     *\n     * @param isRecoverable - Whether the disconnection is recoverable.\n     * @param errorMessage - A custom error message.\n     * emits TorusInpageProvider#disconnect\n     */\n\n  }, {\n    key: \"_handleDisconnect\",\n    value: function _handleDisconnect(isRecoverable, errorMessage) {\n      if (this._state.isConnected || !this._state.isPermanentlyDisconnected && !isRecoverable) {\n        this._state.isConnected = false;\n        var error;\n\n        if (isRecoverable) {\n          error = new eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__[\"EthereumRpcError\"](1013, // Try again later\n          errorMessage || messages.errors.disconnected());\n          log.debug(error);\n        } else {\n          error = new eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__[\"EthereumRpcError\"](1011, // Internal error\n          errorMessage || messages.errors.permanentlyDisconnected());\n          log.error(error);\n          this._state.currentLoginProvider = null;\n          this._state.isLoggedIn = false;\n          this._state.torusWidgetVisibility = false;\n          this._state.isIFrameFullScreen = false;\n          this._state.isPermanentlyDisconnected = true;\n        }\n\n        this.emit(\"disconnect\", error);\n      }\n    } // Called if the iframe wants to close the window cause it is done processing the request\n\n  }, {\n    key: \"_handleCloseWindow\",\n    value: function _handleCloseWindow(params) {\n      var windowId = params.windowId;\n\n      if (this.windowRefs[windowId]) {\n        this.windowRefs[windowId].close();\n        delete this.windowRefs[windowId];\n      }\n    }\n  }, {\n    key: \"_createPopupBlockAlert\",\n    value: function () {\n      var _createPopupBlockAlert2 = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee4(windowId, url) {\n        var _this9 = this;\n\n        var logoUrl, torusAlert, successAlert, btnContainer, bindOnLoad, attachOnLoad;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                logoUrl = this.getLogoUrl();\n                torusAlert = htmlToElement('<div id=\"torusAlert\" class=\"torus-alert--v2\">' + \"<div id=\\\"torusAlert__logo\\\"><img src=\\\"\".concat(logoUrl, \"\\\" /></div>\") + \"<div>\" + \"<h1 id=\\\"torusAlert__title\\\">\".concat(this.embedTranslations.actionRequired, \"</h1>\") + \"<p id=\\\"torusAlert__desc\\\">\".concat(this.embedTranslations.pendingAction, \"</p>\") + \"</div>\" + \"</div>\");\n                successAlert = htmlToElement(\"<div><a id=\\\"torusAlert__btn\\\">\".concat(this.embedTranslations.continue, \"</a></div>\"));\n                btnContainer = htmlToElement('<div id=\"torusAlert__btn-container\"></div>');\n                btnContainer.appendChild(successAlert);\n                torusAlert.appendChild(btnContainer);\n\n                bindOnLoad = function bindOnLoad() {\n                  successAlert.addEventListener(\"click\", function () {\n                    _this9._handleWindow(windowId, {\n                      url: url,\n                      target: \"_blank\",\n                      features: getPopupFeatures(FEATURES_CONFIRM_WINDOW)\n                    });\n\n                    torusAlert.remove();\n                    if (_this9.torusAlertContainer.children.length === 0) _this9.torusAlertContainer.style.display = \"none\";\n                  });\n                };\n\n                attachOnLoad = function attachOnLoad() {\n                  _this9.torusAlertContainer.appendChild(torusAlert);\n                };\n\n                _context4.next = 10;\n                return documentReady();\n\n              case 10:\n                attachOnLoad();\n                bindOnLoad();\n                this.torusAlertContainer.style.display = \"block\";\n\n              case 13:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function _createPopupBlockAlert(_x4, _x5) {\n        return _createPopupBlockAlert2.apply(this, arguments);\n      }\n\n      return _createPopupBlockAlert;\n    }()\n  }, {\n    key: \"getLogoUrl\",\n    value: function getLogoUrl() {\n      var logoUrl = \"\".concat(this.torusUrl, \"/images/torus_icon-blue.svg\");\n      return logoUrl;\n    }\n  }]);\n\n  return TorusCommunicationProvider;\n}(BaseProvider);\n\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(TorusCommunicationProvider, \"_defaultState\", {\n  buttonPosition: \"bottom-left\",\n  currentLoginProvider: null,\n  isIFrameFullScreen: false,\n  hasEmittedConnection: false,\n  torusWidgetVisibility: false,\n  initialized: false,\n  isLoggedIn: false,\n  isPermanentlyDisconnected: false,\n  isConnected: false\n});\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) {\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar TorusInPageProvider = /*#__PURE__*/function (_BaseProvider2) {\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(TorusInPageProvider, _BaseProvider2);\n\n  var _super4 = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(TorusInPageProvider);\n\n  /**\n   * The chain ID of the currently connected Solana chain.\n   * See [chainId.network]{@link https://chainid.network} for more information.\n   */\n\n  /**\n   * The user's currently selected Solana address.\n   * If null, Torus is either locked or the user has not permitted any\n   * addresses to be viewed.\n   */\n  function TorusInPageProvider(connectionStream, _ref) {\n    var _this10;\n\n    Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this, TorusInPageProvider);\n\n    var _ref$maxEventListener3 = _ref.maxEventListeners,\n        maxEventListeners = _ref$maxEventListener3 === void 0 ? 100 : _ref$maxEventListener3,\n        _ref$jsonRpcStreamNam3 = _ref.jsonRpcStreamName,\n        jsonRpcStreamName = _ref$jsonRpcStreamNam3 === void 0 ? \"provider\" : _ref$jsonRpcStreamNam3;\n    _this10 = _super4.call(this, connectionStream, {\n      maxEventListeners: maxEventListeners,\n      jsonRpcStreamName: jsonRpcStreamName\n    }); // private state\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this10), \"chainId\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this10), \"selectedAddress\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this10), \"tryWindowHandle\", void 0);\n\n    _this10._state = _objectSpread$1({}, TorusInPageProvider._defaultState); // public state\n\n    _this10.selectedAddress = null;\n    _this10.chainId = null;\n    _this10._handleAccountsChanged = _this10._handleAccountsChanged.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this10));\n    _this10._handleChainChanged = _this10._handleChainChanged.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this10));\n    _this10._handleUnlockStateChanged = _this10._handleUnlockStateChanged.bind(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this10)); // setup own event listeners\n    // EIP-1193 connect\n\n    _this10.on(\"connect\", function () {\n      _this10._state.isConnected = true;\n    });\n\n    var jsonRpcNotificationHandler = function jsonRpcNotificationHandler(payload) {\n      var method = payload.method,\n          params = payload.params;\n\n      if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* PROVIDER_NOTIFICATIONS */ \"e\"].ACCOUNTS_CHANGED) {\n        _this10._handleAccountsChanged(params);\n      } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* PROVIDER_NOTIFICATIONS */ \"e\"].UNLOCK_STATE_CHANGED) {\n        _this10._handleUnlockStateChanged(params);\n      } else if (method === _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* PROVIDER_NOTIFICATIONS */ \"e\"].CHAIN_CHANGED) {\n        _this10._handleChainChanged(params);\n      }\n    }; // json rpc notification listener\n\n\n    _this10.jsonRpcConnectionEvents.on(\"notification\", jsonRpcNotificationHandler);\n\n    return _this10;\n  }\n  /**\n   * Returns whether the inpage provider is connected to Torus.\n   */\n\n\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(TorusInPageProvider, [{\n    key: \"isConnected\",\n    value: function isConnected() {\n      return this._state.isConnected;\n    } // Private Methods\n    //= ===================\n\n    /**\n     * Constructor helper.\n     * Populates initial state by calling 'wallet_getProviderState' and emits\n     * necessary events.\n     */\n\n  }, {\n    key: \"_initializeState\",\n    value: function () {\n      var _initializeState3 = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee5() {\n        var _yield$this$request2, accounts, chainId, isUnlocked;\n\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return this.request({\n                  method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* PROVIDER_JRPC_METHODS */ \"d\"].GET_PROVIDER_STATE,\n                  params: []\n                });\n\n              case 3:\n                _yield$this$request2 = _context5.sent;\n                accounts = _yield$this$request2.accounts;\n                chainId = _yield$this$request2.chainId;\n                isUnlocked = _yield$this$request2.isUnlocked;\n                // indicate that we've connected, for EIP-1193 compliance\n                this.emit(\"connect\", {\n                  chainId: chainId\n                });\n\n                this._handleChainChanged({\n                  chainId: chainId\n                });\n\n                this._handleUnlockStateChanged({\n                  accounts: accounts,\n                  isUnlocked: isUnlocked\n                });\n\n                this._handleAccountsChanged(accounts);\n\n                _context5.next = 16;\n                break;\n\n              case 13:\n                _context5.prev = 13;\n                _context5.t0 = _context5[\"catch\"](0);\n                log.error(\"Torus: Failed to get initial state. Please report this bug.\", _context5.t0);\n\n              case 16:\n                _context5.prev = 16;\n                log.info(\"initialized provider state\");\n                this._state.initialized = true;\n                this.emit(\"_initialized\");\n                return _context5.finish(16);\n\n              case 21:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 13, 16, 21]]);\n      }));\n\n      function _initializeState() {\n        return _initializeState3.apply(this, arguments);\n      }\n\n      return _initializeState;\n    }()\n    /**\n     * Internal RPC method. Forwards requests to background via the RPC engine.\n     * Also remap ids inbound and outbound\n     */\n\n  }, {\n    key: \"_rpcRequest\",\n    value: function _rpcRequest(payload, callback) {\n      var _this11 = this;\n\n      var isInternal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var cb = callback;\n      var _payload = payload;\n\n      if (!Array.isArray(_payload)) {\n        if (!_payload.jsonrpc) {\n          _payload.jsonrpc = \"2.0\";\n        }\n\n        if (_payload.method === \"solana_accounts\" || _payload.method === \"solana_requestAccounts\") {\n          // handle accounts changing\n          cb = function cb(err, res) {\n            _this11._handleAccountsChanged(res.result || [], _payload.method === \"solana_accounts\", isInternal);\n\n            callback(err, res);\n          };\n        } else if (_payload.method === \"wallet_getProviderState\") {\n          this._rpcEngine.handle(payload, cb);\n\n          return;\n        }\n      }\n\n      this.tryWindowHandle(_payload, cb);\n    }\n    /**\n     * When the provider becomes connected, updates internal state and emits\n     * required events. Idempotent.\n     *\n     * @param chainId - The ID of the newly connected chain.\n     * emits TorusInpageProvider#connect\n     */\n\n  }, {\n    key: \"_handleConnect\",\n    value: function _handleConnect(chainId) {\n      if (!this._state.isConnected) {\n        this._state.isConnected = true;\n        this.emit(\"connect\", {\n          chainId: chainId\n        });\n        log.debug(messages.info.connected(chainId));\n      }\n    }\n    /**\n     * When the provider becomes disconnected, updates internal state and emits\n     * required events. Idempotent with respect to the isRecoverable parameter.\n     *\n     * Error codes per the CloseEvent status codes as required by EIP-1193:\n     * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n     *\n     * @param isRecoverable - Whether the disconnection is recoverable.\n     * @param errorMessage - A custom error message.\n     * emits TorusInpageProvider#disconnect\n     */\n\n  }, {\n    key: \"_handleDisconnect\",\n    value: function _handleDisconnect(isRecoverable, errorMessage) {\n      if (this._state.isConnected || !this._state.isPermanentlyDisconnected && !isRecoverable) {\n        this._state.isConnected = false;\n        var error;\n\n        if (isRecoverable) {\n          error = new eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__[\"EthereumRpcError\"](1013, // Try again later\n          errorMessage || messages.errors.disconnected());\n          log.debug(error);\n        } else {\n          error = new eth_rpc_errors__WEBPACK_IMPORTED_MODULE_13__[\"EthereumRpcError\"](1011, // Internal error\n          errorMessage || messages.errors.permanentlyDisconnected());\n          log.error(error);\n          this.chainId = null;\n          this._state.accounts = null;\n          this.selectedAddress = null;\n          this._state.isUnlocked = false;\n          this._state.isPermanentlyDisconnected = true;\n        }\n\n        this.emit(\"disconnect\", error);\n      }\n    }\n    /**\n     * Called when accounts may have changed.\n     */\n\n  }, {\n    key: \"_handleAccountsChanged\",\n    value: function _handleAccountsChanged(accounts) {\n      var isEthAccounts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var isInternal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false; // defensive programming\n\n      var finalAccounts = accounts;\n\n      if (!Array.isArray(finalAccounts)) {\n        log.error(\"Torus: Received non-array accounts parameter. Please report this bug.\", finalAccounts);\n        finalAccounts = [];\n      }\n\n      var _iterator = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(accounts),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var account = _step.value;\n\n          if (typeof account !== \"string\") {\n            log.error(\"Torus: Received non-string account. Please report this bug.\", accounts);\n            finalAccounts = [];\n            break;\n          }\n        } // emit accountsChanged if anything about the accounts array has changed\n\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (!fast_deep_equal__WEBPACK_IMPORTED_MODULE_17___default()(this._state.accounts, finalAccounts)) {\n        // we should always have the correct accounts even before solana_accounts\n        // returns, except in cases where isInternal is true\n        if (isEthAccounts && Array.isArray(this._state.accounts) && this._state.accounts.length > 0 && !isInternal) {\n          log.error('Torus: \"solana_accounts\" unexpectedly updated accounts. Please report this bug.', finalAccounts);\n        }\n\n        this._state.accounts = finalAccounts;\n        this.emit(\"accountsChanged\", finalAccounts);\n      } // handle selectedAddress\n\n\n      if (this.selectedAddress !== finalAccounts[0]) {\n        this.selectedAddress = finalAccounts[0] || null;\n      }\n    }\n    /**\n     * Upon receipt of a new chainId and networkVersion, emits corresponding\n     * events and sets relevant public state.\n     * Does nothing if neither the chainId nor the networkVersion are different\n     * from existing values.\n     *\n     * emits TorusInpageProvider#chainChanged\n     * @param networkInfo - An object with network info.\n     */\n\n  }, {\n    key: \"_handleChainChanged\",\n    value: function _handleChainChanged() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          chainId = _ref5.chainId;\n\n      if (!chainId) {\n        log.error(\"Torus: Received invalid network parameters. Please report this bug.\", {\n          chainId: chainId\n        });\n        return;\n      }\n\n      if (chainId === \"loading\") {\n        this._handleDisconnect(true);\n      } else {\n        this._handleConnect(chainId);\n\n        if (chainId !== this.chainId) {\n          this.chainId = chainId;\n\n          if (this._state.initialized) {\n            this.emit(\"chainChanged\", this.chainId);\n          }\n        }\n      }\n    }\n    /**\n     * Upon receipt of a new isUnlocked state, sets relevant public state.\n     * Calls the accounts changed handler with the received accounts, or an empty\n     * array.\n     *\n     * Does nothing if the received value is equal to the existing value.\n     * There are no lock/unlock events.\n     *\n     * @param opts - Options bag.\n     */\n\n  }, {\n    key: \"_handleUnlockStateChanged\",\n    value: function _handleUnlockStateChanged() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          accounts = _ref6.accounts,\n          isUnlocked = _ref6.isUnlocked;\n\n      if (typeof isUnlocked !== \"boolean\") {\n        log.error(\"Torus: Received invalid isUnlocked parameter. Please report this bug.\", {\n          isUnlocked: isUnlocked\n        });\n        return;\n      }\n\n      if (isUnlocked !== this._state.isUnlocked) {\n        this._state.isUnlocked = isUnlocked;\n\n        this._handleAccountsChanged(accounts || []);\n      }\n    }\n  }]);\n\n  return TorusInPageProvider;\n}(BaseProvider);\n\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(TorusInPageProvider, \"_defaultState\", {\n  accounts: null,\n  isConnected: false,\n  isUnlocked: false,\n  initialized: false,\n  isPermanentlyDisconnected: false,\n  hasEmittedConnection: false\n});\n/**\n * Returns whether the given image URL exists\n */\n\n\nfunction imgExists(url) {\n  return new Promise(function (resolve, reject) {\n    try {\n      var img = document.createElement(\"img\");\n\n      img.onload = function () {\n        return resolve(true);\n      };\n\n      img.onerror = function () {\n        return resolve(false);\n      };\n\n      img.src = url;\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n/**\n * Extracts a name for the site from the DOM\n */\n\n\nvar getSiteName = function getSiteName(window) {\n  var document = window.document;\n  var siteName = document.querySelector('head > meta[property=\"og:site_name\"]');\n\n  if (siteName) {\n    return siteName.content;\n  }\n\n  var metaTitle = document.querySelector('head > meta[name=\"title\"]');\n\n  if (metaTitle) {\n    return metaTitle.content;\n  }\n\n  if (document.title && document.title.length > 0) {\n    return document.title;\n  }\n\n  return window.location.hostname;\n};\n/**\n * Extracts an icon for the site from the DOM\n */\n\n\nfunction getSiteIcon(_x6) {\n  return _getSiteIcon.apply(this, arguments);\n}\n/**\n * Gets site metadata and returns it\n *\n */\n\n\nfunction _getSiteIcon() {\n  _getSiteIcon = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee27(window) {\n    var _document, icon;\n\n    return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee27$(_context27) {\n      while (1) {\n        switch (_context27.prev = _context27.next) {\n          case 0:\n            _context27.prev = 0;\n            _document = window.document; // Use the site's favicon if it exists\n\n            icon = _document.querySelector('head > link[rel=\"shortcut icon\"]');\n            _context27.t0 = icon;\n\n            if (!_context27.t0) {\n              _context27.next = 8;\n              break;\n            }\n\n            _context27.next = 7;\n            return imgExists(icon.href);\n\n          case 7:\n            _context27.t0 = _context27.sent;\n\n          case 8:\n            if (!_context27.t0) {\n              _context27.next = 10;\n              break;\n            }\n\n            return _context27.abrupt(\"return\", icon.href);\n\n          case 10:\n            // Search through available icons in no particular order\n            icon = Array.from(_document.querySelectorAll('head > link[rel=\"icon\"]')).find(function (_icon) {\n              return Boolean(_icon.href);\n            });\n            _context27.t1 = icon;\n\n            if (!_context27.t1) {\n              _context27.next = 16;\n              break;\n            }\n\n            _context27.next = 15;\n            return imgExists(icon.href);\n\n          case 15:\n            _context27.t1 = _context27.sent;\n\n          case 16:\n            if (!_context27.t1) {\n              _context27.next = 18;\n              break;\n            }\n\n            return _context27.abrupt(\"return\", icon.href);\n\n          case 18:\n            return _context27.abrupt(\"return\", \"\");\n\n          case 21:\n            _context27.prev = 21;\n            _context27.t2 = _context27[\"catch\"](0);\n            return _context27.abrupt(\"return\", \"\");\n\n          case 24:\n          case \"end\":\n            return _context27.stop();\n        }\n      }\n    }, _callee27, null, [[0, 21]]);\n  }));\n  return _getSiteIcon.apply(this, arguments);\n}\n\nvar getSiteMetadata = /*#__PURE__*/function () {\n  var _ref7 = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee6() {\n    return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.t0 = getSiteName(window);\n            _context6.next = 3;\n            return getSiteIcon(window);\n\n          case 3:\n            _context6.t1 = _context6.sent;\n            return _context6.abrupt(\"return\", {\n              name: _context6.t0,\n              icon: _context6.t1\n            });\n\n          case 5:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function getSiteMetadata() {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar PROVIDER_UNSAFE_METHODS = [\"send_transaction\", \"sign_transaction\", \"sign_all_transactions\", \"sign_message\", \"connect\"];\nvar COMMUNICATION_UNSAFE_METHODS = [_toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_JRPC_METHODS */ \"b\"].SET_PROVIDER];\nvar isLocalStorageAvailable = storageAvailable(\"localStorage\"); // preload for iframe doesn't work https://bugs.chromium.org/p/chromium/issues/detail?id=593267\n\n(function () {\n  var _preLoadIframe = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee7() {\n    var torusIframeHtml, _yield$getTorusUrl, torusUrl;\n\n    return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.prev = 0;\n\n            if (!(typeof document === \"undefined\")) {\n              _context7.next = 3;\n              break;\n            }\n\n            return _context7.abrupt(\"return\");\n\n          case 3:\n            torusIframeHtml = document.createElement(\"link\");\n            _context7.next = 6;\n            return getTorusUrl(\"production\");\n\n          case 6:\n            _yield$getTorusUrl = _context7.sent;\n            torusUrl = _yield$getTorusUrl.torusUrl;\n            torusIframeHtml.href = \"\".concat(torusUrl, \"/frame\");\n            torusIframeHtml.crossOrigin = \"anonymous\";\n            torusIframeHtml.type = \"text/html\";\n            torusIframeHtml.rel = \"prefetch\";\n\n            if (torusIframeHtml.relList && torusIframeHtml.relList.supports) {\n              if (torusIframeHtml.relList.supports(\"prefetch\")) {\n                document.head.appendChild(torusIframeHtml);\n              }\n            }\n\n            _context7.next = 18;\n            break;\n\n          case 15:\n            _context7.prev = 15;\n            _context7.t0 = _context7[\"catch\"](0);\n            log.warn(_context7.t0);\n\n          case 18:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, null, [[0, 15]]);\n  }));\n\n  function preLoadIframe() {\n    return _preLoadIframe.apply(this, arguments);\n  }\n\n  return preLoadIframe;\n})()();\n\nvar Torus = /*#__PURE__*/function () {\n  function Torus() {\n    Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this, Torus);\n\n    var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref8$modalZIndex = _ref8.modalZIndex,\n        modalZIndex = _ref8$modalZIndex === void 0 ? 99999 : _ref8$modalZIndex;\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isInitialized\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"torusAlert\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"modalZIndex\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"alertZIndex\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"requestedLoginProvider\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"provider\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"communicationProvider\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"dappStorageKey\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"torusAlertContainer\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"torusUrl\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"torusIframe\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"styleLink\", void 0);\n\n    this.torusUrl = \"\";\n    this.isInitialized = false; // init done\n\n    this.requestedLoginProvider = null;\n    this.modalZIndex = modalZIndex;\n    this.alertZIndex = modalZIndex + 1000;\n    this.dappStorageKey = \"\";\n  }\n\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Torus, [{\n    key: \"isLoggedIn\",\n    get: function get() {\n      if (!this.communicationProvider) return false;\n      return this.communicationProvider.isLoggedIn;\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee10() {\n        var _this12 = this;\n\n        var _ref9,\n            _ref9$buildEnv,\n            buildEnv,\n            _ref9$enableLogging,\n            enableLogging,\n            network,\n            _ref9$showTorusButton,\n            showTorusButton,\n            _ref9$useLocalStorage,\n            useLocalStorage,\n            _ref9$buttonPosition,\n            buttonPosition,\n            _ref9$apiKey,\n            apiKey,\n            _ref9$extraParams,\n            extraParams,\n            _yield$getTorusUrl2,\n            torusUrl,\n            logLevel,\n            dappStorageKey,\n            torusIframeUrl,\n            hashParams,\n            handleSetup,\n            _args10 = arguments;\n\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _ref9 = _args10.length > 0 && _args10[0] !== undefined ? _args10[0] : {}, _ref9$buildEnv = _ref9.buildEnv, buildEnv = _ref9$buildEnv === void 0 ? TORUS_BUILD_ENV.PRODUCTION : _ref9$buildEnv, _ref9$enableLogging = _ref9.enableLogging, enableLogging = _ref9$enableLogging === void 0 ? false : _ref9$enableLogging, network = _ref9.network, _ref9$showTorusButton = _ref9.showTorusButton, showTorusButton = _ref9$showTorusButton === void 0 ? false : _ref9$showTorusButton, _ref9$useLocalStorage = _ref9.useLocalStorage, useLocalStorage = _ref9$useLocalStorage === void 0 ? false : _ref9$useLocalStorage, _ref9$buttonPosition = _ref9.buttonPosition, buttonPosition = _ref9$buttonPosition === void 0 ? BUTTON_POSITION.BOTTOM_LEFT : _ref9$buttonPosition, _ref9$apiKey = _ref9.apiKey, apiKey = _ref9$apiKey === void 0 ? \"torus-default\" : _ref9$apiKey, _ref9$extraParams = _ref9.extraParams, extraParams = _ref9$extraParams === void 0 ? {} : _ref9$extraParams;\n\n                if (!this.isInitialized) {\n                  _context10.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Already initialized\");\n\n              case 3:\n                Object(_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_11__[/* setAPIKey */ \"e\"])(apiKey);\n                _context10.next = 6;\n                return getTorusUrl(buildEnv);\n\n              case 6:\n                _yield$getTorusUrl2 = _context10.sent;\n                torusUrl = _yield$getTorusUrl2.torusUrl;\n                logLevel = _yield$getTorusUrl2.logLevel;\n                log.info(torusUrl, \"url loaded\");\n                this.torusUrl = torusUrl;\n                log.setDefaultLevel(logLevel);\n                if (enableLogging) log.enableAll();else log.disableAll();\n                dappStorageKey = this.handleDappStorageKey(useLocalStorage);\n                torusIframeUrl = new URL(torusUrl);\n                if (torusIframeUrl.pathname.endsWith(\"/\")) torusIframeUrl.pathname += \"frame\";else torusIframeUrl.pathname += \"/frame\";\n                hashParams = new URLSearchParams();\n                if (dappStorageKey) hashParams.append(\"dappStorageKey\", dappStorageKey);\n                hashParams.append(\"origin\", window.location.origin);\n                torusIframeUrl.hash = hashParams.toString(); // Iframe code\n\n                this.torusIframe = htmlToElement(\"<iframe\\n        id=\\\"torusIframe\\\"\\n        class=\\\"torusIframe\\\"\\n        src=\\\"\".concat(torusIframeUrl.href, \"\\\"\\n        style=\\\"display: none; position: fixed; top: 0; right: 0; width: 100%;\\n        height: 100%; border: none; border-radius: 0; z-index: \").concat(this.modalZIndex.toString(), \"\\\"\\n      ></iframe>\"));\n                this.torusAlertContainer = htmlToElement(\"<div id=\\\"torusAlertContainer\\\" style=\\\"display:none; z-index: \".concat(this.alertZIndex.toString(), \"\\\"></div>\"));\n                this.styleLink = htmlToElement(\"<link href=\\\"\".concat(torusUrl, \"/css/widget.css\\\" rel=\\\"stylesheet\\\" type=\\\"text/css\\\">\"));\n\n                handleSetup = /*#__PURE__*/function () {\n                  var _ref10 = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee9() {\n                    return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee9$(_context9) {\n                      while (1) {\n                        switch (_context9.prev = _context9.next) {\n                          case 0:\n                            return _context9.abrupt(\"return\", new Promise(function (resolve, reject) {\n                              try {\n                                window.document.head.appendChild(_this12.styleLink);\n                                window.document.body.appendChild(_this12.torusIframe);\n                                window.document.body.appendChild(_this12.torusAlertContainer);\n\n                                _this12.torusIframe.addEventListener(\"load\", /*#__PURE__*/Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee8() {\n                                  var dappMetadata;\n                                  return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee8$(_context8) {\n                                    while (1) {\n                                      switch (_context8.prev = _context8.next) {\n                                        case 0:\n                                          _context8.next = 2;\n                                          return getSiteMetadata();\n\n                                        case 2:\n                                          dappMetadata = _context8.sent;\n\n                                          // send init params here\n                                          _this12.torusIframe.contentWindow.postMessage({\n                                            buttonPosition: buttonPosition,\n                                            apiKey: apiKey,\n                                            network: network,\n                                            dappMetadata: dappMetadata,\n                                            extraParams: extraParams\n                                          }, torusIframeUrl.origin);\n\n                                          _context8.next = 6;\n                                          return _this12._setupWeb3({\n                                            torusUrl: torusUrl\n                                          });\n\n                                        case 6:\n                                          if (showTorusButton) _this12.showTorusButton();else _this12.hideTorusButton();\n                                          _this12.isInitialized = true;\n                                          window.torus = _this12;\n                                          resolve();\n\n                                        case 10:\n                                        case \"end\":\n                                          return _context8.stop();\n                                      }\n                                    }\n                                  }, _callee8);\n                                })));\n                              } catch (error) {\n                                reject(error);\n                              }\n                            }));\n\n                          case 1:\n                          case \"end\":\n                            return _context9.stop();\n                        }\n                      }\n                    }, _callee9);\n                  }));\n\n                  return function handleSetup() {\n                    return _ref10.apply(this, arguments);\n                  };\n                }();\n\n                _context10.next = 26;\n                return documentReady();\n\n              case 26:\n                _context10.next = 28;\n                return handleSetup();\n\n              case 28:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee11() {\n        var _this13 = this;\n\n        var params,\n            res,\n            _args11 = arguments;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                params = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : {};\n\n                if (this.isInitialized) {\n                  _context11.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Call init() first\");\n\n              case 3:\n                _context11.prev = 3;\n                this.requestedLoginProvider = params.loginProvider || null;\n\n                if (!this.requestedLoginProvider) {\n                  this.communicationProvider._displayIframe({\n                    isFull: true\n                  });\n                } // If user is already logged in, we assume they have given access to the website\n\n\n                _context11.next = 8;\n                return new Promise(function (resolve, reject) {\n                  // We use this method because we want to update inPage provider state with account info\n                  _this13.provider._rpcRequest({\n                    method: \"solana_requestAccounts\",\n                    params: [_this13.requestedLoginProvider, params.login_hint]\n                  }, Object(_toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* getRpcPromiseCallback */ \"j\"])(resolve, reject));\n                });\n\n              case 8:\n                res = _context11.sent;\n\n                if (!(Array.isArray(res) && res.length > 0)) {\n                  _context11.next = 11;\n                  break;\n                }\n\n                return _context11.abrupt(\"return\", res);\n\n              case 11:\n                throw new Error(\"Login failed\");\n\n              case 14:\n                _context11.prev = 14;\n                _context11.t0 = _context11[\"catch\"](3);\n                log.error(\"login failed\", _context11.t0);\n                throw _context11.t0;\n\n              case 18:\n                _context11.prev = 18;\n                if (this.communicationProvider.isIFrameFullScreen) this.communicationProvider._displayIframe();\n                return _context11.finish(18);\n\n              case 21:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this, [[3, 14, 18, 21]]);\n      }));\n\n      function login() {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"loginWithPrivateKey\",\n    value: function () {\n      var _loginWithPrivateKey = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee12(loginParams) {\n        var privateKey, userInfo, _yield$this$communica, success;\n\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (this.isInitialized) {\n                  _context12.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Call init() first\");\n\n              case 2:\n                privateKey = loginParams.privateKey, userInfo = loginParams.userInfo;\n                _context12.next = 5;\n                return this.communicationProvider.request({\n                  method: \"login_with_private_key\",\n                  params: {\n                    privateKey: privateKey,\n                    userInfo: userInfo\n                  }\n                });\n\n              case 5:\n                _yield$this$communica = _context12.sent;\n                success = _yield$this$communica.success;\n\n                if (success) {\n                  _context12.next = 9;\n                  break;\n                }\n\n                throw new Error(\"Login Failed\");\n\n              case 9:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function loginWithPrivateKey(_x7) {\n        return _loginWithPrivateKey.apply(this, arguments);\n      }\n\n      return loginWithPrivateKey;\n    }()\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee13() {\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                if (this.communicationProvider.isLoggedIn) {\n                  _context13.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Not logged in\");\n\n              case 2:\n                _context13.next = 4;\n                return this.communicationProvider.request({\n                  method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_JRPC_METHODS */ \"b\"].LOGOUT,\n                  params: []\n                });\n\n              case 4:\n                this.requestedLoginProvider = null;\n\n              case 5:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }, {\n    key: \"cleanUp\",\n    value: function () {\n      var _cleanUp = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee14() {\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                if (!this.communicationProvider.isLoggedIn) {\n                  _context14.next = 3;\n                  break;\n                }\n\n                _context14.next = 3;\n                return this.logout();\n\n              case 3:\n                this.clearInit();\n\n              case 4:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function cleanUp() {\n        return _cleanUp.apply(this, arguments);\n      }\n\n      return cleanUp;\n    }()\n  }, {\n    key: \"clearInit\",\n    value: function clearInit() {\n      function isElement(element) {\n        return element instanceof Element || element instanceof Document;\n      }\n\n      if (isElement(this.styleLink) && window.document.body.contains(this.styleLink)) {\n        this.styleLink.remove();\n        this.styleLink = undefined;\n      }\n\n      if (isElement(this.torusIframe) && window.document.body.contains(this.torusIframe)) {\n        this.torusIframe.remove();\n        this.torusIframe = undefined;\n      }\n\n      if (isElement(this.torusAlertContainer) && window.document.body.contains(this.torusAlertContainer)) {\n        this.torusAlert = undefined;\n        this.torusAlertContainer.remove();\n        this.torusAlertContainer = undefined;\n      }\n\n      this.isInitialized = false;\n    }\n  }, {\n    key: \"hideTorusButton\",\n    value: function hideTorusButton() {\n      this.communicationProvider.hideTorusButton();\n    }\n  }, {\n    key: \"showTorusButton\",\n    value: function showTorusButton() {\n      this.communicationProvider.showTorusButton();\n    }\n  }, {\n    key: \"setProvider\",\n    value: function () {\n      var _setProvider = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee15(params) {\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.next = 2;\n                return this.communicationProvider.request({\n                  method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_JRPC_METHODS */ \"b\"].SET_PROVIDER,\n                  params: _objectSpread({}, params)\n                });\n\n              case 2:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function setProvider(_x8) {\n        return _setProvider.apply(this, arguments);\n      }\n\n      return setProvider;\n    }()\n  }, {\n    key: \"showWallet\",\n    value: function () {\n      var _showWallet = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee16(path) {\n        var params,\n            instanceId,\n            finalPath,\n            finalUrl,\n            walletWindow,\n            _args16 = arguments;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                params = _args16.length > 1 && _args16[1] !== undefined ? _args16[1] : {};\n                _context16.next = 3;\n                return this.communicationProvider.request({\n                  method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_JRPC_METHODS */ \"b\"].WALLET_INSTANCE_ID,\n                  params: []\n                });\n\n              case 3:\n                instanceId = _context16.sent;\n                finalPath = path ? \"/\".concat(path) : \"\";\n                finalUrl = new URL(\"\".concat(this.torusUrl, \"/wallet\").concat(finalPath)); // Using URL constructor to prevent js injection and allow parameter validation.!\n\n                finalUrl.searchParams.append(\"instanceId\", instanceId);\n                Object.keys(params).forEach(function (x) {\n                  finalUrl.searchParams.append(x, params[x]);\n                });\n\n                if (this.dappStorageKey) {\n                  finalUrl.hash = \"#dappStorageKey=\".concat(this.dappStorageKey);\n                } // No need to track this window state. Hence, no _handleWindow call.\n\n\n                walletWindow = new PopupHandler({\n                  url: finalUrl,\n                  features: getPopupFeatures(FEATURES_DEFAULT_WALLET_WINDOW)\n                });\n                walletWindow.open();\n\n              case 11:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function showWallet(_x9) {\n        return _showWallet.apply(this, arguments);\n      }\n\n      return showWallet;\n    }()\n  }, {\n    key: \"getUserInfo\",\n    value: function () {\n      var _getUserInfo = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee17() {\n        var userInfoResponse;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                _context17.next = 2;\n                return this.communicationProvider.request({\n                  method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_JRPC_METHODS */ \"b\"].USER_INFO,\n                  params: []\n                });\n\n              case 2:\n                userInfoResponse = _context17.sent;\n                return _context17.abrupt(\"return\", userInfoResponse);\n\n              case 4:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n\n      function getUserInfo() {\n        return _getUserInfo.apply(this, arguments);\n      }\n\n      return getUserInfo;\n    }()\n  }, {\n    key: \"initiateTopup\",\n    value: function () {\n      var _initiateTopup = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee18(provider, params) {\n        var windowId, topupResponse;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                if (this.isInitialized) {\n                  _context18.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Torus is not initialized\");\n\n              case 2:\n                windowId = getWindowId();\n\n                this.communicationProvider._handleWindow(windowId);\n\n                _context18.next = 6;\n                return this.communicationProvider.request({\n                  method: _toruslabs_base_controllers__WEBPACK_IMPORTED_MODULE_10__[/* COMMUNICATION_JRPC_METHODS */ \"b\"].TOPUP,\n                  params: {\n                    provider: provider,\n                    params: params,\n                    windowId: windowId\n                  }\n                });\n\n              case 6:\n                topupResponse = _context18.sent;\n                return _context18.abrupt(\"return\", topupResponse);\n\n              case 8:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n\n      function initiateTopup(_x10, _x11) {\n        return _initiateTopup.apply(this, arguments);\n      }\n\n      return initiateTopup;\n    }() // Solana specific API\n\n  }, {\n    key: \"getAccounts\",\n    value: function () {\n      var _getAccounts = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee19() {\n        var response;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                _context19.next = 2;\n                return this.provider.request({\n                  method: \"getAccounts\",\n                  params: []\n                });\n\n              case 2:\n                response = _context19.sent;\n                return _context19.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this);\n      }));\n\n      function getAccounts() {\n        return _getAccounts.apply(this, arguments);\n      }\n\n      return getAccounts;\n    }()\n  }, {\n    key: \"sendTransaction\",\n    value: function () {\n      var _sendTransaction = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee20(transaction) {\n        var response;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee20$(_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                _context20.next = 2;\n                return this.provider.request({\n                  method: \"send_transaction\",\n                  params: {\n                    message: transaction.serialize({\n                      requireAllSignatures: false\n                    }).toString(\"hex\")\n                  }\n                });\n\n              case 2:\n                response = _context20.sent;\n                return _context20.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee20, this);\n      }));\n\n      function sendTransaction(_x12) {\n        return _sendTransaction.apply(this, arguments);\n      }\n\n      return sendTransaction;\n    }()\n  }, {\n    key: \"signTransaction\",\n    value: function () {\n      var _signTransaction = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee21(transaction) {\n        var response, parsed, signature;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                _context21.next = 2;\n                return this.provider.request({\n                  method: \"sign_transaction\",\n                  params: {\n                    message: transaction.serializeMessage().toString(\"hex\"),\n                    messageOnly: true\n                  }\n                });\n\n              case 2:\n                response = _context21.sent;\n                // reconstruct signature pair\n                parsed = JSON.parse(response);\n                signature = {\n                  publicKey: new _solana_web3_js__WEBPACK_IMPORTED_MODULE_9__[/* PublicKey */ \"c\"](parsed.publicKey),\n                  signature: Buffer.from(parsed.signature, \"hex\")\n                };\n                transaction.addSignature(signature.publicKey, signature.signature);\n                return _context21.abrupt(\"return\", transaction);\n\n              case 7:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21, this);\n      }));\n\n      function signTransaction(_x13) {\n        return _signTransaction.apply(this, arguments);\n      }\n\n      return signTransaction;\n    }()\n  }, {\n    key: \"signAllTransactions\",\n    value: function () {\n      var _signAllTransactions = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee22(transactions) {\n        var encodedMessage, responses, signatures;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee22$(_context22) {\n          while (1) {\n            switch (_context22.prev = _context22.next) {\n              case 0:\n                encodedMessage = transactions.map(function (tx) {\n                  return tx.serializeMessage().toString(\"hex\");\n                });\n                _context22.next = 3;\n                return this.provider.request({\n                  method: \"sign_all_transactions\",\n                  params: {\n                    message: encodedMessage,\n                    messageOnly: true\n                  }\n                });\n\n              case 3:\n                responses = _context22.sent;\n                // reconstruct signature pairs\n                signatures = responses.map(function (item) {\n                  var parsed = JSON.parse(item);\n                  return {\n                    publicKey: new _solana_web3_js__WEBPACK_IMPORTED_MODULE_9__[/* PublicKey */ \"c\"](parsed.publicKey),\n                    signature: Buffer.from(parsed.signature, \"hex\")\n                  };\n                });\n                transactions.forEach(function (tx, idx) {\n                  tx.addSignature(signatures[idx].publicKey, signatures[idx].signature);\n                  return tx;\n                });\n                return _context22.abrupt(\"return\", transactions);\n\n              case 7:\n              case \"end\":\n                return _context22.stop();\n            }\n          }\n        }, _callee22, this);\n      }));\n\n      function signAllTransactions(_x14) {\n        return _signAllTransactions.apply(this, arguments);\n      }\n\n      return signAllTransactions;\n    }()\n  }, {\n    key: \"signMessage\",\n    value: function () {\n      var _signMessage = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee23(data) {\n        var response;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee23$(_context23) {\n          while (1) {\n            switch (_context23.prev = _context23.next) {\n              case 0:\n                _context23.next = 2;\n                return this.provider.request({\n                  method: \"sign_message\",\n                  params: {\n                    data: data\n                  }\n                });\n\n              case 2:\n                response = _context23.sent;\n                return _context23.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context23.stop();\n            }\n          }\n        }, _callee23, this);\n      }));\n\n      function signMessage(_x15) {\n        return _signMessage.apply(this, arguments);\n      }\n\n      return signMessage;\n    }()\n  }, {\n    key: \"getGaslessPublicKey\",\n    value: function () {\n      var _getGaslessPublicKey = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee24() {\n        var response;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee24$(_context24) {\n          while (1) {\n            switch (_context24.prev = _context24.next) {\n              case 0:\n                _context24.next = 2;\n                return this.provider.request({\n                  method: \"get_gasless_public_key\",\n                  params: []\n                });\n\n              case 2:\n                response = _context24.sent;\n                return _context24.abrupt(\"return\", response);\n\n              case 4:\n              case \"end\":\n                return _context24.stop();\n            }\n          }\n        }, _callee24, this);\n      }));\n\n      function getGaslessPublicKey() {\n        return _getGaslessPublicKey.apply(this, arguments);\n      }\n\n      return getGaslessPublicKey;\n    }() // async connect(): Promise<boolean> {\n    //   const response = (await this.provider.request({\n    //     method: \"connect\",\n    //     params: {},\n    //   })) as boolean;\n    //   return response;\n    // }\n\n  }, {\n    key: \"handleDappStorageKey\",\n    value: function handleDappStorageKey(useLocalStorage) {\n      var dappStorageKey = \"\";\n\n      if (isLocalStorageAvailable && useLocalStorage) {\n        var storedKey = window.localStorage.getItem(configuration.localStorageKey);\n        if (storedKey) dappStorageKey = storedKey;else {\n          var generatedKey = \"torus-app-\".concat(getWindowId());\n          window.localStorage.setItem(configuration.localStorageKey, generatedKey);\n          dappStorageKey = generatedKey;\n        }\n      }\n\n      this.dappStorageKey = dappStorageKey;\n      return dappStorageKey;\n    }\n  }, {\n    key: \"_setupWeb3\",\n    value: function () {\n      var _setupWeb = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.mark(function _callee25(providerParams) {\n        var _this14 = this;\n\n        var providerStream, communicationStream, inPageProvider, communicationProvider, detectAccountRequestPrototypeModifier, proxiedInPageProvider, proxiedCommunicationProvider;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_7___default.a.wrap(function _callee25$(_context25) {\n          while (1) {\n            switch (_context25.prev = _context25.next) {\n              case 0:\n                log.info(\"setupWeb3 running\"); // setup background connection\n\n                providerStream = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* BasePostMessageStream */ \"a\"]({\n                  name: \"embed_torus\",\n                  target: \"iframe_torus\",\n                  targetWindow: this.torusIframe.contentWindow\n                }); // We create another LocalMessageDuplexStream for communication between dapp <> iframe\n\n                communicationStream = new _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_12__[/* BasePostMessageStream */ \"a\"]({\n                  name: \"embed_communication\",\n                  target: \"iframe_communication\",\n                  targetWindow: this.torusIframe.contentWindow\n                }); // compose the inPage provider\n\n                inPageProvider = new TorusInPageProvider(providerStream, {});\n                communicationProvider = new TorusCommunicationProvider(communicationStream, {});\n\n                inPageProvider.tryWindowHandle = function (payload, cb) {\n                  var _payload = payload;\n\n                  if (!Array.isArray(_payload) && PROVIDER_UNSAFE_METHODS.includes(_payload.method)) {\n                    if (!_this14.communicationProvider.isLoggedIn) throw new Error(\"User Not Logged In\");\n                    var windowId = getWindowId();\n\n                    communicationProvider._handleWindow(windowId, {\n                      target: \"_blank\",\n                      features: getPopupFeatures(FEATURES_CONFIRM_WINDOW)\n                    }); // for inPageProvider methods sending windowId in request instead of params\n                    // as params might be positional.\n\n\n                    _payload.windowId = windowId;\n                  }\n\n                  inPageProvider._rpcEngine.handle(_payload, cb);\n                };\n\n                communicationProvider.tryWindowHandle = function (payload, cb) {\n                  var _payload = payload;\n\n                  if (!Array.isArray(_payload) && COMMUNICATION_UNSAFE_METHODS.includes(_payload.method)) {\n                    var windowId = getWindowId();\n\n                    communicationProvider._handleWindow(windowId, {\n                      target: \"_blank\",\n                      features: getPopupFeatures(FEATURES_PROVIDER_CHANGE_WINDOW) // todo: are these features generic for all\n\n                    }); // for communication methods sending window id in jrpc req params\n\n\n                    _payload.params.windowId = windowId;\n                  }\n\n                  communicationProvider._rpcEngine.handle(_payload, cb);\n                }; // detect solana_requestAccounts and pipe to enable for now\n\n\n                detectAccountRequestPrototypeModifier = function detectAccountRequestPrototypeModifier(m) {\n                  var originalMethod = inPageProvider[m]; // eslint-disable-next-line @typescript-eslint/no-this-alias\n\n                  var self = _this14;\n\n                  inPageProvider[m] = function providerFunc(request, cb) {\n                    var method = request.method,\n                        _request$params = request.params,\n                        params = _request$params === void 0 ? [] : _request$params;\n\n                    if (method === \"solana_requestAccounts\") {\n                      if (!cb) return self.login({\n                        loginProvider: params[0]\n                      });\n                      self.login({\n                        loginProvider: params[0]\n                      }) // eslint-disable-next-line promise/no-callback-in-promise\n                      .then(function (res) {\n                        return cb(null, res);\n                      }) // eslint-disable-next-line promise/no-callback-in-promise\n                      .catch(function (err) {\n                        return cb(err);\n                      });\n                    }\n\n                    return originalMethod.apply(this, [request, cb]);\n                  };\n                }; // Detects call to solana_requestAccounts in request & sendAsync and passes to login\n\n\n                detectAccountRequestPrototypeModifier(\"request\");\n                detectAccountRequestPrototypeModifier(\"sendAsync\");\n                detectAccountRequestPrototypeModifier(\"send\");\n                proxiedInPageProvider = new Proxy(inPageProvider, {\n                  // straight up lie that we deleted the property so that it doesn't\n                  // throw an error in strict mode\n                  deleteProperty: function deleteProperty() {\n                    return true;\n                  }\n                });\n                proxiedCommunicationProvider = new Proxy(communicationProvider, {\n                  // straight up lie that we deleted the property so that it doesn't\n                  // throw an error in strict mode\n                  deleteProperty: function deleteProperty() {\n                    return true;\n                  }\n                });\n                this.provider = proxiedInPageProvider;\n                this.communicationProvider = proxiedCommunicationProvider;\n                _context25.next = 17;\n                return Promise.all([inPageProvider._initializeState(), communicationProvider._initializeState(_objectSpread(_objectSpread({}, providerParams), {}, {\n                  dappStorageKey: this.dappStorageKey,\n                  torusAlertContainer: this.torusAlertContainer,\n                  torusIframe: this.torusIframe\n                }))]);\n\n              case 17:\n                log.debug(\"Torus - injected provider\");\n\n              case 18:\n              case \"end\":\n                return _context25.stop();\n            }\n          }\n        }, _callee25, this);\n      }));\n\n      function _setupWeb3(_x16) {\n        return _setupWeb.apply(this, arguments);\n      }\n\n      return _setupWeb3;\n    }()\n  }]);\n\n  return Torus;\n}();\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(19).Buffer))\n\n/***/ }),\n\n/***/ 1481:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMessageFromCode = exports.serializeError = exports.EthereumProviderError = exports.EthereumRpcError = exports.ethErrors = exports.errorCodes = void 0;\n\nvar classes_1 = __webpack_require__(1336);\n\nObject.defineProperty(exports, \"EthereumRpcError\", {\n  enumerable: true,\n  get: function get() {\n    return classes_1.EthereumRpcError;\n  }\n});\nObject.defineProperty(exports, \"EthereumProviderError\", {\n  enumerable: true,\n  get: function get() {\n    return classes_1.EthereumProviderError;\n  }\n});\n\nvar utils_1 = __webpack_require__(1375);\n\nObject.defineProperty(exports, \"serializeError\", {\n  enumerable: true,\n  get: function get() {\n    return utils_1.serializeError;\n  }\n});\nObject.defineProperty(exports, \"getMessageFromCode\", {\n  enumerable: true,\n  get: function get() {\n    return utils_1.getMessageFromCode;\n  }\n});\n\nvar errors_1 = __webpack_require__(1482);\n\nObject.defineProperty(exports, \"ethErrors\", {\n  enumerable: true,\n  get: function get() {\n    return errors_1.ethErrors;\n  }\n});\n\nvar error_constants_1 = __webpack_require__(1337);\n\nObject.defineProperty(exports, \"errorCodes\", {\n  enumerable: true,\n  get: function get() {\n    return error_constants_1.errorCodes;\n  }\n});\n\n/***/ }),\n\n/***/ 1482:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = __webpack_require__(232).default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ethErrors = void 0;\n\nvar classes_1 = __webpack_require__(1336);\n\nvar utils_1 = __webpack_require__(1375);\n\nvar error_constants_1 = __webpack_require__(1337);\n\nexports.ethErrors = {\n  rpc: {\n    /**\n     * Get a JSON RPC 2.0 Parse (-32700) error.\n     */\n    parse: function parse(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse, arg);\n    },\n\n    /**\n     * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n     */\n    invalidRequest: function invalidRequest(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest, arg);\n    },\n\n    /**\n     * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n     */\n    invalidParams: function invalidParams(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams, arg);\n    },\n\n    /**\n     * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n     */\n    methodNotFound: function methodNotFound(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound, arg);\n    },\n\n    /**\n     * Get a JSON RPC 2.0 Internal (-32603) error.\n     */\n    internal: function internal(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal, arg);\n    },\n\n    /**\n     * Get a JSON RPC 2.0 Server error.\n     * Permits integer error codes in the [ -32099 <= -32005 ] range.\n     * Codes -32000 through -32004 are reserved by EIP-1474.\n     */\n    server: function server(opts) {\n      if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n        throw new Error('Ethereum RPC Server errors must provide single object argument.');\n      }\n\n      var code = opts.code;\n\n      if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n        throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');\n      }\n\n      return getEthJsonRpcError(code, opts);\n    },\n\n    /**\n     * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n     */\n    invalidInput: function invalidInput(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput, arg);\n    },\n\n    /**\n     * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n     */\n    resourceNotFound: function resourceNotFound(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound, arg);\n    },\n\n    /**\n     * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n     */\n    resourceUnavailable: function resourceUnavailable(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable, arg);\n    },\n\n    /**\n     * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n     */\n    transactionRejected: function transactionRejected(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected, arg);\n    },\n\n    /**\n     * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n     */\n    methodNotSupported: function methodNotSupported(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported, arg);\n    },\n\n    /**\n     * Get an Ethereum JSON RPC Limit Exceeded (-32005) error.\n     */\n    limitExceeded: function limitExceeded(arg) {\n      return getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded, arg);\n    }\n  },\n  provider: {\n    /**\n     * Get an Ethereum Provider User Rejected Request (4001) error.\n     */\n    userRejectedRequest: function userRejectedRequest(arg) {\n      return getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest, arg);\n    },\n\n    /**\n     * Get an Ethereum Provider Unauthorized (4100) error.\n     */\n    unauthorized: function unauthorized(arg) {\n      return getEthProviderError(error_constants_1.errorCodes.provider.unauthorized, arg);\n    },\n\n    /**\n     * Get an Ethereum Provider Unsupported Method (4200) error.\n     */\n    unsupportedMethod: function unsupportedMethod(arg) {\n      return getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod, arg);\n    },\n\n    /**\n     * Get an Ethereum Provider Not Connected (4900) error.\n     */\n    disconnected: function disconnected(arg) {\n      return getEthProviderError(error_constants_1.errorCodes.provider.disconnected, arg);\n    },\n\n    /**\n     * Get an Ethereum Provider Chain Not Connected (4901) error.\n     */\n    chainDisconnected: function chainDisconnected(arg) {\n      return getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected, arg);\n    },\n\n    /**\n     * Get a custom Ethereum Provider error.\n     */\n    custom: function custom(opts) {\n      if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n        throw new Error('Ethereum Provider custom errors must provide single object argument.');\n      }\n\n      var code = opts.code,\n          message = opts.message,\n          data = opts.data;\n\n      if (!message || typeof message !== 'string') {\n        throw new Error('\"message\" must be a nonempty string');\n      }\n\n      return new classes_1.EthereumProviderError(code, message, data);\n    }\n  }\n}; // Internal\n\nfunction getEthJsonRpcError(code, arg) {\n  var _parseOpts = parseOpts(arg),\n      _parseOpts2 = _slicedToArray(_parseOpts, 2),\n      message = _parseOpts2[0],\n      data = _parseOpts2[1];\n\n  return new classes_1.EthereumRpcError(code, message || utils_1.getMessageFromCode(code), data);\n}\n\nfunction getEthProviderError(code, arg) {\n  var _parseOpts3 = parseOpts(arg),\n      _parseOpts4 = _slicedToArray(_parseOpts3, 2),\n      message = _parseOpts4[0],\n      data = _parseOpts4[1];\n\n  return new classes_1.EthereumProviderError(code, message || utils_1.getMessageFromCode(code), data);\n}\n\nfunction parseOpts(arg) {\n  if (arg) {\n    if (typeof arg === 'string') {\n      return [arg];\n    } else if (typeof arg === 'object' && !Array.isArray(arg)) {\n      var message = arg.message,\n          data = arg.data;\n\n      if (message && typeof message !== 'string') {\n        throw new Error('Must specify string message.');\n      }\n\n      return [message || undefined, data];\n    }\n  }\n\n  return [];\n}\n\n/***/ }),\n\n/***/ 1570:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SolanaWalletAdapter\", function() { return SolanaWalletAdapter; });\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_get_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(42);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(32);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(10);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(1);\n/* harmony import */ var C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(14);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _toruslabs_solana_embed__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(1447);\n/* harmony import */ var _web3auth_base__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(13);\n/* harmony import */ var _web3auth_solana_provider__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(1338);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(28);\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_13__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar SolanaWalletAdapter = /*#__PURE__*/function (_BaseAdapter) {\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(SolanaWalletAdapter, _BaseAdapter);\n\n  var _super = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])(SolanaWalletAdapter);\n\n  function SolanaWalletAdapter() {\n    var _this;\n\n    Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(this, SolanaWalletAdapter);\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _this = _super.call(this);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"name\", _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WALLET_ADAPTERS */ \"i\"].TORUS_SOLANA);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"adapterNamespace\", _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_NAMESPACES */ \"c\"].SOLANA);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"currentChainNamespace\", _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* CHAIN_NAMESPACES */ \"f\"].SOLANA);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"type\", _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_CATEGORY */ \"a\"].EXTERNAL);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"status\", _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].NOT_READY);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"torusInstance\", null);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"torusWalletOptions\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"initParams\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"loginSettings\", {});\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"solanaProvider\", null);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_this), \"rehydrated\", false);\n\n    _this.torusWalletOptions = params.adapterSettings || {};\n    _this.initParams = params.initParams || {};\n    _this.loginSettings = params.loginSettings || {};\n    _this.chainConfig = params.chainConfig || null;\n    return _this;\n  }\n\n  Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(SolanaWalletAdapter, [{\n    key: \"provider\",\n    get: function get() {\n      if (this.status === _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].CONNECTED && this.solanaProvider) {\n        var _this$solanaProvider;\n\n        return ((_this$solanaProvider = this.solanaProvider) === null || _this$solanaProvider === void 0 ? void 0 : _this$solanaProvider.provider) || null;\n      }\n\n      return null;\n    },\n    set: function set(_) {\n      throw new Error(\"Not implemented\");\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee(options) {\n        var network, _this$chainConfig, blockExplorer, displayName, ticker, tickerName, rpcTarget, chainId, _this$chainConfig2, _chainId, _blockExplorer, _displayName, _rpcTarget, _ticker, _tickerName;\n\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_get_js__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(SolanaWalletAdapter.prototype), \"checkInitializationRequirements\", this).call(this); // set chainConfig for mainnet by default if not set\n\n\n                if (!this.chainConfig) {\n                  this.chainConfig = Object(_web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* getChainConfig */ \"m\"])(_web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* CHAIN_NAMESPACES */ \"f\"].SOLANA, \"0x1\");\n                  _this$chainConfig = this.chainConfig, blockExplorer = _this$chainConfig.blockExplorer, displayName = _this$chainConfig.displayName, ticker = _this$chainConfig.ticker, tickerName = _this$chainConfig.tickerName, rpcTarget = _this$chainConfig.rpcTarget, chainId = _this$chainConfig.chainId;\n                  network = {\n                    chainId: chainId,\n                    rpcTarget: rpcTarget,\n                    blockExplorerUrl: blockExplorer,\n                    displayName: displayName,\n                    ticker: ticker,\n                    tickerName: tickerName,\n                    logo: \"\"\n                  };\n                } else {\n                  _this$chainConfig2 = this.chainConfig, _chainId = _this$chainConfig2.chainId, _blockExplorer = _this$chainConfig2.blockExplorer, _displayName = _this$chainConfig2.displayName, _rpcTarget = _this$chainConfig2.rpcTarget, _ticker = _this$chainConfig2.ticker, _tickerName = _this$chainConfig2.tickerName;\n                  network = {\n                    chainId: _chainId,\n                    rpcTarget: _rpcTarget,\n                    blockExplorerUrl: _blockExplorer,\n                    displayName: _displayName,\n                    tickerName: _tickerName,\n                    ticker: _ticker,\n                    logo: \"\"\n                  };\n                }\n\n                this.torusInstance = new _toruslabs_solana_embed__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"](this.torusWalletOptions);\n                _context.next = 5;\n                return this.torusInstance.init(_objectSpread(_objectSpread({\n                  showTorusButton: false\n                }, this.initParams), {}, {\n                  network: network\n                }));\n\n              case 5:\n                this.solanaProvider = new _web3auth_solana_provider__WEBPACK_IMPORTED_MODULE_12__[\"TorusInjectedProvider\"]({\n                  config: {\n                    chainConfig: this.chainConfig\n                  }\n                });\n                this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].READY;\n                this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_EVENTS */ \"b\"].READY, _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WALLET_ADAPTERS */ \"i\"].TORUS_SOLANA);\n                _context.prev = 8;\n\n                if (!options.autoConnect) {\n                  _context.next = 13;\n                  break;\n                }\n\n                this.rehydrated = true;\n                _context.next = 13;\n                return this.connect();\n\n              case 13:\n                _context.next = 19;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](8);\n                loglevel__WEBPACK_IMPORTED_MODULE_13___default.a.error(\"Failed to connect with cached torus solana provider\", _context.t0);\n                this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_EVENTS */ \"b\"].ERRORED, _context.t0);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[8, 15]]);\n      }));\n\n      function init(_x) {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"connect\",\n    value: function () {\n      var _connect = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee2() {\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_get_js__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(SolanaWalletAdapter.prototype), \"checkConnectionRequirements\", this).call(this);\n\n                if (this.torusInstance) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                throw _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WalletInitializationError */ \"j\"].notReady(\"Torus wallet is not initialized\");\n\n              case 3:\n                if (this.solanaProvider) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WalletInitializationError */ \"j\"].notReady(\"Torus wallet is not initialized\");\n\n              case 5:\n                this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].CONNECTING;\n                this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_EVENTS */ \"b\"].CONNECTING, {\n                  adapter: _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WALLET_ADAPTERS */ \"i\"].TORUS_SOLANA\n                });\n                _context2.prev = 7;\n                _context2.next = 10;\n                return this.torusInstance.login(this.loginSettings);\n\n              case 10:\n                _context2.next = 12;\n                return this.solanaProvider.setupProvider(this.torusInstance.provider);\n\n              case 12:\n                this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].CONNECTED;\n                this.torusInstance.showTorusButton();\n                this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].CONNECTED, {\n                  adapter: _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WALLET_ADAPTERS */ \"i\"].TORUS_SOLANA,\n                  reconnected: this.rehydrated\n                });\n                return _context2.abrupt(\"return\", this.provider);\n\n              case 18:\n                _context2.prev = 18;\n                _context2.t0 = _context2[\"catch\"](7);\n                // ready again to be connected\n                this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].READY;\n                this.rehydrated = false;\n                this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_EVENTS */ \"b\"].ERRORED, _context2.t0);\n                throw _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WalletLoginError */ \"k\"].connectionError(\"Failed to login with torus solana wallet\");\n\n              case 24:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[7, 18]]);\n      }));\n\n      function connect() {\n        return _connect.apply(this, arguments);\n      }\n\n      return connect;\n    }()\n  }, {\n    key: \"disconnect\",\n    value: function () {\n      var _disconnect = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee3() {\n        var options,\n            _args3 = arguments;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                options = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : {\n                  cleanup: false\n                };\n\n                if (!(this.status !== _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].CONNECTED)) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                throw _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WalletLoginError */ \"k\"].notConnectedError(\"Not connected with wallet\");\n\n              case 3:\n                if (this.torusInstance) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                throw _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WalletInitializationError */ \"j\"].notReady(\"Torus wallet is not initialized\");\n\n              case 5:\n                _context3.next = 7;\n                return this.torusInstance.logout();\n\n              case 7:\n                if (options.cleanup) {\n                  // ready to connect again\n                  this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].NOT_READY;\n                  this.torusInstance = null;\n                  this.solanaProvider = null;\n                } else {\n                  // ready to connect again\n                  this.status = _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].READY;\n                }\n\n                this.emit(_web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_EVENTS */ \"b\"].DISCONNECTED);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function disconnect() {\n        return _disconnect.apply(this, arguments);\n      }\n\n      return disconnect;\n    }()\n  }, {\n    key: \"getUserInfo\",\n    value: function () {\n      var _getUserInfo = Object(C_DaoWebsite_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee4() {\n        var userInfo;\n        return C_DaoWebsite_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.status !== _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* ADAPTER_STATUS */ \"d\"].CONNECTED)) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WalletLoginError */ \"k\"].notConnectedError(\"Not connected with wallet\");\n\n              case 2:\n                if (this.torusInstance) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                throw _web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* WalletInitializationError */ \"j\"].notReady(\"Torus wallet is not initialized\");\n\n              case 4:\n                _context4.next = 6;\n                return this.torusInstance.getUserInfo();\n\n              case 6:\n                userInfo = _context4.sent;\n                return _context4.abrupt(\"return\", userInfo);\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getUserInfo() {\n        return _getUserInfo.apply(this, arguments);\n      }\n\n      return getUserInfo;\n    }()\n  }, {\n    key: \"setAdapterSettings\",\n    value: function setAdapterSettings(_) {}\n  }]);\n\n  return SolanaWalletAdapter;\n}(_web3auth_base__WEBPACK_IMPORTED_MODULE_11__[/* BaseAdapter */ \"e\"]);\n\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["ignored C:\\DaoWebsite\\node_modules\\ethereumjs-util\\node_modules\\bn.js\\lib buffer","ignored C:\\DaoWebsite\\node_modules\\tweetnacl crypto","ignored C:\\DaoWebsite\\node_modules\\unload\\dist\\es ./node.js","ignored C:\\DaoWebsite\\node_modules\\@toruslabs\\tweetnacl-js crypto","C:/DaoWebsite/node_modules/fast-deep-equal/index.js","C:/DaoWebsite/node_modules/is-stream/index.js","ignored C:\\DaoWebsite\\node_modules\\@solana\\web3.js\\node_modules\\bn.js\\lib buffer","ignored C:\\DaoWebsite\\node_modules\\borsh\\node_modules\\bn.js\\lib buffer","../src/classes.ts","../src/error-constants.ts","../src/utils.ts","../src/messages.ts","../src/interfaces.ts","../src/config.ts","../src/loglevel.ts","../src/baseProvider.ts","../src/embedUtils.ts","../src/PopupHandler.ts","../src/communicationProvider.ts","../src/inPageProvider.ts","../src/siteMetadata.ts","../src/embed.ts","../src/index.ts","../src/errors.ts","../src/solanaWalletAdapter.ts"],"names":["module","exports","equal","a","b","constructor","length","i","keys","Array","isArray","RegExp","source","flags","valueOf","Object","prototype","toString","hasOwnProperty","call","key","isStream","stream","pipe","writable","_write","_writableState","readable","_read","_readableState","duplex","transform","_transform","errors","disconnected","permanentlyDisconnected","unsupportedSync","method","invalidDuplexStream","invalidOptions","maxEventListeners","invalidRequestArgs","invalidRequestMethod","invalidRequestParams","invalidLoggerObject","invalidLoggerMethod","info","connected","chainId","warnings","PAYMENT_PROVIDER","MOONPAY","WYRE","RAMPNETWORK","XANPOOL","MERCURYO","TRANSAK","TORUS_BUILD_ENV","PRODUCTION","DEVELOPMENT","TESTING","BUTTON_POSITION","BOTTOM_LEFT","TOP_LEFT","BOTTOM_RIGHT","TOP_RIGHT","LOGIN_PROVIDER","GOOGLE","FACEBOOK","REDDIT","DISCORD","TWITCH","APPLE","LINE","GITHUB","KAKAO","LINKEDIN","TWITTER","WEIBO","WECHAT","EMAIL_PASSWORDLESS","translations","en","embed","continue","actionRequired","pendingAction","cookiesRequired","enableCookies","clickHere","de","ja","ko","zh","supportedVerifierList","api","prodTorusUrl","localStorageKey","window","loglevel","createErrorMiddleware","req","res","message","data","next","done","error","log","logStreamDisconnectWarning","remoteLabel","emitter","warningMsg","getWindowId","Math","getTorusUrl","torusUrl","logLevel","getUserLanguage","userLanguage","userLanguages","config","FEATURES_PROVIDER_CHANGE_WINDOW","height","width","FEATURES_DEFAULT_WALLET_WINDOW","FEATURES_DEFAULT_POPUP_WINDOW","FEATURES_CONFIRM_WINDOW","storage","x","e","h","dualScreenLeft","dualScreenTop","document","systemZoom","left","top","features","w","jsonRpcStreamName","isDuplexStream","messages","isTorus","setMaxListeners","_handleConnect","_handleDisconnect","_handleStreamDisconnect","_rpcRequest","_initializeState","request","sendAsync","mux","pump","jsonRpcConnection","createStreamMiddleware","rpcEngine","createIdRemapMiddleware","createLoggerMiddleware","origin","location","_rpcEngine","args","params","getRpcPromiseCallback","send","handleEvent","handlerArgs","handlerWrapper","handler","handle","resolve","htmlToElement","html","template","trimmedHtml","url","target","getPopupFeatures","windowTimer","iClosedWindow","_setupTimer","Number","setInterval","clearInterval","emit","open","Promise","close","redirect","TorusCommunicationProvider","dappStorageKey","languageTranslations","configuration","notificationHandler","payload","COMMUNICATION_NOTIFICATIONS","rid","isFull","_handleCloseWindow","currentLoginProvider","isLoggedIn","isIFrameFullScreen","isConnected","torusIframe","torusAlertContainer","_state","COMMUNICATION_JRPC_METHODS","_handleWindow","finalUrl","handledWindow","windowId","windowRefs","_displayIframe","style","hideTorusButton","showTorusButton","cb","_payload","errorMessage","_createPopupBlockAlert","logoUrl","torusAlert","successAlert","btnContainer","bindOnLoad","attachOnLoad","documentReady","getLogoUrl","buttonPosition","hasEmittedConnection","torusWidgetVisibility","initialized","isPermanentlyDisconnected","TorusInPageProvider","selectedAddress","_handleAccountsChanged","_handleChainChanged","_handleUnlockStateChanged","jsonRpcNotificationHandler","PROVIDER_NOTIFICATIONS","PROVIDER_JRPC_METHODS","isUnlocked","accounts","isInternal","callback","isEthAccounts","finalAccounts","dequal","img","reject","getSiteName","siteName","metaTitle","icon","imgExists","_icon","Boolean","getSiteMetadata","getSiteIcon","name","PROVIDER_UNSAFE_METHODS","COMMUNICATION_UNSAFE_METHODS","isLocalStorageAvailable","storageAvailable","torusIframeHtml","modalZIndex","requestedLoginProvider","init","buildEnv","enableLogging","useLocalStorage","apiKey","extraParams","setAPIKey","torusIframeUrl","hashParams","handleSetup","dappMetadata","network","isInitialized","login","communicationProvider","provider","loginWithPrivateKey","userInfo","privateKey","success","logout","cleanUp","clearInit","isElement","element","styleLink","setProvider","showWallet","instanceId","finalPath","path","walletWindow","getUserInfo","userInfoResponse","initiateTopup","topupResponse","getAccounts","response","sendTransaction","requireAllSignatures","signTransaction","transaction","messageOnly","parsed","JSON","signature","publicKey","Buffer","signAllTransactions","encodedMessage","tx","responses","signatures","item","transactions","signMessage","getGaslessPublicKey","handleDappStorageKey","storedKey","generatedKey","_setupWeb3","providerStream","targetWindow","contentWindow","communicationStream","inPageProvider","detectAccountRequestPrototypeModifier","m","originalMethod","self","loginProvider","err","proxiedInPageProvider","deleteProperty","proxiedCommunicationProvider","SolanaWalletAdapter","WALLET_ADAPTERS","TORUS_SOLANA","ADAPTER_NAMESPACES","SOLANA","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","getChainConfig","rpcTarget","blockExplorerUrl","displayName","ticker","tickerName","logo","chainConfig","ADAPTER_EVENTS","options","connect","WalletInitializationError","adapter","reconnected","rehydrated","WalletLoginError","disconnect","cleanup","setAdapterSettings","BaseAdapter"],"mappings":";;;;;AAAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;;CCEA;;AAIAA,MAAM,CAACC,OAAP,GAAiB,SAASC,KAAT,CAAeC,CAAf,EAAkBC,CAAlB,EAAqB;AACpC,MAAID,CAAC,KAAKC,CAAV,EAAa,OAAO,IAAP;;AAEb,MAAID,CAAC,IAAIC,CAAL,IAAU,OAAOD,CAAP,IAAY,QAAtB,IAAkC,OAAOC,CAAP,IAAY,QAAlD,EAA4D;AAC1D,QAAID,CAAC,CAACE,WAAF,KAAkBD,CAAC,CAACC,WAAxB,EAAqC,OAAO,KAAP;AAErC,QAAIC,MAAJ,EAAYC,CAAZ,EAAeC,IAAf;;AACA,QAAIC,KAAK,CAACC,OAAN,CAAcP,CAAd,CAAJ,EAAsB;AACpBG,YAAM,GAAGH,CAAC,CAACG,MAAX;AACA,UAAIA,MAAM,IAAIF,CAAC,CAACE,MAAhB,EAAwB,OAAO,KAAP;;AACxB,WAAKC,CAAC,GAAGD,MAAT,EAAiBC,CAAC,OAAO,CAAzB;AACE,YAAI,CAACL,KAAK,CAACC,CAAC,CAACI,CAAD,CAAF,EAAOH,CAAC,CAACG,CAAD,CAAR,CAAV,EAAwB,OAAO,KAAP;AAD1B;;AAEA,aAAO,IAAP;AACD;;AAID,QAAIJ,CAAC,CAACE,WAAF,KAAkBM,MAAtB,EAA8B,OAAOR,CAAC,CAACS,MAAF,KAAaR,CAAC,CAACQ,MAAf,IAAyBT,CAAC,CAACU,KAAF,KAAYT,CAAC,CAACS,KAA9C;AAC9B,QAAIV,CAAC,CAACW,OAAF,KAAcC,MAAM,CAACC,SAAP,CAAiBF,OAAnC,EAA4C,OAAOX,CAAC,CAACW,OAAF,OAAgBV,CAAC,CAACU,OAAF,EAAvB;AAC5C,QAAIX,CAAC,CAACc,QAAF,KAAeF,MAAM,CAACC,SAAP,CAAiBC,QAApC,EAA8C,OAAOd,CAAC,CAACc,QAAF,OAAiBb,CAAC,CAACa,QAAF,EAAxB;AAE9CT,QAAI,GAAGO,MAAM,CAACP,IAAP,CAAYL,CAAZ,CAAP;AACAG,UAAM,GAAGE,IAAI,CAACF,MAAd;AACA,QAAIA,MAAM,KAAKS,MAAM,CAACP,IAAP,CAAYJ,CAAZ,EAAeE,MAA9B,EAAsC,OAAO,KAAP;;AAEtC,SAAKC,CAAC,GAAGD,MAAT,EAAiBC,CAAC,OAAO,CAAzB;AACE,UAAI,CAACQ,MAAM,CAACC,SAAP,CAAiBE,cAAjB,CAAgCC,IAAhC,CAAqCf,CAArC,EAAwCI,IAAI,CAACD,CAAD,CAA5C,CAAL,EAAuD,OAAO,KAAP;AADzD;;AAGA,SAAKA,CAAC,GAAGD,MAAT,EAAiBC,CAAC,OAAO,CAAzB,GAA6B;AAC3B,UAAIa,GAAG,GAAGZ,IAAI,CAACD,CAAD,CAAd;AAEA,UAAI,CAACL,KAAK,CAACC,CAAC,CAACiB,GAAD,CAAF,EAAShB,CAAC,CAACgB,GAAD,CAAV,CAAV,EAA4B,OAAO,KAAP;AAC7B;;AAED,WAAO,IAAP;AACD,GAnCmC,CAqCpC;;;AACA,SAAOjB,CAAC,KAAGA,CAAJ,IAASC,CAAC,KAAGA,CAApB;AACD,CAvCD,C;;;;;;;;ACNa;;AAEb,IAAMiB,QAAQ,GAAG,SAAXA,QAAW,CAAAC,MAAM;AAAA,SACtBA,MAAM,KAAK,IAAX,IACA,OAAOA,MAAP,KAAkB,QADlB,IAEA,OAAOA,MAAM,CAACC,IAAd,KAAuB,UAHD;AAAA,CAAvB;;AAKAF,QAAQ,CAACG,QAAT,GAAoB,UAAAF,MAAM;AAAA,SACzBD,QAAQ,CAACC,MAAD,CAAR,IACAA,MAAM,CAACE,QAAP,KAAoB,KADpB,IAEA,OAAOF,MAAM,CAACG,MAAd,KAAyB,UAFzB,IAGA,OAAOH,MAAM,CAACI,cAAd,KAAiC,QAJR;AAAA,CAA1B;;AAMAL,QAAQ,CAACM,QAAT,GAAoB,UAAAL,MAAM;AAAA,SACzBD,QAAQ,CAACC,MAAD,CAAR,IACAA,MAAM,CAACK,QAAP,KAAoB,KADpB,IAEA,OAAOL,MAAM,CAACM,KAAd,KAAwB,UAFxB,IAGA,OAAON,MAAM,CAACO,cAAd,KAAiC,QAJR;AAAA,CAA1B;;AAMAR,QAAQ,CAACS,MAAT,GAAkB,UAAAR,MAAM;AAAA,SACvBD,QAAQ,CAACG,QAAT,CAAkBF,MAAlB,KACAD,QAAQ,CAACM,QAAT,CAAkBL,MAAlB,CAFuB;AAAA,CAAxB;;AAIAD,QAAQ,CAACU,SAAT,GAAqB,UAAAT,MAAM;AAAA,SAC1BD,QAAQ,CAACS,MAAT,CAAgBR,MAAhB,KACA,OAAOA,MAAM,CAACU,UAAd,KAA6B,UAFH;AAAA,CAA3B;;AAIAhC,MAAM,CAACC,OAAP,GAAiBoB,QAAjB,C;;;;;;;AC3BA,e;;;;;;;ACAA,e;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AASA;;;;AAIG;;;IACU,gB;;;;;AAMX,4BAAY,IAAZ,EAA0B,OAA1B,EAA2C,IAA3C,EAAmD;AAAA;;AAAA;;AAEjD,QAAI,CAAC,MAAM,CAAC,SAAP,CAAiB,IAAjB,CAAL,EAA6B;AAC3B,YAAM,IAAI,KAAJ,CACJ,4BADI,CAAN;AAGD;;AACD,QAAI,CAAC,OAAD,IAAY,OAAO,OAAP,KAAmB,QAAnC,EAA6C;AAC3C,YAAM,IAAI,KAAJ,CACJ,sCADI,CAAN;AAGD;;AAED,8BAAM,OAAN;AACA,UAAK,IAAL,GAAY,IAAZ;;AACA,QAAI,IAAI,KAAK,SAAb,EAAwB;AACtB,YAAK,IAAL,GAAY,IAAZ;AACD;;AAjBgD;AAkBlD;AAED;;AAEG;;;;;WACH,qBAAS;AACP,UAAM,UAAU,GAA+B;AAC7C,YAAI,EAAE,KAAK,IADkC;AAE7C,eAAO,EAAE,KAAK;AAF+B,OAA/C;;AAIA,UAAI,KAAK,IAAL,KAAc,SAAlB,EAA6B;AAC3B,kBAAU,CAAC,IAAX,GAAkB,KAAK,IAAvB;AACD;;AACD,UAAI,KAAK,KAAT,EAAgB;AACd,kBAAU,CAAC,KAAX,GAAmB,KAAK,KAAxB;AACD;;AACD,aAAO,UAAP;AACD;AAED;;;AAGG;;;;WACH,oBAAQ;AACN,aAAO,8BACL,KAAK,SAAL,EADK,EAEL,iBAFK,EAGL,CAHK,CAAP;AAKD;;;;iCArDsC,K;;AAAzC;AAwDA;;;AAGG;;IACU,qB;;;;;AAEX;;;AAGG;AACH,iCAAY,IAAZ,EAA0B,OAA1B,EAA2C,IAA3C,EAAmD;AAAA;;AAEjD,QAAI,CAAC,sBAAsB,CAAC,IAAD,CAA3B,EAAmC;AACjC,YAAM,IAAI,KAAJ,CACJ,2DADI,CAAN;AAGD;;AANgD,8BAQ3C,IAR2C,EAQrC,OARqC,EAQ5B,IAR4B;AASlD;;;EAf2C,gB;;AAA9C,sD,CAkBA;;AAEA,SAAS,sBAAT,CAAgC,IAAhC,EAA4C;AAC1C,SAAO,MAAM,CAAC,SAAP,CAAiB,IAAjB,KAA0B,IAAI,IAAI,IAAlC,IAA0C,IAAI,IAAI,IAAzD;AACD;;AAED,SAAS,iBAAT,CAA2B,CAA3B,EAAuC,KAAvC,EAAqD;AACnD,MAAI,KAAK,KAAK,YAAd,EAA4B;AAC1B,WAAO,SAAP;AACD;;AACD,SAAO,KAAP;AACD,C;;;;;;;;;;;;;;AChFY,qBAAyB;AACpC,KAAG,EAAE;AACH,gBAAY,EAAE,CAAC,KADZ;AAEH,oBAAgB,EAAE,CAAC,KAFhB;AAGH,uBAAmB,EAAE,CAAC,KAHnB;AAIH,uBAAmB,EAAE,CAAC,KAJnB;AAKH,sBAAkB,EAAE,CAAC,KALlB;AAMH,iBAAa,EAAE,CAAC,KANb;AAOH,SAAK,EAAE,CAAC,KAPL;AAQH,kBAAc,EAAE,CAAC,KARd;AASH,kBAAc,EAAE,CAAC,KATd;AAUH,iBAAa,EAAE,CAAC,KAVb;AAWH,YAAQ,EAAE,CAAC;AAXR,GAD+B;AAcpC,UAAQ,EAAE;AACR,uBAAmB,EAAE,IADb;AAER,gBAAY,EAAE,IAFN;AAGR,qBAAiB,EAAE,IAHX;AAIR,gBAAY,EAAE,IAJN;AAKR,qBAAiB,EAAE;AALX;AAd0B,CAAzB;AAuBA,sBAAc;AACzB,YAAU;AACR,YAAQ,EAAE,cADF;AAER,WAAO,EAAE;AAFD,GADe;AAKzB,YAAU;AACR,YAAQ,EAAE,cADF;AAER,WAAO,EAAE;AAFD,GALe;AASzB,YAAU;AACR,YAAQ,EAAE,cADF;AAER,WAAO,EAAE;AAFD,GATe;AAazB,YAAU;AACR,YAAQ,EAAE,cADF;AAER,WAAO,EAAE;AAFD,GAbe;AAiBzB,YAAU;AACR,YAAQ,EAAE,cADF;AAER,WAAO,EAAE;AAFD,GAjBe;AAqBzB,YAAU;AACR,YAAQ,EAAE,UADF;AAER,WAAO,EAAE;AAFD,GArBe;AAyBzB,YAAU;AACR,YAAQ,EAAE,UADF;AAER,WAAO,EAAE;AAFD,GAzBe;AA6BzB,YAAU;AACR,YAAQ,EAAE,UADF;AAER,WAAO,EAAE;AAFD,GA7Be;AAiCzB,YAAU;AACR,YAAQ,EAAE,UADF;AAER,WAAO,EAAE;AAFD,GAjCe;AAqCzB,YAAU;AACR,YAAQ,EAAE,UADF;AAER,WAAO,EAAE;AAFD,GArCe;AAyCzB,YAAU;AACR,YAAQ,EAAE,UADF;AAER,WAAO,EAAE;AAFD,GAzCe;AA6CzB,UAAQ;AACN,YAAQ,EAAE,UADJ;AAEN,WAAO,EAAE;AAFH,GA7CiB;AAiDzB,UAAQ;AACN,YAAQ,EAAE,UADJ;AAEN,WAAO,EAAE;AAFH,GAjDiB;AAqDzB,UAAQ;AACN,YAAQ,EAAE,UADJ;AAEN,WAAO,EAAE;AAFH,GArDiB;AAyDzB,UAAQ;AACN,YAAQ,EAAE,UADJ;AAEN,WAAO,EAAE;AAFH,GAzDiB;AA6DzB,UAAQ;AACN,YAAQ,EAAE,UADJ;AAEN,WAAO,EAAE;AAFH;AA7DiB,CAAd,C;;;;;;;;;;;;;;;AC9Cb;;AACA;;AAEA,IAAM,mBAAmB,GAAG,6BAAW,GAAX,CAAe,QAA3C;AACA,IAAM,gBAAgB,GAAG,6DAAzB;AACA,IAAM,cAAc,GAA+B;AACjD,MAAI,EAAE,mBAD2C;AAEjD,SAAO,EAAE,kBAAkB,CAAC,mBAAD;AAFsB,CAAnD;AAKa,wCAAgC,2BAAhC;AAIb;;;AAGG;;AACH,SAAgB,kBAAhB,CACE,IADF,EAE4C;AAAA,MAA1C,eAA0C,uEAAhB,gBAAgB;;AAE1C,MAAI,MAAM,CAAC,SAAP,CAAiB,IAAjB,CAAJ,EAA4B;AAC1B,QAAM,UAAU,GAAG,IAAI,CAAC,QAAL,EAAnB;;AAEA,QAAI,MAAM,CAAC,6BAAD,EAAc,UAAd,CAAV,EAAqC;AACnC,aAAO,8BAAY,UAAZ,EAAyC,OAAhD;AACD;;AACD,QAAI,oBAAoB,CAAC,IAAD,CAAxB,EAAgC;AAC9B,aAAO,qCAAP;AACD;AACF;;AACD,SAAO,eAAP;AACD;;AAfD;AAiBA;;;AAGG;;AACH,SAAgB,WAAhB,CAA4B,IAA5B,EAAwC;AACtC,MAAI,CAAC,MAAM,CAAC,SAAP,CAAiB,IAAjB,CAAL,EAA6B;AAC3B,WAAO,KAAP;AACD;;AAED,MAAM,UAAU,GAAG,IAAI,CAAC,QAAL,EAAnB;;AACA,MAAI,8BAAY,UAAZ,CAAJ,EAA8C;AAC5C,WAAO,IAAP;AACD;;AAED,MAAI,oBAAoB,CAAC,IAAD,CAAxB,EAAgC;AAC9B,WAAO,IAAP;AACD;;AACD,SAAO,KAAP;AACD;;AAdD;AAgBA;;;;;AAKG;;AACH,SAAgB,cAAhB,CACE,KADF,EAKQ;AAAA,iFAAF,EAAE;AAAA,gCAFJ,aAEI;AAAA,MAFJ,aAEI,mCAFY,cAEZ;AAAA,mCADJ,kBACI;AAAA,MADJ,kBACI,sCADiB,KACjB;;;;AAGN,MACE,CAAC,aAAD,IACA,CAAC,MAAM,CAAC,SAAP,CAAiB,aAAa,CAAC,IAA/B,CADD,IAEA,OAAO,aAAa,CAAC,OAArB,KAAiC,QAHnC,EAIE;AACA,UAAM,IAAI,KAAJ,CACJ,0EADI,CAAN;AAGD;;AAED,MAAI,KAAK,YAAY,0BAArB,EAAuC;AACrC,WAAO,KAAK,CAAC,SAAN,EAAP;AACD;;AAED,MAAM,UAAU,GAAwC,EAAxD;;AAEA,MACE,KAAK,IACL,OAAO,KAAP,KAAiB,QADjB,IAEA,CAAC,KAAK,CAAC,OAAN,CAAc,KAAd,CAFD,IAGA,MAAM,CAAC,KAAD,EAAmC,MAAnC,CAHN,IAIA,WAAW,CAAE,KAAoC,CAAC,IAAvC,CALb,EAME;AACA,QAAM,MAAM,GAAG,KAAf;AACA,cAAU,CAAC,IAAX,GAAkB,MAAM,CAAC,IAAzB;;AAEA,QAAI,MAAM,CAAC,OAAP,IAAkB,OAAO,MAAM,CAAC,OAAd,KAA0B,QAAhD,EAA0D;AACxD,gBAAU,CAAC,OAAX,GAAqB,MAAM,CAAC,OAA5B;;AAEA,UAAI,MAAM,CAAC,MAAD,EAAS,MAAT,CAAV,EAA4B;AAC1B,kBAAU,CAAC,IAAX,GAAkB,MAAM,CAAC,IAAzB;AACD;AACF,KAND,MAMO;AACL,gBAAU,CAAC,OAAX,GAAqB,kBAAkB,CACpC,UAAyC,CAAC,IADN,CAAvC;AAIA,gBAAU,CAAC,IAAX,GAAkB;AAAE,qBAAa,EAAE,mBAAmB,CAAC,KAAD;AAApC,OAAlB;AACD;AACF,GAvBD,MAuBO;AACL,cAAU,CAAC,IAAX,GAAkB,aAAa,CAAC,IAAhC;AAEA,QAAM,OAAO,SAAI,KAAJ,MAAiB,IAAjB,IAAiB,aAAjB,GAAiB,MAAjB,GAAiB,GAAE,OAAhC;AAEA,cAAU,CAAC,OAAX,GACE,OAAO,IAAI,OAAO,OAAP,KAAmB,QAA9B,GACI,OADJ,GAEI,aAAa,CAAC,OAHpB;AAKA,cAAU,CAAC,IAAX,GAAkB;AAAE,mBAAa,EAAE,mBAAmB,CAAC,KAAD;AAApC,KAAlB;AACD;;AAED,MAAM,KAAK,SAAI,KAAJ,MAAiB,IAAjB,IAAiB,aAAjB,GAAiB,MAAjB,GAAiB,GAAE,KAA9B;;AAEA,MAAI,kBAAkB,IAAI,KAAtB,IAA+B,KAA/B,IAAwC,OAAO,KAAP,KAAiB,QAA7D,EAAuE;AACrE,cAAU,CAAC,KAAX,GAAmB,KAAnB;AACD;;AACD,SAAO,UAAP;AACD;;AAlED,wC,CAoEA;;AAEA,SAAS,oBAAT,CAA8B,IAA9B,EAA0C;AACxC,SAAO,IAAI,IAAI,CAAC,KAAT,IAAkB,IAAI,IAAI,CAAC,KAAlC;AACD;;AAED,SAAS,mBAAT,CAA6B,KAA7B,EAA2C;AACzC,MAAI,KAAK,IAAI,OAAO,KAAP,KAAiB,QAA1B,IAAsC,CAAC,KAAK,CAAC,OAAN,CAAc,KAAd,CAA3C,EAAiE;AAC/D,WAAO,MAAM,CAAC,MAAP,CAAc,EAAd,EAAkB,KAAlB,CAAP;AACD;;AACD,SAAO,KAAP;AACD;;AAED,SAAS,MAAT,CAAgB,GAAhB,EAA8C,GAA9C,EAAyD;AACvD,SAAO,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,GAArC,EAA0C,GAA1C,CAAP;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChJD,eAAe;AACbY,QAAM,EAAE;AACNC,gBAAY,EAAE;AAAA,aADR,kCACQ;AAAA,KADR;AAENC,2BAAuB,EAAE;AAAA,aAFnB,wDAEmB;AAAA,KAFnB;AAGNC,mBAAe,EAAGC,+BAAD;AAAA,4GAHX,gCAGW;AAAA,KAHX;AAKNC,uBAAmB,EAAE;AAAA,aALf,6CAKe;AAAA,KALf;AAMNC,kBAAc,EAAGC,yCAAD;AAAA,0FANV,GAMU;AAAA,KANV;AAONC,sBAAkB,EAAE;AAAA,aAPd,gDAOc;AAAA,KAPd;AAQNC,wBAAoB,EAAE;AAAA,aARhB,2CAQgB;AAAA,KARhB;AASNC,wBAAoB,EAAE;AAAA,aAThB,uDASgB;AAAA,KAThB;AAUNC,uBAAmB,EAAE;AAAA,aAVf,8CAUe;AAAA,KAVf;AAWNC,uBAAmB,EAAGR,mCAAD;AAAA;AAAA;AAXf,GADK;AAcbS,MAAI,EAAE;AACJC,aAAS,EAAGC,0BAAD;AAAA;AAAA;AADP,GAdO;AAiBbC,UAAQ,EAAE;AAjBG,CAAf;ACEO,IAAMC,gBAAgB,GAAG;AAC9BC,SAAO,EADuB;AAE9BC,MAAI,EAF0B;AAG9BC,aAAW,EAHmB;AAI9BC,SAAO,EAJuB;AAK9BC,UAAQ,EALsB;AAM9BC,SAAO,EAAE;AANqB,CAAzB;AASA,IAAMC,eAAe,GAAG;AAC7BC,YAAU,EADmB;AAE7BC,aAAW,EAFkB;AAG7BC,SAAO,EAAE;AAHoB,CAAxB;AAUA,IAAMC,eAAe,GAAG;AAC7BC,aAAW,EADkB;AAE7BC,UAAQ,EAFqB;AAG7BC,cAAY,EAHiB;AAI7BC,WAAS,EAAE;AAJkB,CAAxB;AAoBA,IAAMC,cAAc,GAAG;AAC5BC,QAAM,EADsB;AAE5BC,UAAQ,EAFoB;AAG5BC,QAAM,EAHsB;AAI5BC,SAAO,EAJqB;AAK5BC,QAAM,EALsB;AAM5BC,OAAK,EANuB;AAO5BC,MAAI,EAPwB;AAQ5BC,QAAM,EARsB;AAS5BC,OAAK,EATuB;AAU5BC,UAAQ,EAVoB;AAW5BC,SAAO,EAXqB;AAY5BC,OAAK,EAZuB;AAa5BC,QAAM,EAbsB;AAc5BC,oBAAkB,EAAE;AAdQ,CAAvB;ACvCP,IAAMC,YAAY,GAAG;AACnBC,IAAE,EAAE;AACFC,SAAK,EAAE;AACLC,cAAQ,EADH;AAELC,oBAAc,EAFT;AAGLC,mBAAa,EAHR;AAILC,qBAAe,EAJV;AAKLC,mBAAa,EALR;AAMLC,eAAS,EAAE;AANN;AADL,GADe;AAWnBC,IAAE,EAAE;AACFP,SAAK,EAAE;AACLC,cAAQ,EADH;AAELC,oBAAc,EAFT;AAGLC,mBAAa,EAHR;AAILC,qBAAe,EAJV;AAKLC,mBAAa,EALR;AAMLC,eAAS,EAAE;AANN;AADL,GAXe;AAqBnBE,IAAE,EAAE;AACFR,SAAK,EAAE;AACLC,cAAQ,EADH;AAELC,oBAAc,EAFT;AAGLC,mBAAa,EAHR;AAILC,qBAAe,EAJV;AAKLC,mBAAa,EALR;AAMLC,eAAS,EAAE;AANN;AADL,GArBe;AA+BnBG,IAAE,EAAE;AACFT,SAAK,EAAE;AACLC,cAAQ,EADH;AAELC,oBAAc,EAFT;AAGLC,mBAAa,EAHR;AAILC,qBAAe,EAJV;AAKLC,mBAAa,EALR;AAMLC,eAAS,EAAE;AANN;AADL,GA/Be;AAyCnBI,IAAE,EAAE;AACFV,SAAK,EAAE;AACLC,cAAQ,EADH;AAELC,oBAAc,EAFT;AAGLC,mBAAa,EAHR;AAILC,qBAAe,EAJV;AAKLC,mBAAa,EALR;AAMLC,eAAS,EAAE;AANN;AADL;AAzCe,CAArB;AAqDA,oBAAe;AACbK,uBAAqB,EAAE,CAAC5B,cAAc,CAAf,QAAwBA,cAAc,CAAtC,QAA+CA,cAAc,CADvE,OACU,CADV;AAEb6B,KAAG,EAFU;AAGbd,cAHa,EAGbA,YAHa;AAIbe,cAAY,EAJC;AAKbC,iBAAe,EAAWC,sBAAM,CAANA,SAAX,QAAWA;AALb,CAAf;ACrDA,UAAeC,gDAAQ,CAARA,UAAf,cAAeA,CAAf;AJQA;;;;;AAKG;;SACaC,qB,GAAqB;AACnC,SAAO,0BAAmB;AACxB;AACI,eAAOC,GAAG,CAAV,uBAAkC,CAACA,GAAG,CAA1C,MAAI,EAA+C;AACjDC,SAAG,CAAHA,QAAY,yDAAS,CAAT,mBAA6B;AACvCC,eAAO,EADgC;AAEvCC,YAAI,EAAEH;AAFiC,OAA7B,CAAZC;AAID;;AAEDG,QAAI,CAAEC,cAAD,EAAS;AACN,UAAEC,KAAF,GAAN,GAAM,CAAEA,KAAF;;AACF,WAAJ,KAAI,EAAQ;AACV,eAAOD,IAAP;AACD;;AACDE,SAAG,CAAHA,mCAAgCD,KAAK,CAArCC;AACA,aAAOF,IAAP;AANFD,KAAI,CAAJA;AATF;AAkBD;AAED;;;;;;;;AAQG;;;SACaI,0B,CAA2BC,W,EAAqBH,K,EAAcI,O,EAAyB;AACjGC,gBAAU,GAAiCF,sCAAjC,WAAiCA,EAA/C,KAA+CA,CAA3CE;;AACJ,MAAIL,KAAJ,KAAIA,aAAJ,WAAIA,SAAK,CAAT,OAAkB;AAChBK,cAAU,gBAASL,KAAK,CAAxBK,KAAU,CAAVA;AACD;;AACDJ,KAAG,CAAHA;;AACIG,aAAO,IAAIA,OAAO,CAAPA,yBAAf,CAAIA,EAA+C;AACjDA,WAAO,CAAPA;AACD;AACF;;AAEM,IAAME,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAcC,IAAI,CAAJA,4BAAlC,CAAkCA,CAAd;AAAA,CAApB;;AAEA,IAAMC,WAAW;AAAA,qQAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAKzB,QALyB;AAAA,4CAMvB,SANuB,uBAUvB,aAVuB;AAAA;;AAAA;AAOrBC,oBAAQ,GAARA;AACAC,oBAAQ,GAARA;AARqB;;AAAA;AAWrBD,oBAAQ,GAARA;AACAC,oBAAQ,GAARA;AAZqB;;AAAA;AAerBD,oBAAQ,GAARA;AACAC,oBAAQ,GAARA;AAhBqB;;AAAA;AAAA,6CAmBlB;AAAED,sBAAF,EAAEA,QAAF;AAAYC;AAAZ,aAnBkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAXF,WAAW;AAAA;AAAA;AAAA,GAAjB;;AAsBA,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,GAAa;AACtCC,kBAAY,GAAGrB,MAAM,CAANA,sBAAnB,OAAIqB;AACJ,MAAMC,aAAa,GAAGD,YAAY,CAAZA,MAAtB,GAAsBA,CAAtB;AACAA,cAAY,GAAGxG,MAAM,CAANA,8BAAqC0G,aAAM,CAA3C1G,cAA0DyG,aAAa,CAAvEzG,CAAuE,CAAvEA,IAA8EyG,aAAa,CAA3FzG,CAA2F,CAA3FA,GAAfwG;AACA;AAJK;;AAWA,IAAMG,+BAA+B,GAAG;AAAEC,QAAM,EAAR;AAAeC,OAAK,EAAE;AAAtB,CAAxC;AACA,IAAMC,8BAA8B,GAAG;AAAEF,QAAM,EAAR;AAAeC,OAAK,EAAE;AAAtB,CAAvC;AACA,IAAME,6BAA6B,GAAG;AAAEH,QAAM,EAAR;AAAeC,OAAK,EAAE;AAAtB,CAAtC;AACA,IAAMG,uBAAuB,GAAG;AAAEJ,QAAM,EAAR;AAAeC,OAAK,EAAE;AAAtB,CAAhC;;AAED,gCAAkE;AACtE;;AACI;AACFI,WAAO,GAAG9B,MAAM,CAAhB8B,IAAgB,CAAhBA;AACMC,SAAC,GAAP,kBAAMA;AACND,WAAO,CAAPA;AACAA,WAAO,CAAPA;AACA;AALF,GAAI,CAMF,UAAU;AACV,WACEE,CAAC;AAEAA,KAAC,CAADA;AAECA,KAAC,CAADA,SAFDA;AAIC;AACAA,KAAC,CAADA,SALDA;AAOCA,KAAC,CAADA,SATFA,4BAAC,CAADA;AAAAA,eAYAF,OAAO,CAAPA,WAbF;AAeD;AACF;AAED;;AAEG;;;AACG,0BAAqF,IAArF,EAAqF;AAA1D,UAA0D,IAA1D,CAAEJ,KAAF;AAAA,MAAoBO,CAApB,GAA0D,IAA1D,CAAYR,MAAZ,CAA0D,CACzF;;AACA,MAAMS,cAAc,GAAGlC,MAAM,CAANA,2BAAkCA,MAAM,CAAxCA,aAAsDA,MAAM,CAAnF;AACA,MAAMmC,aAAa,GAAGnC,MAAM,CAANA,0BAAiCA,MAAM,CAAvCA,YAAoDA,MAAM,CAAhF;AAEM0B,WAAK,GAAG1B,MAAM,CAANA,aACVA,MAAM,CADIA,aAEVoC,QAAQ,CAARA,8BACAA,QAAQ,CAARA,gBADAA,cAEApC,MAAM,CAANA,OAJJ,KAAM0B;AAMAD,YAAM,GAAGzB,MAAM,CAANA,cACXA,MAAM,CADKA,cAEXoC,QAAQ,CAARA,+BACAA,QAAQ,CAARA,gBADAA,eAEApC,MAAM,CAANA,OAJJ,MAAMyB;AAMN,MAAMY,UAAU,GAjByE,CAiBzF,CAjByF;;AAmBzF,MAAMC,IAAI,GAAGtB,IAAI,CAAJA,IAAS,CAACU,KAAK,GAAN,sBAAtB,cAAaV,CAAb;AACA,MAAMuB,GAAG,GAAGvB,IAAI,CAAJA,IAAS,CAACS,MAAM,GAAP,sBAArB,aAAYT,CAAZ;AACA,MAAMwB,QAAQ,uEAAgEP,CAAC,GAAjE,8BAAwFQ,CAAC,GAAzF,kDAAd,IAAc,CAAd;AACA;AACD;;IKjID,Y;;;;;AACE;;AAEG;AASHtI,wBAAY,gBAAZA,EAAkH,IAAlHA,EAAkH;AAAA;;AAAA;;AAA5E,gCAA4E,IAA5E,CAAEmC,iBAAF;AAAA,QAAEA,iBAAF;AAAA,gCAA4E,IAA5E,CAA2BoG,iBAA3B;AAAA,QAA2BA,iBAA3B,sCAA+C,UAA/C;AACpC;;AADgH;;AAAA;;AAAA;;AAAA;;AAEhH,QAAI,CAACC,yDAAc,CAAnB,gBAAmB,CAAnB,EAAuC;AAC/B,sBAAUC,QAAQ,CAARA,OAAhB,mBAAgBA,EAAV;AACP;;AACIC,UAAL,OAAKA,GAAL,IAAKA;;AACAC,UAAL,eAAKA,CAAL,iBAAKA;;AAEAC,UAAL,cAAKA,GAAiB,qBAAtB,IAAsB,6IAAjBA;AACAC,UAAL,iBAAKA,GAAoB,wBAAzB,IAAyB,6IAApBA;AACAC,UAAL,uBAAKA,GAA0B,8BAA/B,IAA+B,6IAA1BA;AAEAC,UAAL,WAAKA,GAAc,kBAAnB,IAAmB,6IAAdA;AACAC,UAAL,gBAAKA,GAAmB,uBAAxB,IAAwB,6IAAnBA;AAEAC,UAAL,OAAKA,GAAU,cAAf,IAAe,6IAAVA;AACAC,UAAL,SAAKA,GAAY,gBAhB+F,IAgB/F,6IAAZA,CAhB2G;AAmBhH;;AACA,QAAMC,GAAG,GAAG,IAAZ,kFAAY,EAAZ;AACAC,gDAAI,0CAIF,gLAzB8G,OAyB9G,CAJE,CAAJA,CArBgH;;AA6BhHD,OAAG,CAAHA,aA7BgH,UA6BhHA,EA7BgH;AAgChH;;AAEME,yBAAiB,GAAGC,iGAA1B,EAAMD;AACND,gDAAI,CACFC,iBAAiB,CADf,QAEFF,GAAG,CAAHA,aAFE,iBAEFA,CAFE,EAGFE,iBAAiB,CAHf,QAIF,gLAvC8G,mBAuC9G,CAJE,CAAJD,CAnCgH;;AA2ChH,QAAMG,SAAS,GAAG,IAAlB,6EAAkB,EAAlB;AACAA,aAAS,CAATA,KAAeC,kGAAfD;AACAA,aAAS,CAATA,KAAexD,qBAAfwD;AACAA,aAAS,CAATA,KAAeE,mGAAsB,CAAC;AAAEC,YAAM,EAAEC,QAAQ,CAACD;AAAnB,KAAD,CAArCH;AACAA,aAAS,CAATA,KAAeF,iBAAiB,CAAhCE;AACKK,UAAL,UAAKA,GAAL,SAAKA;AAEL,oCAA+BP,iBAAiB,CAAhD;AAlDgH;AAmDjH;AAED;;;AAGG;;;;;;4QACGJ,kBAAO,IAAPA;AAAAA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,sBACA,SAAS,gBAAT,YAAqC7I,KAAK,CAALA,QAAzC,IAAyCA,CADrC6I;AAAAA;AAAAA;AAAAA;;AAAAA,sBAEI,yDAAS,CAAT,mBAA6B;AACjC/C,yBAAO,EAAEuC,QAAQ,CAARA,OADwB,kBACxBA,EADwB;AAEjCtC,sBAAI,EAAE0D;AAF2B,iBAA7B,CAFJZ;;AAAAA;AAQE,sBARFA,GAQJ,IARIA,CAQE,MARFA,EAQYa,MARZb,GAQJ,IARIA,CAQYa,MARZb;;AAAAA,sBAUA,8BAA8BjH,MAAM,CAANA,WAAlC,CAVIiH;AAAAA;AAAAA;AAAAA;;AAAAA,sBAWI,yDAAS,CAAT,mBAA6B;AACjC/C,yBAAO,EAAEuC,QAAQ,CAARA,OADwB,oBACxBA,EADwB;AAEjCtC,sBAAI,EAAE0D;AAF2B,iBAA7B,CAXJZ;;AAAAA;AAAAA,sBAiBAa,MAAM,KAANA,aAAwB,CAAC1J,KAAK,CAALA,QAAzB0J,MAAyB1J,CAAzB0J,KAAmD,8BAA8BA,MAAM,KAA3F,IAAIA,CAjBAb;AAAAA;AAAAA;AAAAA;;AAAAA,sBAkBI,yDAAS,CAAT,mBAA6B;AACjC/C,yBAAO,EAAEuC,QAAQ,CAARA,OADwB,oBACxBA,EADwB;AAEjCtC,sBAAI,EAAE0D;AAF2B,iBAA7B,CAlBJZ;;AAAAA;AAAAA,kDAwBG,YAAY,2BAAoB;AACrC,qCAAiB;AAAEjH,0BAAF,EAAEA,MAAF;AAAU8H;AAAV,mBAAjB,EAAqCC,gGAAqB,UAA1D,MAA0D,CAA1D;AADF,iBAAO,CAxBHd;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;AA+BN;;AAEG;;;;WACHe,cAAI,OAAJA,EAAI,QAAJA,EAA2G;AACzG;AACD;AAID;;AAEG;;;;WACHd,mBAAS,OAATA,EAAuC;AAAA;;AACrC,aAAO,YAAY,2BAAoB;AAChCH,eAAL,WAAKA,CAAL,OAAKA,EAAqBgB,gGAAqB,UAA/C,MAA+C,CAA1ChB;AADP,OAAO,CAAP;AAGD;AAED;;;;AAIG;;;;WACOD,iCAAuB,UAAvBA,EAAuB,KAAvBA,EAAwD;AAChEtC,gCAA0B,oBAA1BA,IAA0B,CAA1BA;;AACKqC,WAAL,iBAAKA,CAAL,KAAKA,EAAyBvC,KAAK,GAAGA,KAAK,CAAR,UAAnC,SAAKuC;AACN;;;;EA9HH,mF;;ACrBO,IAAMoB,WAAW,GAAG,SAAdA,WAAc,6BAAmH;AAAA,oCAAhCC,WAAgC;AAAhCA,eAAgC,UAAhCA,GAAgC,eAAhCA;AAAgC;;AACtIC,oBAAc,GAAG,SAAjBA,cAAiB,GAAK;AAC1BC,WAAO,MAAPA;AACAC,UAAM,CAANA;AAFF,GAAMF;;AAINE,QAAM,CAANA;AALK;;SAQA,a;;;;;0QAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACE,YAAmBC,iBAAD,EAAY;AACnC,kBAAIrC,QAAQ,CAARA,eAAJ,WAAuC;AACrCqC,uBAAO;AADT,qBAEO;AACLL,2BAAW,+BAAXA,OAAW,CAAXA;AACD;AALH,aAAO,CADF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAUA,IAAMM,aAAa,GAAuBC,SAApCD,aAAoCC,KAApB,EAAuC;AAC5DC,cAAQ,GAAG5E,MAAM,CAANA,uBAAjB,UAAiBA,CAAX4E;AACN,MAAMC,WAAW,GAAGF,IAAI,CAF0C,IAE9CA,EAApB,CAFkE;;AAGlEC,UAAQ,CAARA;AACA,SAAOA,QAAQ,CAARA,QAAP;AAJK;;ICdP,Y;;;;;AAaEzK,wBAAuF,IAAvFA,EAAuF;AAAA;;AAAA;;AAA3E,cAA2E,IAA3E;AAAA,iBAA2E,IAA3E;AAAA,QAAeqI,QAAf,GAA2E,IAA3E,CAAeA,QAAf;AACV;;AADqF;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAEhFsC,WAAL,GAAKA,GAAL,GAAKA;AACL,oBAAcC,MAAM,IAApB;AACA,sBAAgBvC,QAAQ,IAAIwC,gBAAgB,CAA5C,6BAA4C,CAA5C;AACKhF,WAAL,MAAKA,GAAL,SAAKA;AACAiF,WAAL,WAAKA,GAAL,SAAKA;AACAC,WAAL,aAAKA,GAAL,KAAKA;;AACL;;AARqF;AAStF;;;;WAEDC,uBAAW;AAAA;;AACT,yBAAmBC,MAAM,CACvBC,WAAW,CAAC,YAAK;AACf,YAAI,iBAAe,cAAnB,QAAuC;AACrCC,uBAAa,CAAC,MAAKL,CAAnBK,WAAa,CAAbA;;AACI,eAAC,MAAKJ,CAAV,aAAI,EAAqB;AAClBK,mBAAL,IAAKA,CAAL,OAAKA;AACN;;AACIL,iBAAL,aAAKA,GAAL,KAAKA;AACAlF,iBAAL,MAAKA,GAAL,SAAKA;AACN;;AACG,8BAAJ,SAAI,EAA2BsF,aAAa,CAAC,MAAKL,CAAnBK,WAAa,CAAbA;AATtB,SADb,GACa,CADY,CAAzB;AAaD;;;WAEDE,gBAAI;AAAA;;AACF,oBAAcxF,MAAM,CAANA,KAAY,SAAZA,MAA2B,KAA3BA,QAAwC,KAAtD,QAAcA,CAAd;AACI,+BAAJ,MAAI,sDAAJ,KAAI,EAAoB;AACjByF,oBAAO,CAAd,OAAOA;AACR;;;WAEDC,iBAAK;AACER,WAAL,aAAKA,GAAL,IAAKA;AACL,UAAI,KAAJ,QAAiB;AAClB;;;WAEDS,kBAAQ,yBAARA,EAA2C;AACzC,qCAA+B;AAC7B3F,cAAM,CAANA,iBAAwB,SAAxBA;AADF,aAEO;AACLA,cAAM,CAANA,gBAAuB,SAAvBA;AACD;AACF;;;;EAzDH,mF;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICkBA,0B;;;;;AA4BE7F,sCAAY,gBAAZA,EAAkH,IAAlHA,EAAkH;AAAA;;AAAA;;AAA5E,iCAA4E,IAA5E,CAAEmC,iBAAF;AAAA,QAAEA,iBAAF;AAAA,iCAA4E,IAA5E,CAA2BoG,iBAA3B;AAAA,QAA2BA,iBAA3B,uCAA+C,UAA/C;AACpC,kDAAwB;AAAEpG,uBAAF,EAAEA,iBAAF;AAAqBoG;AAArB,KAAxB,EADgH;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAIhH,oBACKkD,8CAA0B,CALiF,aAK3GA,CADL,CAJgH;;AAS3G1E,WAAL,QAAKA,GAAL,EAAKA;AACA2E,WAAL,cAAKA,GAAL,EAAKA;AACCC,4BAAoB,GAAGC,aAAa,CAAbA,aAA2B3E,eAAxD,EAA6B2E,CAAvBD;AACN,+BAAyBA,oBAAoB,CAA7C;AACA,wBAbgH,EAahH,CAbgH;AAiBhH;;AACA,yBAAmB,YAAK;AACtB;AADF;;AAIME,2BAAmB,GAAIC,SAAvBD,mBAAuBC,QAAD,EAAuD;AAC3E,mBAAN,OAAM;AAAA,UAAUhC,MAAV,GAAN,OAAM,CAAUA,MAAV;;AACN,UAAI9H,MAAM,KAAK+J,gGAA2B,CAA1C,eAA0D;AAClD,2BAAN,MAAM;AAAA,YAAgBC,GAAhB,GAAN,MAAM,CAAgBA,GAAhB;;AACN,8BAAoB;AAAEC,gBAAM,EAAR;AAAmCD,aAAG,EAAEA;AAAxC,SAApB;AAFF,aAGO,IAAIhK,MAAM,KAAK+J,gGAA2B,CAA1C,eAA0D;AACzD,uBAAN,MAAM;AAAA,YAAYpB,GAAZ,GAAN,MAAM,CAAYA,GAAZ;;AACN;AAFK,aAGA,IAAI3I,MAAM,KAAK+J,gGAA2B,CAA1C,cAAyD;AACzDG,eAAL,kBAAKA,CAAL,MAAKA;AADA,aAEA,IAAIlK,MAAM,KAAK+J,gGAA2B,CAA1C,gBAA2D;AAC1D,YAAEI,oBAAF,GAAN,MAAM,CAAEA,oBAAF;AACN;AACA;AAHK,aAIA,IAAInK,MAAM,KAAK+J,gGAA2B,CAA1C,iBAA4D;AACjE;AACA;;AACA;AACD;AAlBH,KAAMF;;AAqBN;;AA3CgH;AA4CjH;;;;SAEGO,eAAU;AACL,yBAAP,UAAO;AACR;;;SAEGC,eAAkB;AACb,yBAAP,kBAAO;AACR;AAED;;AAEG;;;;WACHC,uBAAW;AACF,yBAAP,WAAO;AACR;;;;qRAEKtD,kBAAgB,MAAhBA;AAAAA;;AAAAA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAEI,wBAFJA,GAEF,MAFEA,CAEI,QAFJA,EAEI,cAFJA,GAEF,MAFEA,CAEI,cAFJA,EAEI,mBAFJA,GAEF,MAFEA,CAEI,mBAFJA,EAEqDuD,WAFrDvD,GAEF,MAFEA,CAEqDuD,WAFrDvD;AAGGjC,qBAAL,QAAKA,GAAL,QAAKA;AACA2E,qBAAL,cAAKA,GAAL,cAAKA;AACAc,qBAAL,mBAAKA,GAAL,mBAAKA;AACAD,qBAAL,WAAKA,GAAL,WAAKA;AACL,0DAA0C,YAAK;AAC7C;AACA,sBAAI,CAAC,MAAKE,CAAL,OAAL,oBAAqC;AAFvC;AAPEzD;AAAAA,uBAWkD,aAAa;AAC/DhH,wBAAM,EAAE0K,+FAA0B,CAD6B;AAE/D5C,wBAAM,EAAE;AAFuD,iBAAb,CAXlDd;;AAAAA;AAAAA;AAWI,oCAXJA,uBAWI,oBAXJA;AAW4BoD,0BAX5BpD,uBAW4BoD,UAX5BpD;;AACA;AAgBF;;AAjBEA;AAAAA;;AAAAA;AAAAA;AAAAA;AAmBFzC,mBAAG,CAAHA;;AAnBEyC;AAAAA;AAqBFzC,mBAAG,CAAHA;AACA;AACK6E,qBAAL,IAAKA,CAAL,cAAKA;AAvBHpC;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;WA2BN2D,uBAAa,QAAbA,EAAoH;AAAA;;AAApF,kBAAoF,oEAAF,EAAlF;AAAA;AAAA;AAAA,UAAetE,QAAf,SAAeA,QAAf;;AAC9B,UAAMuE,QAAQ,GAAG,QAAQjC,GAAG,IAAO,eAAP,QAAO,EAAP,qBAAO,EAAP,MAAO,CAAnC,QAAmC,CAAlB,CAAjB;;AACI,eAAJ,cAAI,EAAqB;AACvB;AACA,YAAIiC,QAAQ,CAAZ,MAAmBA,QAAQ,CAARA,kCAAoC,KAAvD,cAAmBA,EAAnB,KACKA,QAAQ,CAARA,iCAAmC,KAAnCA;AACN;;AACD,UAAMC,aAAa,GAAG,iBAAiB;AAAElC,WAAG,EAAL;AAAiBC,cAAjB,EAAiBA,MAAjB;AAAyBvC;AAAzB,OAAjB,CAAtB;AACAwE,mBAAa,CAAbA;;AACA,UAAI,CAACA,aAAa,CAAlB,QAA2B;AACzB,8CAAsCD,QAAQ,CAA9C;;AACA;AAXgH;;;AAclH,kCAdkH,aAclH,CAdkH;;AAgBlH,mBAA4C;AAC1C5K,cAAM,EAAE0K,+FAA0B,CADQ;AAE1C5C,cAAM,EAAE;AAAEgD;AAAF;AAFkC,OAA5C;AAIAD,mBAAa,CAAbA,cAA4B,YAAK;AAC/B;AACA,eAAO,MAAKE,CAAL,WAAP,QAAO,CAAP;;AACA,uBAA4C;AAC1C/K,gBAAM,EAAE0K,+FAA0B,CADQ;AAE1C5C,gBAAM,EAAE;AAAEgD;AAAF;AAFkC,SAA5C;AAHFD;AAQD;;;WAEDG,0BAAoF;AAArE,kBAAqE,oEAAF,EAAnE;AAAA,+BAAEf,MAAF;AAAA,UAAEA,MAAF;AAAA,4BAAkBD,GAAlB;AAAA,UAAkBA,GAAlB,0BAAwB,EAAxB;;AACb,UAAMiB,KAAK,GADuE,EAClF,CADkF;;AAG9E,WAAJ,MAAI,EAAS;AACXA,aAAK,CAALA,UAAgB,8CAAhBA;AACAA,aAAK,CAALA;AACAA,aAAK,CAALA;;AACQ,4BAAR,cAAQ;AACDzJ,8BAAe,CAApB,QAAKA;AACHyJ,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACA;;AACGzJ,8BAAe,CAApB,SAAKA;AACHyJ,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACA;;AACGzJ,8BAAe,CAApB,YAAKA;AACHyJ,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACA;;AACGzJ,8BAAe,CAApB,WAAKA;AACL;AACEyJ,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACAA,iBAAK,CAALA;AACA;AAzBI;AAJV,OAAI,MA+BG;AACLA,aAAK,CAALA;AACAA,aAAK,CAALA;AACAA,aAAK,CAALA;AACAA,aAAK,CAALA;AACAA,aAAK,CAALA;AACAA,aAAK,CAALA;AACAA,aAAK,CAALA;AACD;;AACDvM,YAAM,CAANA,OAAc,iBAAdA;AACA;AACA,mBAAoE;AAClEsB,cAAM,EAAE0K,+FAA0B,CADgC;AAElE5C,cAAM,EAAE;AAAEuC,4BAAkB,EAApB;AAA8BL;AAA9B;AAF0D,OAApE;AAID;;;WAEDkB,2BAAe;AACb;;AACA;AACD;;;WAEDC,2BAAe;AACb;;AACA;AACD;AAED;;;AAGG;;;;WACOpE,qBAAW,OAAXA,EAAW,QAAXA,EAAoH;AACtHqE,YAAE,GAAR,QAAMA;AACAC,kBAAQ,GAAd,OAAMA;;AACN,UAAI,CAACjN,KAAK,CAALA,QAAL,QAAKA,CAAL,EAA8B;AAC5B,YAAI,CAACiN,QAAQ,CAAb,SAAuB;AACrBA,kBAAQ,CAARA;AACD;AACF;;AACD;AACD;AAED;;;;;;AAMG;;;;WACOzE,wBAAc,oBAAdA,EAAc,UAAdA,EAAgE;AACxE,UAAI,CAAC,YAAL,aAA8B;AAC5B;AACKwC,aAAL,IAAKA,CAAL,SAAKA,EAAgB;AAAEe,8BAAF,EAAEA,oBAAF;AAAwBC;AAAxB,SAAhBhB;AACL7E,WAAG,CAAHA,MAAUkC,QAAQ,CAARA,eAAVlC,oBAAUkC,CAAVlC;AACD;AACF;AAED;;;;;;;;;;AAUG;;;;WACOsC,2BAAiB,aAAjBA,EAAiB,YAAjBA,EAA+D;AACvE,UAAI,2BAA4B,CAAC,YAAD,6BAA0C,CAA1E,eAA2F;AACzF;AAEA;;AACA,2BAAmB;AACjBvC,eAAK,GAAG;AAENgH,sBAAY,IAAI7E,QAAQ,CAARA,OAFlBnC,YAEkBmC,EAFV,CAARnC;AAIAC,aAAG,CAAHA;AALF,eAMO;AACLD,eAAK,GAAG;AAENgH,sBAAY,IAAI7E,QAAQ,CAARA,OAFlBnC,uBAEkBmC,EAFV,CAARnC;AAIAC,aAAG,CAAHA;AACA;AACA;AACA;AACA;AACA;AACD;;AAED;AACD;AAjR4E,K,CAAA;;;;WAqRvE2F,4BAAkB,MAAlBA,EAAgD;AAChD,UAAEY,QAAF,GAAN,MAAM,CAAEA,QAAF;;AACN,UAAI,gBAAJ,QAAI,CAAJ,EAA+B;AAC7B;AACA,eAAO,gBAAP,QAAO,CAAP;AACD;AACF;;;;2RAEaS,kBAAsB,QAAtBA,EAAsB,GAAtBA;AAAAA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AACNC,uBADMD,GACI,KAAhB,UAAgB,EADJA;AAENE,0BAFMF,GAEOhD,aAAa,CAC9B,+KAGgC,uBAHhC,gEAI8B,uBAJ9B,eAKE,MALF,eADF,QAAgC,CAFpBgD;AAYNG,4BAZMH,GAYShD,aAAa,0CAAiC,uBAAjC,UAAlC,YAAkC,EAZtBgD;AAaNI,4BAbMJ,GAaShD,aAAa,CAAlC,4CAAkC,CAbtBgD;AAcZI,4BAAY,CAAZA;AACAF,0BAAU,CAAVA;;AACMG,0BAhBML,GAgBO,SAAbK,UAAa,GAAK;AACtBF,8BAAY,CAAZA,0BAAuC,YAAK;AACrCf,2BAAL,aAAKA,CAAL,QAAKA,EAAwB;AAC3BhC,yBAD2B,EAC3BA,GAD2B;AAE3BC,4BAAM,EAFqB;AAG3BvC,8BAAQ,EAAEwC,gBAAgB;AAHC,qBAAxB8B;;AAKLc,8BAAU,CAAVA;AACA,wBAAI,+CAAJ,GAAoD;AAPtDC;AADF,iBAhBYH;;AA4BNM,4BA5BMN,GA4BS,SAAfM,YAAe,GAAK;AACxB;AADF,iBA5BYN;;AAAAA;AAAAA,uBAgCNO,aAAN,EAhCYP;;AAAAA;AAiCZM,4BAAY;AACZD,0BAAU;AACV;;AAnCYL;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;WAsCNQ,sBAAU;AAChB,UAAMP,OAAO,aAAM,KAAN,UAAb,6BAAa,CAAb;AACA;AACD;;;;EAtUH,Y;;AAAM/B,yGACyD,eADzDA,EACyD;AAC3DuC,gBAAc,EAD6C;AAE3D7B,sBAAoB,EAFuC;AAG3DE,oBAAkB,EAHyC;AAI3D4B,sBAAoB,EAJuC;AAM3DC,uBAAqB,EANsC;AAO3DC,aAAW,EAPgD;AAQ3D/B,YAAU,EARiD;AAS3DgC,2BAAyB,EATkC;AAU3D9B,aAAW,EAAE;AAV8C,CADzDb;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICXN,mB;;;;;AAUE;;;AAGG;;AAGH;;;;AAIG;AAKHzL,+BAAY,gBAAZA,EAAkH,IAAlHA,EAAkH;AAAA;;AAAA;;AAA5E,iCAA4E,IAA5E,CAAEmC,iBAAF;AAAA,QAAEA,iBAAF;AAAA,iCAA4E,IAA5E,CAA2BoG,iBAA3B;AAAA,QAA2BA,iBAA3B,uCAA+C,UAA/C;AACpC,mDAAwB;AAAEpG,uBAAF,EAAEA,iBAAF;AAAqBoG;AAArB,KAAxB,EADgH;;AAAA;;AAAA;;AAAA;;AAIhH,qBACK8F,uCAAmB,CALwF,aAK3GA,CADL,CAJgH;;AAS3GC,YAAL,eAAKA,GAAL,IAAKA;AACA3L,YAAL,OAAKA,GAAL,IAAKA;AAEA4L,YAAL,sBAAKA,GAAyB,+BAA9B,IAA8B,+IAAzBA;AACAC,YAAL,mBAAKA,GAAsB,4BAA3B,IAA2B,+IAAtBA;AACAC,YAAL,yBAAKA,GAA4B,kCAd+E,IAc/E,+IAA5BA,CAd2G;AAkBhH;;AACA,0BAAmB,YAAK;AACtB;AADF;;AAIMC,kCAA0B,GAAI5C,SAA9B4C,0BAA8B5C,QAAD,EAAmE;AAC9F,mBAAN,OAAM;AAAA,UAAUhC,MAAV,GAAN,OAAM,CAAUA,MAAV;;AACN,UAAI9H,MAAM,KAAK2M,2FAAsB,CAArC,kBAAwD;AACjDJ,gBAAL,sBAAKA,CAAL,MAAKA;AADP,aAEO,IAAIvM,MAAM,KAAK2M,2FAAsB,CAArC,sBAA4D;AAC5DF,gBAAL,yBAAKA,CAAL,MAAKA;AADA,aAEA,IAAIzM,MAAM,KAAK2M,2FAAsB,CAArC,eAAqD;AACrDH,gBAAL,mBAAKA,CAAL,MAAKA;AACN;AA/B6G,KAuB1GE,CAvB0G;;;AAmChH;;AAnCgH;AAoCjH;AAED;;AAEG;;;;;WACHpC,uBAAW;AACF,yBAAP,WAAO;AAnEwD,K,CAAA;AAuEjE;;AACA;;;;AAIG;;;;;qRACGtD;AAAAA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,uBAE+C,aAAa;AAC5DhH,wBAAM,EAAE4M,0FAAqB,CAD+B;AAE5D9E,wBAAM,EAAE;AAFoD,iBAAb,CAF/Cd;;AAAAA;AAAAA;AAEI,wBAFJA,wBAEI,QAFJA;AAEI,uBAFJA,wBAEI,OAFJA;AAEyB6F,0BAFzB7F,wBAEyB6F,UAFzB7F;AACA;AAOGoC,qBAAL,IAAKA,CAAL,SAAKA,EAAgB;AAAEzI;AAAF,iBAAhByI;;AAEL,yCAAyB;AAAEzI;AAAF,iBAAzB;;AACA,+CAA+B;AAAEmM,0BAAF,EAAEA,QAAF;AAAYD;AAAZ,iBAA/B;;AACKN,qBAAL,sBAAKA,CAAL,QAAKA;;AAZHvF;AAAAA;;AAAAA;AAAAA;AAAAA;AAcFzC,mBAAG,CAAHA;;AAdEyC;AAAAA;AAgBFzC,mBAAG,CAAHA;AACA;AACK6E,qBAAL,IAAKA,CAAL,cAAKA;AAlBHpC;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;AAsBN;;;AAGG;;;;WACHD,qBAAW,OAAXA,EAAW,QAAXA,EAAwI;AAAA;;AAAlBgG,oBAAkB,uEAAL,KAAbA;AAChH3B,YAAE,GAAN,QAAIA;AACEC,kBAAQ,GAAd,OAAMA;;AACN,UAAI,CAACjN,KAAK,CAALA,QAAL,QAAKA,CAAL,EAA8B;AAC5B,YAAI,CAACiN,QAAQ,CAAb,SAAuB;AACrBA,kBAAQ,CAARA;AACD;;AAEGA,oBAAQ,CAARA,gCAAyCA,QAAQ,CAARA,WAA7C,wBAAIA,EAAuF;AACzF;AACAD,YAAE,GAAG,sBAA2C;AAC9C,2CAA4BnH,GAAG,CAAHA,UAA5B,IAA8CoH,QAAQ,CAARA,WAA9C;;AACA2B,oBAAQ,MAARA,GAAQ,CAARA;AAFF5B;AAFF,SAAIC,MAMG,IAAIA,QAAQ,CAARA,WAAJ,2BAAmD;AACxD;;AACA;AACD;AACF;;AACD;AACD;AAED;;;;;;AAMG;;;;WACOzE,wBAAc,OAAdA,EAA8B;AACtC,UAAI,CAAC,YAAL,aAA8B;AAC5B;AACKwC,aAAL,IAAKA,CAAL,SAAKA,EAAgB;AAAEzI;AAAF,SAAhByI;AACL7E,WAAG,CAAHA,MAAUkC,QAAQ,CAARA,eAAVlC,OAAUkC,CAAVlC;AACD;AACF;AAED;;;;;;;;;;AAUG;;;;WACOsC,2BAAiB,aAAjBA,EAAiB,YAAjBA,EAA+D;AACvE,UAAI,2BAA4B,CAAC,YAAD,6BAA0C,CAA1E,eAA2F;AACzF;AAEA;;AACA,2BAAmB;AACjBvC,eAAK,GAAG;AAENgH,sBAAY,IAAI7E,QAAQ,CAARA,OAFlBnC,YAEkBmC,EAFV,CAARnC;AAIAC,aAAG,CAAHA;AALF,eAMO;AACLD,eAAK,GAAG;AAENgH,sBAAY,IAAI7E,QAAQ,CAARA,OAFlBnC,uBAEkBmC,EAFV,CAARnC;AAIAC,aAAG,CAAHA;AACK5D,eAAL,OAAKA,GAAL,IAAKA;AACL;AACK2L,eAAL,eAAKA,GAAL,IAAKA;AACL;AACA;AACD;;AAED;AACD;AACF;AAED;;AAEG;;;;WACOC,gCAAsB,QAAtBA,EAAqF;AAAzCU,uBAAyC,uEAAzB,KAAhBA;AAAuBF,oBAAkB,uEAAL,KAAbA,CAAkB,CAC7F;;AACIG,uBAAa,GAAjB,QAAIA;;AACJ,UAAI,CAAC9O,KAAK,CAALA,QAAL,aAAKA,CAAL,EAAmC;AACjCmG,WAAG,CAAHA;AACA2I,qBAAa,GAAbA;AACD;;AAN4F,+JAQ7F,QAR6F;AAAA;;AAAA;AAQ7F,4DAAgC;AAAA,cAAhC,OAAgC;;AAC9B,cAAI,mBAAJ,UAAiC;AAC/B3I,eAAG,CAAHA;AACA2I,yBAAa,GAAbA;AACA;AACD;AAb0F;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAiBzF,WAACC,uDAAM,CAAC,YAAD,UAAX,aAAW,CAAP,EAA8C;AAChD;AACA;AACIF,yBAAa,IAAI7O,KAAK,CAALA,QAAc,YAA/B6O,QAAiB7O,CAAjB6O,IAAwD,8BAAxDA,KAA2F,CAA/F,UAAIA,EAAwG;AAC1G1I,aAAG,CAAHA;AACD;;AAED;AACA;AAzB2F;;;AA6B7F,UAAI,yBAAyB2I,aAAa,CAA1C,CAA0C,CAA1C,EAA+C;AAC7C,+BAAwBA,aAAa,CAAbA,CAAa,CAAbA,IAAxB;AACD;AACF;AAED;;;;;;;;AAQG;;;;WACOV,+BAA0D;AAAtC,kBAAsC,oEAAF,EAApC;AAAA,UAAE7L,OAAF,SAAEA,OAAF;;AACxB,WAAJ,OAAI,EAAU;AACZ4D,WAAG,CAAHA,6EAAiF;AAAE5D;AAAF,SAAjF4D;AACA;AACD;;AAEG5D,iBAAO,KAAX,SAAIA,EAAuB;AACpBkG,aAAL,iBAAKA,CAAL,IAAKA;AADP,OAAIlG,MAEG;AACAiG,aAAL,cAAKA,CAAL,OAAKA;;AAEL,YAAIjG,OAAO,KAAK,KAAhB,SAA8B;AACvBA,eAAL,OAAKA,GAAL,OAAKA;;AACL,cAAI,YAAJ,aAA6B;AAC3B,sCAA0B,KAA1B;AACD;AACF;AACF;AACF;AAED;;;;;;;;;AASG;;;;WACO8L,qCAAsG;AAA5E,kBAA4E,oEAAF,EAA1E;AAAA;AAAA,UAAYI,UAAZ,SAAYA,UAAZ;;AAClC,UAAI,sBAAJ,WAAqC;AACnCtI,WAAG,CAAHA,+EAAmF;AAAEsI;AAAF,SAAnFtI;AACA;AACD;;AAED,UAAIsI,UAAU,KAAK,YAAnB,YAA2C;AACzC;;AACA,oCAA4BC,QAAQ,IAApC;AACD;AACF;;;;EAzQH,Y;;AAAMT,kGACkD,eADlDA,EACkD;AACpDS,UAAQ,EAD4C;AAEpDxC,aAAW,EAFyC;AAGpDuC,YAAU,EAH0C;AAIpDV,aAAW,EAJyC;AAKpDC,2BAAyB,EAL2B;AAMpDH,sBAAoB,EAAE;AAN8B,CADlDI;ACXN;;AAEG;;;AACH,wBAA8B;AAC5B,SAAO,YAAY,2BAAoB;AACjC;AACF,UAAMe,GAAG,GAAGnH,QAAQ,CAARA,cAAZ,KAAYA,CAAZ;;AACAmH,SAAG,CAAHA,SAAa;AAAA,eAAM9E,OAAO,CAA1B8E,IAA0B,CAAb;AAAA,OAAbA;;AACAA,SAAG,CAAHA,UAAc;AAAA,eAAM9E,OAAO,CAA3B8E,KAA2B,CAAb;AAAA,OAAdA;;AACAA,SAAG,CAAHA;AAJF,KAAI,CAKF,UAAU;AACVC,YAAM,CAANA,CAAM,CAANA;AACD;AARH,GAAO,CAAP;AAUD;AAED;;AAEG;;;AACH,IAAMC,WAAW,GAAIzJ,SAAfyJ,WAAezJ,OAAD,EAA2B;AACvC,MAAEoC,QAAF,GAAN,MAAM,CAAEA,QAAF;AAEN,MAAMsH,QAAQ,GAAGtH,QAAQ,CAARA,cAAjB,sCAAiBA,CAAjB;;AACA,gBAAc;AACLsH,mBAAQ,CAAf,OAAOA;AACR;;AAED,MAAMC,SAAS,GAAGvH,QAAQ,CAARA,cAAlB,2BAAkBA,CAAlB;;AACA,iBAAe;AACNuH,oBAAS,CAAhB,OAAOA;AACR;;AAEGvH,cAAQ,CAARA,SAAkBA,QAAQ,CAARA,eAAtB,CAAIA,EAA6C;AACxCA,mBAAQ,CAAf,KAAOA;AACR;;AAED,SAAOpC,MAAM,CAANA,SAAP;AAjBF;AAoBA;;AAEG;;;SACH,W;;;AAsBA;;;AAGG;;;;wQAzBH;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEYoC,qBAFZ,GACM,MADN,CAEYA,QAFZ,EACM;;AAIEwH,gBALR,GAKexH,SAAQ,CAARA,cAAX,kCAAWA,CALf;AAAA,4BAMQwH,IANR;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAMuBC,SAAS,CAACD,IAAI,CAAjC,IAA4B,CANhC;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,+CAOaA,IAAI,CAAX,IAPN;;AAAA;AACM;AAUFA,gBAAI,GAAGrP,KAAK,CAALA,KAAW6H,SAAQ,CAARA,iBAAX7H,yBAAW6H,CAAX7H,OAAwFuP,eAAD;AAAA,qBAAWC,OAAO,CAACD,KAAK,CAAtHF,IAAgH,CAAlB;AAAA,aAAvFrP,CAAPqP;AAXJ,4BAYQA,IAZR;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAYuBC,SAAS,CAACD,IAAI,CAAjC,IAA4B,CAZhC;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,+CAaaA,IAAI,CAAX,IAbN;;AAAA;AAAA,+CAgBI,EAhBJ;;AAAA;AAAA;AAAA;AAAA,+CAkBI,EAlBJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AA0BA,IAAMI,eAAe;AAAA,qQAAG;AAAA;AAAA;AAAA;AAAA;AAAA,2BAChBP,WAAW,CAD2D,MAC3D,CADK;AAAA;AAAA,mBAEVQ,WAAW,QAFD;;AAAA;AAAA;AAAA;AACtBC,kBADsB;AAEtBN,kBAFsB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfI,eAAe;AAAA;AAAA;AAAA,GAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCA,IAAMG,uBAAuB,GAAG,kFAAhC,SAAgC,CAAhC;AACA,IAAMC,4BAA4B,GAAG,CAACvD,+FAA0B,CAAhE,YAAqC,CAArC;AAEA,IAAMwD,uBAAuB,GAAGC,gBAAgB,CAAhD,cAAgD,CAAhD,C,CAAA;;AAGA;AAAA,8QAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,kBAEO,oBAAJ,WAFH;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAGSC,2BAHT,GAG2BnI,QAAQ,CAARA,cAAxB,MAAwBA,CAH3B;AAAA;AAAA,mBAI8BnB,WAAW,CAAtC,YAAsC,CAJzC;;AAAA;AAAA;AAIWC,oBAJX,sBAIWA,QAJX;AAKGqJ,2BAAe,CAAfA;AACAA,2BAAe,CAAfA;AACAA,2BAAe,CAAfA;AACAA,2BAAe,CAAfA;;AACIA,+BAAe,CAAfA,WAA2BA,eAAe,CAAfA,QAA/B,QAAIA,EAA6D;AAC3DA,iCAAe,CAAfA,iBAAJ,UAAIA,GAA8C;AAChDnI,wBAAQ,CAARA;AACD;AACF;;AAbJ;AAAA;;AAAA;AAAA;AAAA;AAeG1B,eAAG,CAAHA;;AAfH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD;;AAAA,WAAC,aAAD;AAAA;AAAA;;AAAA,SAAC,aAAD;AAAA;;IAmBA,K;AAyBEvG,mBAAuD;AAAA;;AAA3C,gBAA2C,oEAAF,EAAzC;AAAA,kCAAEqQ,WAAF;AAAA,QAAEA,WAAF,kCAAgB,KAAhB;;AAA2C;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAChDtJ,SAAL,QAAKA,GAAL,EAAKA;AACL,yBAFqD,KAErD,CAFqD;;AAGhDuJ,SAAL,sBAAKA,GAAL,IAAKA;AACAD,SAAL,WAAKA,GAAL,WAAKA;AACL,uBAAmBA,WAAW,GAA9B;AACK3E,SAAL,cAAKA,GAAL,EAAKA;AACN;;;;SAEGU,eAAU;AACZ,UAAI,CAAC,KAAL,uBAAiC;AAC1B,wCAAP,UAAO;AACR;;;;yQAEKmE;AAAAA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,wBASa,8DAAF,EATXA,yBACJC,QADID,EACJC,QADID,+BACOnN,eAAe,CADjB,UAALmN,+CAEJE,aAFIF,EAEJE,aAFIF,oCAAK,KAALA,wBAAK,OAALA,SAAK,OAALA,gCAIJpD,eAJIoD,EAIJpD,eAJIoD,sCAAK,KAALA,wDAKJG,eALIH,EAKJG,eALIH,sCAAK,KAALA,uDAMJvC,cANIuC,EAMJvC,cANIuC,qCAMa/M,eAAe,CANvB,WAAL+M,8CAOJI,MAPIJ,EAOJI,MAPIJ,6BAAK,eAALA,2CAQJK,WARIL,EAQJK,WARIL,kCAQU,EARVA;;AAAAA,qBAUA,KAAJ,aAVIA;AAAAA;AAAAA;AAAAA;;AAAAA,sBAU0B,UAAN,qBAAM,CAV1BA;;AAAAA;AAWJM,kGAAS,CAATA,MAAS,CAATA;AAXIN;AAAAA,uBAYiCzJ,WAAW,CAAhD,QAAgD,CAZ5CyJ;;AAAAA;AAAAA;AAYE,wBAZFA,uBAYE,QAZFA;AAYcvJ,wBAZduJ,uBAYcvJ,QAZduJ;AAaJhK,mBAAG,CAAHA;AAEKQ,qBAAL,QAAKA,GAAL,QAAKA;AACLR,mBAAG,CAAHA;AACIkK,oBAAJ,aAAIA,EAAelK,GAAG,CAAtB,SAAmBA,GAAfkK,KACClK,GAAG,CAAHA;AAECmF,8BApBF6E,GAoBmB,0BAAvB,eAAuB,CApBnBA;AAsBEO,8BAtBFP,GAsBmB,QAAvB,QAAuB,CAtBnBA;AAuBAO,kCAAc,CAAdA,kBAAJ,GAAIA,GAAuCA,cAAc,CAAdA,YAA3C,OAA2CA,CAAvCA,KACCA,cAAc,CAAdA;AAECC,0BA1BFR,GA0Be,IAAnB,eAAmB,EA1BfA;AA2BA7E,oBAAJ,cAAIA,EAAgBqF,UAAU,CAAVA;AACpBA,0BAAU,CAAVA,iBAA4BlL,MAAM,CAANA,SAA5BkL;AAEAD,8BAAc,CAAdA,OAAsBC,UAAU,CArBf,QAqBKA,EAAtBD,CA9BIP,CASa;;AAwBjB,mCAAmBhG,aAAa,6FAIrBuG,cAAc,CAJO,oKAM6B,iBAN7B,QAM6B,EAN7B,EAAhC,sBAAgC,EAAhC;AAUKtE,qBAAL,mBAAKA,GAAsBjC,aAAa,0EACyB,iBADzB,QACyB,EADzB,EAAxC,WAAwC,EAAnCiC;AAIL,iCAAiBjC,aAAa,kCAA9B,yDAA8B,EAA9B;;AACMyG,2BAhDFT;AAAAA,sRAgDgB;AAAA;AAAA;AAAA;AAAA;AAAA,8DACX,YAAkB,2BAAoB;AACvC;AACF1K,sCAAM,CAANA,0BAAiC,QAAjCA;AACAA,sCAAM,CAANA,0BAAiC,QAAjCA;AACAA,sCAAM,CAANA,0BAAiC,QAAjCA;;AACA,iVAA0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDACbgK,eADwB,EAAX;;AAAA;AAClCoB,sDADkC;;AAAW;AAGnD,wFACE;AACEjD,0DADF,EACEA,cADF;AAEE2C,kDAFF,EAEEA,MAFF;AAGEO,mDAHF,EAGEA,OAHF;AAIED,wDAJF,EAIEA,YAJF;AAKEL;AALF,2CADF,EAQEE,cAAc,CARhB;;AAHwC;AAAA,iDAalC,mBAAgB;AACpB/J;AADoB,2CAAhB,CAbkC;;AAAA;AAgBxC,+DAAqB,QAArB,eAAqB,GAArB,KACK;AACAoK,kDAAL,aAAKA,GAAL,IAAKA;AACJtL,gDAAc,CAAdA;AACDyE,iDAAO;;AApBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAA1C;AAJF,+BAAI,CA0BF,cAAc;AACd+E,sCAAM,CAANA,KAAM,CAANA;AACD;AA7BH,6BAAO,CADW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAhDhBkB;;AAAAA,kCAgDES,WAhDFT;AAAAA;AAAAA;AAAAA;;AAAAA;AAAAA,uBAkFEzC,aAAN,EAlFIyC;;AAAAA;AAAAA;AAAAA,uBAmFES,WAAN,EAnFIT;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;0QAsFAa;AAAAA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAMtH,sBAANsH,GAAmC,8DAAF,EAAjCA;;AAAAA,oBACC,KAAL,aADIA;AAAAA;AAAAA;AAAAA;;AAAAA,sBAC2B,UAAN,mBAAM,CAD3BA;;AAAAA;AAAAA;AAGF,8CAA8BtH,MAAM,CAANA,iBAA9B;;AACI,qBAAC,KAAL,sBAAI,EAA8B;AAC3BuH,uBAAL,qBAAKA,CAAL,cAAKA,CAAqC;AAAEpF,0BAAM,EAAE;AAAV,mBAArCoF;AAHL,iBAFAD,CAEA;;;AAFAA;AAAAA,uBAQgB,YAAY,2BAAoB;AAChD;AACKE,0BAAL,QAAKA,CAAL,WAAKA,CACH;AAAEtP,0BAAM,EAAR;AAAoC8H,0BAAM,EAAE,CAAC,QAAD,wBAA8BA,MAAM,CAApC;AAA5C,mBADGwH,EAEHvH,gGAAqB,UAFvB,MAEuB,CAFlBuH;AAFP,iBAAkB,CARhBF;;AAAAA;AAQInL,mBARJmL;;AAAAA,sBAgBEhR,KAAK,CAALA,gBAAsB6F,GAAG,CAAHA,SAA1B,CAhBEmL;AAAAA;AAAAA;AAAAA;;AAAAA,mDAiBA,GAjBAA;;AAAAA;AAAAA,sBAoBI,UAAN,cAAM,CApBJA;;AAAAA;AAAAA;AAAAA;AAsBF7K,mBAAG,CAAHA;AAtBE6K;;AAAAA;AAAAA;AAyBE,+CAAJ,kBAAI,EAA+C;AAzBjDA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;wRA6BAG,mBAAmB,WAAnBA;AAAAA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,oBACC,KAAL,aADIA;AAAAA;AAAAA;AAAAA;;AAAAA,sBAC2B,UAAN,mBAAM,CAD3BA;;AAAAA;AAEE,0BAFFA,GAEJ,WAFIA,CAEE,UAFFA,EAEgBC,QAFhBD,GAEJ,WAFIA,CAEgBC,QAFhBD;AAAAA;AAAAA,uBAGsB,mCAAqG;AAC7HvP,wBAAM,EADuH;AAE7H8H,wBAAM,EAAE;AACN2H,8BADM,EACNA,UADM;AAEND;AAFM;AAFqH,iBAArG,CAHtBD;;AAAAA;AAAAA;AAGIG,uBAHJH,yBAGIG,OAHJH;;AAAAA,oBAUJ,OAVIA;AAAAA;AAAAA;AAAAA;;AAAAA,sBAUgB,UAAN,cAAM,CAVhBA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;2QAaAI;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,oBACC,2BAAL,UADIA;AAAAA;AAAAA;AAAAA;;AAAAA,sBAC8C,UAAN,eAAM,CAD9CA;;AAAAA;AAAAA;AAAAA,uBAGE,mCAAmC;AACvC3P,wBAAM,EAAE0K,+FAA0B,CADK;AAEvC5C,wBAAM,EAAE;AAF+B,iBAAnC,CAHF6H;;AAAAA;AAOCrB,qBAAL,sBAAKA,GAAL,IAAKA;;AAPDqB;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;4QAUAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,qBACA,2BAAJ,UADIA;AAAAA;AAAAA;AAAAA;;AAAAA;AAAAA,uBAEI,KAAN,MAAM,EAFJA;;AAAAA;AAIJ;;AAJIA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;WAONC,qBAAS;AACEC,eAAT,SAASA,CAAT,OAASA,EAA0B;AACjC,eAAOC,OAAO,YAAPA,WAA8BA,OAAO,YAA5C;AACD;;AACD,UAAID,SAAS,CAAC,KAAVA,SAAS,CAATA,IAA6BjM,MAAM,CAANA,uBAA8B,KAA/D,SAAiCA,CAAjC,EAAgF;AACzEmM,aAAL,SAAKA,CAAL,MAAKA;AACAA,aAAL,SAAKA,GAAL,SAAKA;AACN;;AACD,UAAIF,SAAS,CAAC,KAAVA,WAAS,CAATA,IAA+BjM,MAAM,CAANA,uBAA8B,KAAjE,WAAmCA,CAAnC,EAAoF;AAC7E0G,aAAL,WAAKA,CAAL,MAAKA;AACAA,aAAL,WAAKA,GAAL,SAAKA;AACN;;AACD,UAAIuF,SAAS,CAAC,KAAVA,mBAAS,CAATA,IAAuCjM,MAAM,CAANA,uBAA8B,KAAzE,mBAA2CA,CAA3C,EAAoG;AAC7F4H,aAAL,UAAKA,GAAL,SAAKA;AACAjB,aAAL,mBAAKA,CAAL,MAAKA;AACAA,aAAL,mBAAKA,GAAL,SAAKA;AACN;;AACI2E,WAAL,aAAKA,GAAL,KAAKA;AACN;;;WAEDjE,2BAAe;AACRmE,WAAL,qBAAKA,CAAL,eAAKA;AACN;;;WAEDlE,2BAAe;AACRkE,WAAL,qBAAKA,CAAL,eAAKA;AACN;;;;gRAEKY,mBAAW,MAAXA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,uBACE,mCAAmC;AACvCjQ,wBAAM,EAAE0K,+FAA0B,CADK;AAEvC5C,wBAAM;AAFiC,iBAAnC,CADFmI;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;+QAOAC,mBAAU,IAAVA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAA8BpI,sBAA9BoI,GAAiE,8DAAF,EAA/DA;AAAAA;AAAAA,uBACqB,mCAA+C;AACtElQ,wBAAM,EAAE0K,+FAA0B,CADoC;AAEtE5C,wBAAM,EAAE;AAF8D,iBAA/C,CADrBoI;;AAAAA;AACEC,0BADFD;AAKEE,yBALFF,GAKcG,IAAI,GAAOA,WAAP,IAAOA,CAAP,GAAtB,EALIH;AAOEtF,wBAPFsF,GAOa,kBAAW,KAAX,UAAkCE,SAAlC,EAAkCA,MAAlC,CAPoD,SAOpD,EAPbF,EAAiE;;AASrEtF,wBAAQ,CAARA;AACAlM,sBAAM,CAANA,qBAA6BkH,WAAD,EAAM;AAChCgF,0BAAQ,CAARA,uBAAgC9C,MAAM,CAAtC8C,CAAsC,CAAtCA;AADFlM;;AAGI,yBAAJ,cAAI,EAAqB;AACvBkM,0BAAQ,CAARA,iCAAmC,KAAnCA;AAdmE,iBAAjEsF,CAAiE;;;AAiB/DI,4BAjBFJ,GAiBiB,iBAAiB;AAAEvH,qBAAG,EAAL;AAAiBtC,0BAAQ,EAAEwC,gBAAgB;AAA3C,iBAAjB,CAjBjBqH;AAkBJI,4BAAY,CAAZA;;AAlBIJ;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;gRAqBAK;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,uBAC2B,mCAAiD;AAC9EvQ,wBAAM,EAAE0K,+FAA0B,CAD4C;AAE9E5C,wBAAM,EAAE;AAFsE,iBAAjD,CAD3ByI;;AAAAA;AACEC,gCADFD;AAAAA,mDAKJ,gBALIA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;kRAQAE,mBAAa,QAAbA,EAAa,MAAbA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,oBACC,KAAL,aADIA;AAAAA;AAAAA;AAAAA;;AAAAA,sBAC2B,UAAN,0BAAM,CAD3BA;;AAAAA;AAEE3F,wBAFF2F,GAEa7L,WAAjB,EAFI6L;;AAGJ;;AAHIA;AAAAA,uBAIwB,mCAG1B;AACAzQ,wBAAM,EAAE0K,+FAA0B,CADlC;AAEA5C,wBAAM,EAAE;AAAEwH,4BAAF,EAAEA,QAAF;AAAYxH,0BAAZ,EAAYA,MAAZ;AAAoBgD;AAApB;AAFR,iBAH0B,CAJxB2F;;AAAAA;AAIEC,6BAJFD;AAAAA,mDAWJ,aAXIA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;QAxPG;;;;;gRAuQHE;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,uBACoB,sBAAsB;AAC5C3Q,wBAAM,EADsC;AAE5C8H,wBAAM,EAAE;AAFoC,iBAAtB,CADpB6I;;AAAAA;AACEC,wBADFD;AAAAA,mDAKJ,QALIA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;oRAQAE,mBAAe,WAAfA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,uBACoB,sBAAsB;AAC5C7Q,wBAAM,EADsC;AAE5C8H,wBAAM,EAAE;AAAE5D,2BAAO,EAAE,WAAW,CAAX,UAAsB;AAAE4M,0CAAoB,EAAE;AAAxB,qBAAtB;AAAX;AAFoC,iBAAtB,CADpBD;;AAAAA;AACED,wBADFC;AAAAA,mDAKJ,QALIA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;oRAQAE,mBAAe,WAAfA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,uBAC4B,sBAAsB;AACpD/Q,wBAAM,EAD8C;AAEpD8H,wBAAM,EAAE;AAAE5D,2BAAO,EAAE8M,WAAW,CAAXA,4BAAX,KAAWA,CAAX;AAA2DC,+BAAW,EAAE;AAAxE;AAF4C,iBAAtB,CAD5BF;;AAAAA;AACEH,wBADFG;AAAwC;AAOtCG,sBAPFH,GAOWI,IAAI,CAAJA,MAAf,QAAeA,CAPXJ;AAQEK,yBARFL,GAQmC;AAAEM,2BAAS,EAAE,sEAAcH,MAAM,CAAjC,SAAa,CAAb;AAA8CE,2BAAS,EAAEE,MAAM,CAANA,KAAYJ,MAAM,CAAlBI;AAAzD,iBARnCP;AASJC,2BAAW,CAAXA,aAAyBI,SAAS,CAAlCJ,WAA8CI,SAAS,CAAvDJ;AATID,mDAUJ,WAVIA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;wRAaAQ,mBAAmB,YAAnBA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AACEC,8BADFD,GAC6B,YAAY,CAAZ,IAAkBE,YAAD,EAAO;AACvD,yBAAOA,EAAE,CAAFA,4BAAP,KAAOA,CAAP;AADF,iBAAiC,CAD7BF;AAAAA;AAAAA,uBAI8B,sBAAsB;AACtDvR,wBAAM,EADgD;AAEtD8H,wBAAM,EAAE;AAAE5D,2BAAO,EAAT;AAA2B+M,+BAAW,EAAE;AAAxC;AAF8C,iBAAtB,CAJ9BM;;AAAAA;AAIEG,yBAJFH;AAA+C;AAU7CI,0BAVFJ,GAUsC,SAAS,CAAT,IAAeK,cAAD,EAAS;AAC/D,sBAAMV,MAAM,GAAGC,IAAI,CAAJA,MAAf,IAAeA,CAAf;AACO;AAAEE,6BAAS,EAAE,sEAAcH,MAAM,CAAjC,SAAa,CAAb;AAA8CE,6BAAS,EAAEE,MAAM,CAANA,KAAYJ,MAAM,CAAlBI;AAAzD;AAFT,iBAA0C,CAVtCC;AAeJM,4BAAY,CAAZA,QAAqB,mBAAY;AAC/BJ,oBAAE,CAAFA,aAAgBE,UAAU,CAAVA,GAAU,CAAVA,CAAhBF,WAA2CE,UAAU,CAAVA,GAAU,CAAVA,CAA3CF;AACA;AAFFI;AAfIN,mDAmBJ,YAnBIA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;gRAsBAO,mBAAW,IAAXA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,uBACoB,sBAAsB;AAC5C9R,wBAAM,EADsC;AAE5C8H,wBAAM,EAAE;AACN3D;AADM;AAFoC,iBAAtB,CADpB2N;;AAAAA;AACElB,wBADFkB;AAAAA,mDAOJ,QAPIA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;wRAUAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,uBACoB,sBAAsB;AAC5C/R,wBAAM,EADsC;AAE5C8H,wBAAM,EAAE;AAFoC,iBAAtB,CADpBiK;;AAAAA;AACEnB,wBADFmB;AAAAA,mDAKJ,QALIA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;QApUG;AA6UT;AACA;AACA;AACA;AACA;AACA;;;;WAEQC,8BAAoB,eAApBA,EAA6C;AAC/CtI,wBAAc,GAAlB,EAAIA;;AACAwE,iCAAuB,IAA3B,eAAIA,EAA4C;AACxC+D,qBAAS,GAAGpO,MAAM,CAANA,qBAA4B+F,aAAa,CAA3D,eAAkB/F,CAAZoO;AACN,uBAAevI,cAAc,GAA7B,SAAeA,CAAf,KACK;AACH,cAAMwI,YAAY,uBAAgBtN,WAAlC,EAAkB,CAAlB;AACAf,gBAAM,CAANA,qBAA4B+F,aAAa,CAAzC/F;AACA6F,wBAAc,GAAdA;AACD;AACF;;AACIA,WAAL,cAAKA,GAAL,cAAKA;AACL;AACD;;;;6QAEayI,mBAAU,cAAVA;AAAAA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AACZ5N,mBAAG,CAAHA,KAD2D,mBAC3DA,EADY4N,CAA+C;;AAGrDC,8BAHMD,GAGW,6FAA0B;AAC/CpE,sBAAI,EAD2C;AAE/CnF,wBAAM,EAFyC;AAG/CyJ,8BAAY,EAAE,iBAAiBC;AAHgB,iBAA1B,CAHXH,EAA+C;;AAUrDI,mCAVMJ,GAUgB,6FAA0B;AACpDpE,sBAAI,EADgD;AAEpDnF,wBAAM,EAF8C;AAGpDyJ,8BAAY,EAAE,iBAAiBC;AAHqB,iBAA1B,CAVhBH,EAA+C;;AAiBrDK,8BAjBML,GAiBW,wCAAvB,EAAuB,CAjBXA;AAkBN9C,qCAlBM8C,GAkBkB,oDAA9B,EAA8B,CAlBlBA;;AAoBZK,8BAAc,CAAdA,kBAAiC,uBAAuG;AAChInH,8BAAQ,GAAd,OAAMA;;AACN,sBAAI,CAACjN,KAAK,CAALA,QAAD,QAACA,CAAD,IAA4B4P,uBAAuB,CAAvBA,SAAiC3C,QAAQ,CAAzE,MAAgC2C,CAAhC,EAAmF;AAC7E,yBAAC,OAAKqB,CAAL,sBAAL,UAAI,EAAwC,MAAM,UAAN,oBAAM,CAAN;AACtCvE,gCAAQ,GAAGlG,WAAjB,EAAMkG;;AACNuE,yCAAqB,CAArBA,wBAA8C;AAC5CzG,4BAAM,EADsC;AAE5CvC,8BAAQ,EAAEwC,gBAAgB;AAFkB,qBAA9CwG,EAHiF;AAQjF;;;AACAhE,4BAAQ,CAARA;AACD;;AACDmH,gCAAc,CAAdA;AAbFA;;AAgBAnD,qCAAqB,CAArBA,kBAAwC,uBAAoE;AACpGhE,8BAAQ,GAAd,OAAMA;;AACN,sBAAI,CAACjN,KAAK,CAALA,QAAD,QAACA,CAAD,IAA4B6P,4BAA4B,CAA5BA,SAAsC5C,QAAQ,CAA9E,MAAgC4C,CAAhC,EAAwF;AAChFnD,gCAAQ,GAAGlG,WAAjB,EAAMkG;;AACNuE,yCAAqB,CAArBA,wBAA8C;AAC5CzG,4BAAM,EADsC;AAE5CvC,8BAAQ,EAAEwC,gBAAgB,CAFkB,+BAElB,CAFkB;;AAAA,qBAA9CwG,EAFsF;;;AAOrFhE,4BAAQ,CAARA;AACF;;AACDgE,uCAAqB,CAArBA;AA/CyD,iBAoC3DA,CApCY8C,CAA+C;;;AAmDrDM,qDAnDMN,GAmDmCO,SAAzCD,qCAAyCC,EAAD,EAAM;AAClD,sBAAMC,cAAc,GAAGH,cAAc,CADa,CACb,CAArC,CADkD;;AAG5CI,0BAAI,GAAV,OAAMA;;AACNJ,gCAAc,CAAdA,CAAc,CAAdA,GAAoB,mCAAiC;AAC7C,iCAAN,OAAM;AAAA,0CAAN,OAAM,CAAU1K,MAAV;AAAA,wBAAUA,MAAV,gCAAmB,EAAnB;;AACF9H,8BAAM,KAAV,wBAAIA,EAAqC;AACvC,0BAAI,CAAJ,IAAS,OAAO,IAAI,CAAJ,MAAW;AAAE6S,qCAAa,EAAE/K,MAAM;AAAvB,uBAAX,CAAP;AACT8K,0BAAI,CAAJA,MACS;AAAEC,qCAAa,EAAE/K,MAAM;AAAvB,uBADT8K,EAEE;AAFFA,4BAGS3O,aAAD;AAAA,+BAASmH,EAAE,OAHnBwH,GAGmB,CAAX;AAAA,uBAHRA,EAIE;AAJFA,6BAKUE,aAAD;AAAA,+BAAS1H,EAAE,CALpBwH,GAKoB,CAAX;AAAA,uBALTA;AAMD;;AACMD,yCAAc,CAAdA,YAA2B,UAAlC,EAAkC,CAA3BA;AAXTH;AAvDyD,iBAA/CL,EAA+C;;;AAuE3DM,qDAAqC,CAArCA,SAAqC,CAArCA;AACAA,qDAAqC,CAArCA,WAAqC,CAArCA;AACAA,qDAAqC,CAArCA,MAAqC,CAArCA;AAEMM,qCA3EMZ,GA2EkB,0BAA0B;AACtD;AACA;AACAa,gCAAc,EAAE;AAAA,2BAAM,IAAN;AAAA;AAHsC,iBAA1B,CA3ElBb;AAiFNc,4CAjFMd,GAiFyB,iCAAiC;AACpE;AACA;AACAa,gCAAc,EAAE;AAAA,2BAAM,IAAN;AAAA;AAHoD,iBAAjC,CAjFzBb;AAuFP7C,qBAAL,QAAKA,GAAL,qBAAKA;AACAD,qBAAL,qBAAKA,GAAL,4BAAKA;AAxFO8C;AAAAA,uBA0FN,OAAO,CAAP,IAAY,CAChBK,cAAc,CADE,gBAChBA,EADgB,EAEhB,qBAAqB,CAArB;AAEE9I,gCAAc,EAAE,KAFlB;AAGEc,qCAAmB,EAAE,KAHvB;AAIED,6BAAW,EAAE,KAAKA;AAJpB,mBAFgB,CAAZ,CA1FM4H;;AAAAA;AAmGZ5N,mBAAG,CAAHA;;AAnGY4N;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChahB;;AAUE;AAAA;AAAA;AAAA,WAVO,0BAUP;AAVuB;AAUvB;AACA;AAAA;AAAA;AAAA,WAXyB,+BAWzB;AAX8C;AAW9C;;AAVF;;AAWE;AAAA;AAAA;AAAA,WAVA,sBAUA;AAVc;AAUd;AACA;AAAA;AAAA;AAAA,WAXgB,0BAWhB;AAXkC;AAWlC;;AATF;;AAKE;AAAA;AAAA;AAAA,WALO,kBAKP;AALgB;AAKhB;;AAJF;;AAGE;AAAA;AAAA;AAAA,WAHO,4BAGP;AAHiB;AAGjB,G;;;;;;;;;;;;;;;;;ACRF;;AACA;;AACA;;AAea,oBAAY;AACvB,KAAG,EAAE;AAEH;;AAEG;AACH,SAAK,EAAE,eAAI,GAAJ;AAAA,aAA8B,kBAAkB,CACrD,6BAAW,GAAX,CAAe,KADsC,EAC/B,GAD+B,CAAhD;AAAA,KALJ;;AASH;;AAEG;AACH,kBAAc,EAAE,wBAAI,GAAJ;AAAA,aAA8B,kBAAkB,CAC9D,6BAAW,GAAX,CAAe,cAD+C,EAC/B,GAD+B,CAAhD;AAAA,KAZb;;AAgBH;;AAEG;AACH,iBAAa,EAAE,uBAAI,GAAJ;AAAA,aAA8B,kBAAkB,CAC7D,6BAAW,GAAX,CAAe,aAD8C,EAC/B,GAD+B,CAAhD;AAAA,KAnBZ;;AAuBH;;AAEG;AACH,kBAAc,EAAE,wBAAI,GAAJ;AAAA,aAA8B,kBAAkB,CAC9D,6BAAW,GAAX,CAAe,cAD+C,EAC/B,GAD+B,CAAhD;AAAA,KA1Bb;;AA8BH;;AAEG;AACH,YAAQ,EAAE,kBAAI,GAAJ;AAAA,aAA8B,kBAAkB,CACxD,6BAAW,GAAX,CAAe,QADyC,EAC/B,GAD+B,CAAhD;AAAA,KAjCP;;AAqCH;;;;AAIG;AACH,UAAM,EAAE,gBAAI,IAAJ,EAAmC;AACzC,UAAI,CAAC,IAAD,IAAS,OAAO,IAAP,KAAgB,QAAzB,IAAqC,KAAK,CAAC,OAAN,CAAc,IAAd,CAAzC,EAA8D;AAC5D,cAAM,IAAI,KAAJ,CAAU,iEAAV,CAAN;AACD;;AACD,UAAQ,IAAR,GAAiB,IAAjB,CAAQ,IAAR;;AACA,UAAI,CAAC,MAAM,CAAC,SAAP,CAAiB,IAAjB,CAAD,IAA2B,IAAI,GAAG,CAAC,KAAnC,IAA4C,IAAI,GAAG,CAAC,KAAxD,EAA+D;AAC7D,cAAM,IAAI,KAAJ,CACJ,+DADI,CAAN;AAGD;;AACD,aAAO,kBAAkB,CAAC,IAAD,EAAO,IAAP,CAAzB;AACD,KArDE;;AAuDH;;AAEG;AACH,gBAAY,EAAE,sBAAI,GAAJ;AAAA,aAA8B,kBAAkB,CAC5D,6BAAW,GAAX,CAAe,YAD6C,EAC/B,GAD+B,CAAhD;AAAA,KA1DX;;AA8DH;;AAEG;AACH,oBAAgB,EAAE,0BAAI,GAAJ;AAAA,aAA8B,kBAAkB,CAChE,6BAAW,GAAX,CAAe,gBADiD,EAC/B,GAD+B,CAAhD;AAAA,KAjEf;;AAqEH;;AAEG;AACH,uBAAmB,EAAE,6BAAI,GAAJ;AAAA,aAA8B,kBAAkB,CACnE,6BAAW,GAAX,CAAe,mBADoD,EAC/B,GAD+B,CAAhD;AAAA,KAxElB;;AA4EH;;AAEG;AACH,uBAAmB,EAAE,6BAAI,GAAJ;AAAA,aAA8B,kBAAkB,CACnE,6BAAW,GAAX,CAAe,mBADoD,EAC/B,GAD+B,CAAhD;AAAA,KA/ElB;;AAmFH;;AAEG;AACH,sBAAkB,EAAE,4BAAI,GAAJ;AAAA,aAA8B,kBAAkB,CAClE,6BAAW,GAAX,CAAe,kBADmD,EAC/B,GAD+B,CAAhD;AAAA,KAtFjB;;AA0FH;;AAEG;AACH,iBAAa,EAAE,uBAAI,GAAJ;AAAA,aAA8B,kBAAkB,CAC7D,6BAAW,GAAX,CAAe,aAD8C,EAC/B,GAD+B,CAAhD;AAAA;AA7FZ,GADkB;AAmGvB,UAAQ,EAAE;AAER;;AAEG;AACH,uBAAmB,EAAE,6BAAI,GAAJ,EAA6B;AAChD,aAAO,mBAAmB,CACxB,6BAAW,QAAX,CAAoB,mBADI,EACiB,GADjB,CAA1B;AAGD,KATO;;AAWR;;AAEG;AACH,gBAAY,EAAE,sBAAI,GAAJ,EAA6B;AACzC,aAAO,mBAAmB,CACxB,6BAAW,QAAX,CAAoB,YADI,EACU,GADV,CAA1B;AAGD,KAlBO;;AAoBR;;AAEG;AACH,qBAAiB,EAAE,2BAAI,GAAJ,EAA6B;AAC9C,aAAO,mBAAmB,CACxB,6BAAW,QAAX,CAAoB,iBADI,EACe,GADf,CAA1B;AAGD,KA3BO;;AA6BR;;AAEG;AACH,gBAAY,EAAE,sBAAI,GAAJ,EAA6B;AACzC,aAAO,mBAAmB,CACxB,6BAAW,QAAX,CAAoB,YADI,EACU,GADV,CAA1B;AAGD,KApCO;;AAsCR;;AAEG;AACH,qBAAiB,EAAE,2BAAI,GAAJ,EAA6B;AAC9C,aAAO,mBAAmB,CACxB,6BAAW,QAAX,CAAoB,iBADI,EACe,GADf,CAA1B;AAGD,KA7CO;;AA+CR;;AAEG;AACH,UAAM,EAAE,gBAAI,IAAJ,EAA+B;AACrC,UAAI,CAAC,IAAD,IAAS,OAAO,IAAP,KAAgB,QAAzB,IAAqC,KAAK,CAAC,OAAN,CAAc,IAAd,CAAzC,EAA8D;AAC5D,cAAM,IAAI,KAAJ,CAAU,sEAAV,CAAN;AACD;;AAED,UAAQ,IAAR,GAAgC,IAAhC,CAAQ,IAAR;AAAA,UAAc,OAAd,GAAgC,IAAhC,CAAc,OAAd;AAAA,UAAuB,IAAvB,GAAgC,IAAhC,CAAuB,IAAvB;;AAEA,UAAI,CAAC,OAAD,IAAY,OAAO,OAAP,KAAmB,QAAnC,EAA6C;AAC3C,cAAM,IAAI,KAAJ,CACJ,qCADI,CAAN;AAGD;;AACD,aAAO,IAAI,+BAAJ,CAA0B,IAA1B,EAAgC,OAAhC,EAAyC,IAAzC,CAAP;AACD;AA/DO;AAnGa,CAAZ,C,CAsKb;;AAEA,SAAS,kBAAT,CAA+B,IAA/B,EAA6C,GAA7C,EAAkE;AAChE,mBAAwB,SAAS,CAAC,GAAD,CAAjC;AAAA;AAAA,MAAO,OAAP;AAAA,MAAgB,IAAhB;;AACA,SAAO,IAAI,0BAAJ,CACL,IADK,EAEL,OAAO,IAAI,2BAAmB,IAAnB,CAFN,EAGL,IAHK,CAAP;AAKD;;AAED,SAAS,mBAAT,CAAgC,IAAhC,EAA8C,GAA9C,EAAmE;AACjE,oBAAwB,SAAS,CAAC,GAAD,CAAjC;AAAA;AAAA,MAAO,OAAP;AAAA,MAAgB,IAAhB;;AACA,SAAO,IAAI,+BAAJ,CACL,IADK,EAEL,OAAO,IAAI,2BAAmB,IAAnB,CAFN,EAGL,IAHK,CAAP;AAKD;;AAED,SAAS,SAAT,CAAsB,GAAtB,EAA2C;AACzC,MAAI,GAAJ,EAAS;AACP,QAAI,OAAO,GAAP,KAAe,QAAnB,EAA6B;AAC3B,aAAO,CAAC,GAAD,CAAP;AACD,KAFD,MAEO,IAAI,OAAO,GAAP,KAAe,QAAf,IAA2B,CAAC,KAAK,CAAC,OAAN,CAAc,GAAd,CAAhC,EAAoD;AACzD,UAAQ,OAAR,GAA0B,GAA1B,CAAQ,OAAR;AAAA,UAAiB,IAAjB,GAA0B,GAA1B,CAAiB,IAAjB;;AAEA,UAAI,OAAO,IAAI,OAAO,OAAP,KAAmB,QAAlC,EAA4C;AAC1C,cAAM,IAAI,KAAJ,CAAU,8BAAV,CAAN;AACD;;AACD,aAAO,CAAC,OAAO,IAAI,SAAZ,EAAuB,IAAvB,CAAP;AACD;AACF;;AACD,SAAO,EAAP;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICvLYe,mB;;;;;AAuBXlV;AAAAA;;AAAAA;;QAAY8J,6EAA8B,E;AACxC;;sOAvBsBqL,uEAAe,CAACC,Y;;kPAEUC,0EAAkB,CAACC,M;;uPAEhBC,wEAAgB,CAACD,M;;sOAE/BE,wEAAgB,CAACC,Q;;wOAEnBC,sEAAc,CAACC,S;;+OAEf,I;;;;;;+OAMM,E;;gPAEM,I;;4OAE5B,K;;AAInB,+BAA0B7L,MAAM,CAANA,mBAA1B;AACA,uBAAkBA,MAAM,CAANA,cAAlB;AACA,0BAAqBA,MAAM,CAANA,iBAArB;AACA,wBAAmBA,MAAM,CAANA,eAAnB;AALF9J;AAMC;;;;SAEGsR,eAAQ;AACV,UAAI,gBAAgBoE,sEAAc,CAA9B,aAA4C,KAAhD,gBAAqE;AAAA;;AACnE,eAAO,uIAAP;AACD;;AACD;AACD,K;SAEGpE,aAAQ,CAARA,EAAQ;AACV,YAAM,UAAN,iBAAM,CAAN;AACD;;;;yQAEKf,iBAAI,OAAJA;AAAAA;;AAAAA;AAAAA;AAAAA;AAAAA;AACJ,qVADIA,CACJ;;;AAGA,oBAAI,CAAC,KAAL,aAAuB;AACrB,qCAAmBqF,8EAAc,CAACL,wEAAgB,CAAjB,QAAjC,KAAiC,CAAjC;AADqB,sCAE0D,KAA/E,WAFqB,EAEf,aAFe,qBAEf,aAFe,EAEf,WAFe,qBAEf,WAFe,EAEf,MAFe,qBAEf,MAFe,EAEf,UAFe,qBAEf,UAFe,EAEf,SAFe,qBAEf,SAFe,EAE8C5S,OAF9C,qBAE8CA,OAF9C;AAGrBuO,yBAAO,GAAG;AAAEvO,2BAAF,EAAEA,OAAF;AAAWkT,6BAAX,EAAWA,SAAX;AAAsBC,oCAAgB,EAAtC;AAAuDC,+BAAvD,EAAuDA,WAAvD;AAAoEC,0BAApE,EAAoEA,MAApE;AAA4EC,8BAA5E,EAA4EA,UAA5E;AAAwFC,wBAAI,EAAE;AAA9F,mBAAVhF;AAHF,uBAIO;AAAA,uCAC0E,KAA/E,WADK,EACC,QADD,sBACC,OADD,EACC,cADD,sBACC,aADD,EACC,YADD,sBACC,WADD,EACC,UADD,sBACC,SADD,EACC,OADD,sBACC,MADD,EAC2D+E,WAD3D,sBAC2DA,UAD3D;AAEL/E,yBAAO,GAAG;AAAEvO,2BAAF,EAAEA,QAAF;AAAWkT,6BAAX,EAAWA,UAAX;AAAsBC,oCAAgB,EAAtC;AAAuDC,+BAAvD,EAAuDA,YAAvD;AAAoEE,8BAApE,EAAoEA,WAApE;AAAgFD,0BAAhF,EAAgFA,OAAhF;AAAwFE,wBAAI,EAAE;AAA9F,mBAAVhF;AACD;;AACD,qCAAqB,6EAAU,KAA/B,kBAAqB,CAArB;AAZIX;AAAAA,uBAaE;AAA0BpD,iCAAe,EAAE;AAA3C,mBAAqD,KAArD;AAAsE+D;AAAtE,mBAbFX;;AAAAA;AAeJ,sCAAsB,qFAA0B;AAC9CnJ,wBAAM,EAAE;AACN+O,+BAAW,EAAE,KAAKA;AADZ;AADsC,iBAA1B,CAAtB;AAKA,8BAAcT,sEAAc,CAA5B;AACA,0BAAUU,sEAAc,CAAxB,OAAgCjB,uEAAe,CAA/C;AArBI5E;;AAAAA,qBAwBE8F,OAAO,CAAX,WAxBE9F;AAAAA;AAAAA;AAAAA;;AAyBA;AAzBAA;AAAAA,uBA0BM,KAAN,OAAM,EA1BNA;;AAAAA;AAAAA;AAAAA;;AAAAA;AAAAA;AAAAA;AA6BFhK,gEAAG,CAAHA;AACA,0BAAU6P,sEAAc,CAAxB;;AA9BE7F;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;4QAkCA+F;AAAAA;AAAAA;AAAAA;AAAAA;AACJ;;AADIA,oBAEC,KAAL,aAFIA;AAAAA;AAAAA;AAAAA;;AAAAA,sBAE2BC,iFAAyB,CAAzBA,SAAN,iCAAMA,CAF3BD;;AAAAA;AAAAA,oBAGC,KAAL,cAHIA;AAAAA;AAAAA;AAAAA;;AAAAA,sBAG4BC,iFAAyB,CAAzBA,SAAN,iCAAMA,CAH5BD;;AAAAA;AAIJ,8BAAcZ,sEAAc,CAA5B;AACA,0BAAUU,sEAAc,CAAxB,YAAqC;AAAEI,yBAAO,EAAErB,uEAAe,CAACC;AAA3B,iBAArC;AALIkB;AAAAA;AAAAA,uBAOI,yBAAyB,KAA/B,aAAM,CAPJA;;AAAAA;AAAAA;AAAAA,uBAQI,kCAAkC,mBAAxC,QAAM,CARJA;;AAAAA;AASF,8BAAcZ,sEAAc,CAA5B;AACA;AACA,0BAAUA,sEAAc,CAAxB,WAAoC;AAAEc,yBAAO,EAAErB,uEAAe,CAA1B;AAAyCsB,6BAAW,EAAE,KAAKC;AAA3D,iBAApC;AAXEJ,kDAYK,KAAP,QAZEA;;AAAAA;AAAAA;AAAAA;AAcF;AACA,8BAAcZ,sEAAc,CAA5B;AACA;AACA,0BAAUU,sEAAc,CAAxB;AAjBEE,sBAkBIK,wEAAgB,CAAhBA,gBAAN,0CAAMA,CAlBJL;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;+QAsBAM;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAWP,uBAAXO,GAAWP,2DAAgC;AAAEQ,yBAAO,EAAE;AAAX,iBAA3CD;;AAAAA,sBACA,gBAAgBlB,sEAAc,CAAlC,SADIkB;AAAAA;AAAAA;AAAAA;;AAAAA,sBACgDD,wEAAgB,CAAhBA,kBAAN,2BAAMA,CADhDC;;AAAAA;AAAAA,oBAEC,KAAL,aAFIA;AAAAA;AAAAA;AAAAA;;AAAAA,sBAE2BL,iFAAyB,CAAzBA,SAAN,iCAAMA,CAF3BK;;AAAAA;AAAAA;AAAAA,uBAGE,mBAAN,MAAM,EAHFA;;AAAAA;AAIJ,oBAAIP,OAAO,CAAX,SAAqB;AACnB;AACA,gCAAcX,sEAAc,CAA5B;AACA;AACA;AAJF,uBAKO;AACL;AACA,gCAAcA,sEAAc,CAA5B;AACD;;AAED,0BAAUU,sEAAc,CAAxB;;AAdIQ;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;;gRAiBArE;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,sBACA,gBAAgBmD,sEAAc,CAAlC,SADInD;AAAAA;AAAAA;AAAAA;;AAAAA,sBACgDoE,wEAAgB,CAAhBA,kBAAN,2BAAMA,CADhDpE;;AAAAA;AAAAA,oBAEC,KAAL,aAFIA;AAAAA;AAAAA;AAAAA;;AAAAA,sBAE2BgE,iFAAyB,CAAzBA,SAAN,iCAAMA,CAF3BhE;;AAAAA;AAAAA;AAAAA,uBAGmB,mBAAvB,WAAuB,EAHnBA;;AAAAA;AAGEf,wBAHFe;AAAAA,kDAIJ,QAJIA;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,O;;;;;;;;;;WAONuE,4BAAkB,CAAlBA,EAAkB;;;;EA1HqBC,mE","file":"x","sourcesContent":["/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n","/* (ignored) */","/* (ignored) */","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumProviderError = exports.EthereumRpcError = void 0;\nconst fast_safe_stringify_1 = require(\"fast-safe-stringify\");\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP-1474.\n * Permits any integer error code.\n */\nclass EthereumRpcError extends Error {\n    constructor(code, message, data) {\n        if (!Number.isInteger(code)) {\n            throw new Error('\"code\" must be an integer.');\n        }\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a nonempty string.');\n        }\n        super(message);\n        this.code = code;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n    /**\n     * Returns a plain object with all public class properties.\n     */\n    serialize() {\n        const serialized = {\n            code: this.code,\n            message: this.message,\n        };\n        if (this.data !== undefined) {\n            serialized.data = this.data;\n        }\n        if (this.stack) {\n            serialized.stack = this.stack;\n        }\n        return serialized;\n    }\n    /**\n     * Return a string representation of the serialized error, omitting\n     * any circular references.\n     */\n    toString() {\n        return fast_safe_stringify_1.default(this.serialize(), stringifyReplacer, 2);\n    }\n}\nexports.EthereumRpcError = EthereumRpcError;\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\nclass EthereumProviderError extends EthereumRpcError {\n    /**\n     * Create an Ethereum Provider JSON-RPC error.\n     * `code` must be an integer in the 1000 <= 4999 range.\n     */\n    constructor(code, message, data) {\n        if (!isValidEthProviderCode(code)) {\n            throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n        }\n        super(code, message, data);\n    }\n}\nexports.EthereumProviderError = EthereumProviderError;\n// Internal\nfunction isValidEthProviderCode(code) {\n    return Number.isInteger(code) && code >= 1000 && code <= 4999;\n}\nfunction stringifyReplacer(_, value) {\n    if (value === '[Circular]') {\n        return undefined;\n    }\n    return value;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xhc3Nlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGFzc2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZEQUFnRDtBQVNoRDs7OztHQUlHO0FBQ0gsTUFBYSxnQkFBb0IsU0FBUSxLQUFLO0lBTTVDLFlBQVksSUFBWSxFQUFFLE9BQWUsRUFBRSxJQUFRO1FBRWpELElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzNCLE1BQU0sSUFBSSxLQUFLLENBQ2IsNEJBQTRCLENBQzdCLENBQUM7U0FDSDtRQUNELElBQUksQ0FBQyxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO1lBQzNDLE1BQU0sSUFBSSxLQUFLLENBQ2Isc0NBQXNDLENBQ3ZDLENBQUM7U0FDSDtRQUVELEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTtZQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUNsQjtJQUNILENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVM7UUFDUCxNQUFNLFVBQVUsR0FBK0I7WUFDN0MsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1lBQ2YsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1NBQ3RCLENBQUM7UUFDRixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQzNCLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztTQUM3QjtRQUNELElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNkLFVBQVUsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUMvQjtRQUNELE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxRQUFRO1FBQ04sT0FBTyw2QkFBYSxDQUNsQixJQUFJLENBQUMsU0FBUyxFQUFFLEVBQ2hCLGlCQUFpQixFQUNqQixDQUFDLENBQ0YsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQXRERCw0Q0FzREM7QUFFRDs7O0dBR0c7QUFDSCxNQUFhLHFCQUF5QixTQUFRLGdCQUFtQjtJQUUvRDs7O09BR0c7SUFDSCxZQUFZLElBQVksRUFBRSxPQUFlLEVBQUUsSUFBUTtRQUVqRCxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakMsTUFBTSxJQUFJLEtBQUssQ0FDYiwyREFBMkQsQ0FDNUQsQ0FBQztTQUNIO1FBRUQsS0FBSyxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQztDQUNGO0FBaEJELHNEQWdCQztBQUVELFdBQVc7QUFFWCxTQUFTLHNCQUFzQixDQUFDLElBQVk7SUFDMUMsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQztBQUNoRSxDQUFDO0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxDQUFVLEVBQUUsS0FBYztJQUNuRCxJQUFJLEtBQUssS0FBSyxZQUFZLEVBQUU7UUFDMUIsT0FBTyxTQUFTLENBQUM7S0FDbEI7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMifQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errorValues = exports.errorCodes = void 0;\nexports.errorCodes = {\n    rpc: {\n        invalidInput: -32000,\n        resourceNotFound: -32001,\n        resourceUnavailable: -32002,\n        transactionRejected: -32003,\n        methodNotSupported: -32004,\n        limitExceeded: -32005,\n        parse: -32700,\n        invalidRequest: -32600,\n        methodNotFound: -32601,\n        invalidParams: -32602,\n        internal: -32603,\n    },\n    provider: {\n        userRejectedRequest: 4001,\n        unauthorized: 4100,\n        unsupportedMethod: 4200,\n        disconnected: 4900,\n        chainDisconnected: 4901,\n    },\n};\nexports.errorValues = {\n    '-32700': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n    },\n    '-32600': {\n        standard: 'JSON RPC 2.0',\n        message: 'The JSON sent is not a valid Request object.',\n    },\n    '-32601': {\n        standard: 'JSON RPC 2.0',\n        message: 'The method does not exist / is not available.',\n    },\n    '-32602': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid method parameter(s).',\n    },\n    '-32603': {\n        standard: 'JSON RPC 2.0',\n        message: 'Internal JSON-RPC error.',\n    },\n    '-32000': {\n        standard: 'EIP-1474',\n        message: 'Invalid input.',\n    },\n    '-32001': {\n        standard: 'EIP-1474',\n        message: 'Resource not found.',\n    },\n    '-32002': {\n        standard: 'EIP-1474',\n        message: 'Resource unavailable.',\n    },\n    '-32003': {\n        standard: 'EIP-1474',\n        message: 'Transaction rejected.',\n    },\n    '-32004': {\n        standard: 'EIP-1474',\n        message: 'Method not supported.',\n    },\n    '-32005': {\n        standard: 'EIP-1474',\n        message: 'Request limit exceeded.',\n    },\n    '4001': {\n        standard: 'EIP-1193',\n        message: 'User rejected the request.',\n    },\n    '4100': {\n        standard: 'EIP-1193',\n        message: 'The requested account and/or method has not been authorized by the user.',\n    },\n    '4200': {\n        standard: 'EIP-1193',\n        message: 'The requested method is not supported by this Ethereum provider.',\n    },\n    '4900': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from all chains.',\n    },\n    '4901': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from the specified chain.',\n    },\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3ItY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Vycm9yLWNvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUF1QmEsUUFBQSxVQUFVLEdBQWU7SUFDcEMsR0FBRyxFQUFFO1FBQ0gsWUFBWSxFQUFFLENBQUMsS0FBSztRQUNwQixnQkFBZ0IsRUFBRSxDQUFDLEtBQUs7UUFDeEIsbUJBQW1CLEVBQUUsQ0FBQyxLQUFLO1FBQzNCLG1CQUFtQixFQUFFLENBQUMsS0FBSztRQUMzQixrQkFBa0IsRUFBRSxDQUFDLEtBQUs7UUFDMUIsYUFBYSxFQUFFLENBQUMsS0FBSztRQUNyQixLQUFLLEVBQUUsQ0FBQyxLQUFLO1FBQ2IsY0FBYyxFQUFFLENBQUMsS0FBSztRQUN0QixjQUFjLEVBQUUsQ0FBQyxLQUFLO1FBQ3RCLGFBQWEsRUFBRSxDQUFDLEtBQUs7UUFDckIsUUFBUSxFQUFFLENBQUMsS0FBSztLQUNqQjtJQUNELFFBQVEsRUFBRTtRQUNSLG1CQUFtQixFQUFFLElBQUk7UUFDekIsWUFBWSxFQUFFLElBQUk7UUFDbEIsaUJBQWlCLEVBQUUsSUFBSTtRQUN2QixZQUFZLEVBQUUsSUFBSTtRQUNsQixpQkFBaUIsRUFBRSxJQUFJO0tBQ3hCO0NBQ0YsQ0FBQztBQUVXLFFBQUEsV0FBVyxHQUFHO0lBQ3pCLFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxjQUFjO1FBQ3hCLE9BQU8sRUFBRSx1R0FBdUc7S0FDakg7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsY0FBYztRQUN4QixPQUFPLEVBQUUsOENBQThDO0tBQ3hEO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsUUFBUSxFQUFFLGNBQWM7UUFDeEIsT0FBTyxFQUFFLCtDQUErQztLQUN6RDtJQUNELFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxjQUFjO1FBQ3hCLE9BQU8sRUFBRSw4QkFBOEI7S0FDeEM7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsY0FBYztRQUN4QixPQUFPLEVBQUUsMEJBQTBCO0tBQ3BDO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLGdCQUFnQjtLQUMxQjtJQUNELFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSxxQkFBcUI7S0FDL0I7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsVUFBVTtRQUNwQixPQUFPLEVBQUUsdUJBQXVCO0tBQ2pDO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLHVCQUF1QjtLQUNqQztJQUNELFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSx1QkFBdUI7S0FDakM7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsVUFBVTtRQUNwQixPQUFPLEVBQUUseUJBQXlCO0tBQ25DO0lBQ0QsTUFBTSxFQUFFO1FBQ04sUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLDRCQUE0QjtLQUN0QztJQUNELE1BQU0sRUFBRTtRQUNOLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSwwRUFBMEU7S0FDcEY7SUFDRCxNQUFNLEVBQUU7UUFDTixRQUFRLEVBQUUsVUFBVTtRQUNwQixPQUFPLEVBQUUsa0VBQWtFO0tBQzVFO0lBQ0QsTUFBTSxFQUFFO1FBQ04sUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLCtDQUErQztLQUN6RDtJQUNELE1BQU0sRUFBRTtRQUNOLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSx3REFBd0Q7S0FDbEU7Q0FDRixDQUFDIn0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serializeError = exports.isValidCode = exports.getMessageFromCode = exports.JSON_RPC_SERVER_ERROR_MESSAGE = void 0;\nconst error_constants_1 = require(\"./error-constants\");\nconst classes_1 = require(\"./classes\");\nconst FALLBACK_ERROR_CODE = error_constants_1.errorCodes.rpc.internal;\nconst FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.';\nconst FALLBACK_ERROR = {\n    code: FALLBACK_ERROR_CODE,\n    message: getMessageFromCode(FALLBACK_ERROR_CODE),\n};\nexports.JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.';\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n */\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n    if (Number.isInteger(code)) {\n        const codeString = code.toString();\n        if (hasKey(error_constants_1.errorValues, codeString)) {\n            return error_constants_1.errorValues[codeString].message;\n        }\n        if (isJsonRpcServerError(code)) {\n            return exports.JSON_RPC_SERVER_ERROR_MESSAGE;\n        }\n    }\n    return fallbackMessage;\n}\nexports.getMessageFromCode = getMessageFromCode;\n/**\n * Returns whether the given code is valid.\n * A code is only valid if it has a message.\n */\nfunction isValidCode(code) {\n    if (!Number.isInteger(code)) {\n        return false;\n    }\n    const codeString = code.toString();\n    if (error_constants_1.errorValues[codeString]) {\n        return true;\n    }\n    if (isJsonRpcServerError(code)) {\n        return true;\n    }\n    return false;\n}\nexports.isValidCode = isValidCode;\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * Merely copies the given error's values if it is already compatible.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.originalError property.\n */\nfunction serializeError(error, { fallbackError = FALLBACK_ERROR, shouldIncludeStack = false, } = {}) {\n    var _a, _b;\n    if (!fallbackError ||\n        !Number.isInteger(fallbackError.code) ||\n        typeof fallbackError.message !== 'string') {\n        throw new Error('Must provide fallback error with integer number code and string message.');\n    }\n    if (error instanceof classes_1.EthereumRpcError) {\n        return error.serialize();\n    }\n    const serialized = {};\n    if (error &&\n        typeof error === 'object' &&\n        !Array.isArray(error) &&\n        hasKey(error, 'code') &&\n        isValidCode(error.code)) {\n        const _error = error;\n        serialized.code = _error.code;\n        if (_error.message && typeof _error.message === 'string') {\n            serialized.message = _error.message;\n            if (hasKey(_error, 'data')) {\n                serialized.data = _error.data;\n            }\n        }\n        else {\n            serialized.message = getMessageFromCode(serialized.code);\n            serialized.data = { originalError: assignOriginalError(error) };\n        }\n    }\n    else {\n        serialized.code = fallbackError.code;\n        const message = (_a = error) === null || _a === void 0 ? void 0 : _a.message;\n        serialized.message = (message && typeof message === 'string'\n            ? message\n            : fallbackError.message);\n        serialized.data = { originalError: assignOriginalError(error) };\n    }\n    const stack = (_b = error) === null || _b === void 0 ? void 0 : _b.stack;\n    if (shouldIncludeStack && error && stack && typeof stack === 'string') {\n        serialized.stack = stack;\n    }\n    return serialized;\n}\nexports.serializeError = serializeError;\n// Internal\nfunction isJsonRpcServerError(code) {\n    return code >= -32099 && code <= -32000;\n}\nfunction assignOriginalError(error) {\n    if (error && typeof error === 'object' && !Array.isArray(error)) {\n        return Object.assign({}, error);\n    }\n    return error;\n}\nfunction hasKey(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdURBQTREO0FBQzVELHVDQUF5RTtBQUV6RSxNQUFNLG1CQUFtQixHQUFHLDRCQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztBQUNwRCxNQUFNLGdCQUFnQixHQUFHLDZEQUE2RCxDQUFDO0FBQ3ZGLE1BQU0sY0FBYyxHQUErQjtJQUNqRCxJQUFJLEVBQUUsbUJBQW1CO0lBQ3pCLE9BQU8sRUFBRSxrQkFBa0IsQ0FBQyxtQkFBbUIsQ0FBQztDQUNqRCxDQUFDO0FBRVcsUUFBQSw2QkFBNkIsR0FBRywyQkFBMkIsQ0FBQztBQUl6RTs7O0dBR0c7QUFDSCxTQUFnQixrQkFBa0IsQ0FDaEMsSUFBWSxFQUNaLGtCQUEwQixnQkFBZ0I7SUFFMUMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzFCLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUVuQyxJQUFJLE1BQU0sQ0FBQyw2QkFBVyxFQUFFLFVBQVUsQ0FBQyxFQUFFO1lBQ25DLE9BQU8sNkJBQVcsQ0FBQyxVQUEyQixDQUFDLENBQUMsT0FBTyxDQUFDO1NBQ3pEO1FBQ0QsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM5QixPQUFPLHFDQUE2QixDQUFDO1NBQ3RDO0tBQ0Y7SUFDRCxPQUFPLGVBQWUsQ0FBQztBQUN6QixDQUFDO0FBZkQsZ0RBZUM7QUFFRDs7O0dBR0c7QUFDSCxTQUFnQixXQUFXLENBQUMsSUFBWTtJQUN0QyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUMzQixPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ25DLElBQUksNkJBQVcsQ0FBQyxVQUEy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","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { PublicKey } from '@solana/web3.js';\nimport { createLoggerMiddleware, COMMUNICATION_JRPC_METHODS, COMMUNICATION_NOTIFICATIONS, PROVIDER_JRPC_METHODS, PROVIDER_NOTIFICATIONS } from '@toruslabs/base-controllers';\nimport { setAPIKey } from '@toruslabs/http-helpers';\nimport { SafeEventEmitter, ObjectMultiplex, createStreamMiddleware, JRPCEngine, createIdRemapMiddleware, getRpcPromiseCallback, BasePostMessageStream } from '@toruslabs/openlogin-jrpc';\nimport { ethErrors, EthereumRpcError } from 'eth-rpc-errors';\nimport { duplex } from 'is-stream';\nimport pump from 'pump';\nimport loglevel from 'loglevel';\nimport dequal from 'fast-deep-equal';\n\nvar messages = {\n  errors: {\n    disconnected: () => \"Torus: Lost connection to Torus.\",\n    permanentlyDisconnected: () => \"Torus: Disconnected from iframe. Page reload required.\",\n    unsupportedSync: method => \"Torus: The Torus Ethereum provider does not support synchronous methods like \".concat(method, \" without a callback parameter.\"),\n    invalidDuplexStream: () => \"Must provide a Node.js-style duplex stream.\",\n    invalidOptions: maxEventListeners => \"Invalid options. Received: { maxEventListeners: \".concat(maxEventListeners, \"}\"),\n    invalidRequestArgs: () => \"Expected a single, non-array, object argument.\",\n    invalidRequestMethod: () => \"'args.method' must be a non-empty string.\",\n    invalidRequestParams: () => \"'args.params' must be an object or array if provided.\",\n    invalidLoggerObject: () => \"'args.logger' must be an object if provided.\",\n    invalidLoggerMethod: method => \"'args.logger' must include required method '\".concat(method, \"'.\")\n  },\n  info: {\n    connected: chainId => \"Torus: Connected to chain with ID \\\"\".concat(chainId, \"\\\".\")\n  },\n  warnings: {}\n};\n\nconst PAYMENT_PROVIDER = {\n  MOONPAY: \"moonpay\",\n  WYRE: \"wyre\",\n  RAMPNETWORK: \"rampnetwork\",\n  XANPOOL: \"xanpool\",\n  MERCURYO: \"mercuryo\",\n  TRANSAK: \"transak\"\n};\nconst TORUS_BUILD_ENV = {\n  PRODUCTION: \"production\",\n  DEVELOPMENT: \"development\",\n  TESTING: \"testing\"\n};\nconst BUTTON_POSITION = {\n  BOTTOM_LEFT: \"bottom-left\",\n  TOP_LEFT: \"top-left\",\n  BOTTOM_RIGHT: \"bottom-right\",\n  TOP_RIGHT: \"top-right\"\n};\nconst LOGIN_PROVIDER = {\n  GOOGLE: \"google\",\n  FACEBOOK: \"facebook\",\n  REDDIT: \"reddit\",\n  DISCORD: \"discord\",\n  TWITCH: \"twitch\",\n  APPLE: \"apple\",\n  LINE: \"line\",\n  GITHUB: \"github\",\n  KAKAO: \"kakao\",\n  LINKEDIN: \"linkedin\",\n  TWITTER: \"twitter\",\n  WEIBO: \"weibo\",\n  WECHAT: \"wechat\",\n  EMAIL_PASSWORDLESS: \"email_passwordless\"\n};\n\nconst translations = {\n  en: {\n    embed: {\n      continue: \"Continue\",\n      actionRequired: \"Authorization required\",\n      pendingAction: \"Click continue to proceed with your request in a popup\",\n      cookiesRequired: \"Cookies Required\",\n      enableCookies: \"Please enable cookies in your browser preferences to access Torus\",\n      clickHere: \"More Info\"\n    }\n  },\n  de: {\n    embed: {\n      continue: \"Fortsetzen\",\n      actionRequired: \"Autorisierung erforderlich\",\n      pendingAction: \"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren\",\n      cookiesRequired: \"Cookies benötigt\",\n      enableCookies: \"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen\",\n      clickHere: \"Mehr Info\"\n    }\n  },\n  ja: {\n    embed: {\n      continue: \"継続する\",\n      actionRequired: \"認証が必要です\",\n      pendingAction: \"続行をクリックして、ポップアップでリクエストを続行します\",\n      cookiesRequired: \"必要なクッキー\",\n      enableCookies: \"Torusにアクセスするには、ブラウザの設定でCookieを有効にしてください。\",\n      clickHere: \"詳しくは\"\n    }\n  },\n  ko: {\n    embed: {\n      continue: \"계속하다\",\n      actionRequired: \"승인 필요\",\n      pendingAction: \"팝업에서 요청을 진행하려면 계속을 클릭하십시오.\",\n      cookiesRequired: \"쿠키 필요\",\n      enableCookies: \"브라우저 환경 설정에서 쿠키를 활성화하여 Torus에 액세스하십시오.\",\n      clickHere: \"더 많은 정보\"\n    }\n  },\n  zh: {\n    embed: {\n      continue: \"继续\",\n      actionRequired: \"需要授权\",\n      pendingAction: \"单击继续以在弹出窗口中继续您的请求\",\n      cookiesRequired: \"必填Cookie\",\n      enableCookies: \"请在您的浏览器首选项中启用cookie以访问Torus。\",\n      clickHere: \"更多信息\"\n    }\n  }\n};\nvar configuration = {\n  supportedVerifierList: [LOGIN_PROVIDER.GOOGLE, LOGIN_PROVIDER.REDDIT, LOGIN_PROVIDER.DISCORD],\n  api: \"https://api.tor.us\",\n  translations,\n  prodTorusUrl: \"\",\n  localStorageKey: \"torus-\".concat(window.location.hostname)\n};\n\nvar log = loglevel.getLogger(\"solana-embed\");\n\n/**\n * json-rpc-engine middleware that logs RPC errors and and validates req.method.\n *\n * @param log - The logging API to use.\n * @returns  json-rpc-engine middleware function\n */\n\nfunction createErrorMiddleware() {\n  return (req, res, next) => {\n    // json-rpc-engine will terminate the request when it notices this error\n    if (typeof req.method !== \"string\" || !req.method) {\n      res.error = ethErrors.rpc.invalidRequest({\n        message: \"The request 'method' must be a non-empty string.\",\n        data: req\n      });\n    }\n\n    next(done => {\n      const {\n        error\n      } = res;\n\n      if (!error) {\n        return done();\n      }\n\n      log.error(\"Torus - RPC Error: \".concat(error.message), error);\n      return done();\n    });\n  };\n}\n/**\n * Logs a stream disconnection error. Emits an 'error' if given an\n * EventEmitter that has listeners for the 'error' event.\n *\n * @param log - The logging API to use.\n * @param remoteLabel - The label of the disconnected stream.\n * @param error - The associated error to log.\n * @param emitter - The logging API to use.\n */\n\nfunction logStreamDisconnectWarning(remoteLabel, error, emitter) {\n  let warningMsg = \"Torus: Lost connection to \\\"\".concat(remoteLabel, \"\\\".\");\n\n  if (error !== null && error !== void 0 && error.stack) {\n    warningMsg += \"\\n\".concat(error.stack);\n  }\n\n  log.warn(warningMsg);\n\n  if (emitter && emitter.listenerCount(\"error\") > 0) {\n    emitter.emit(\"error\", warningMsg);\n  }\n}\nconst getWindowId = () => Math.random().toString(36).slice(2);\nconst getTorusUrl = async buildEnv => {\n  let torusUrl;\n  let logLevel; // const versionUsed = version;\n  // log.info(\"solana embed version used: \", versionUsed);\n\n  switch (buildEnv) {\n    case \"testing\":\n      torusUrl = \"https://solana-testing.tor.us\";\n      logLevel = \"debug\";\n      break;\n\n    case \"development\":\n      torusUrl = \"http://localhost:8080\";\n      logLevel = \"debug\";\n      break;\n\n    default:\n      torusUrl = \"https://solana.tor.us\";\n      logLevel = \"error\";\n      break;\n  }\n\n  return {\n    torusUrl,\n    logLevel\n  };\n};\nconst getUserLanguage = () => {\n  let userLanguage = window.navigator.language || \"en-US\";\n  const userLanguages = userLanguage.split(\"-\");\n  userLanguage = Object.prototype.hasOwnProperty.call(configuration.translations, userLanguages[0]) ? userLanguages[0] : \"en\";\n  return userLanguage;\n};\nconst FEATURES_PROVIDER_CHANGE_WINDOW = {\n  height: 660,\n  width: 375\n};\nconst FEATURES_DEFAULT_WALLET_WINDOW = {\n  height: 740,\n  width: 1315\n};\nconst FEATURES_DEFAULT_POPUP_WINDOW = {\n  height: 700,\n  width: 1200\n};\nconst FEATURES_CONFIRM_WINDOW = {\n  height: 600,\n  width: 400\n};\nfunction storageAvailable(type) {\n  let storage;\n\n  try {\n    storage = window[type];\n    const x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return e && ( // everything except Firefox\n    e.code === 22 || // Firefox\n    e.code === 1014 || // test name field too, because code might not be present\n    // everything except Firefox\n    e.name === \"QuotaExceededError\" || // Firefox\n    e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") && // acknowledge QuotaExceededError only if there's something already stored\n    storage && storage.length !== 0;\n  }\n}\n/**\n * popup handler utils\n */\n\nfunction getPopupFeatures(_ref) {\n  let {\n    width: w,\n    height: h\n  } = _ref;\n  // Fixes dual-screen position                             Most browsers      Firefox\n  const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n  const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : window.screen.width;\n  const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : window.screen.height;\n  const systemZoom = 1; // No reliable estimate\n\n  const left = Math.abs((width - w) / 2 / systemZoom + dualScreenLeft);\n  const top = Math.abs((height - h) / 2 / systemZoom + dualScreenTop);\n  const features = \"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=\".concat(h / systemZoom, \",width=\").concat(w / systemZoom, \",top=\").concat(top, \",left=\").concat(left);\n  return features;\n}\n\nclass BaseProvider extends SafeEventEmitter {\n  /**\n   * Indicating that this provider is a Torus provider.\n   */\n  constructor(connectionStream, _ref) {\n    let {\n      maxEventListeners = 100,\n      jsonRpcStreamName = \"provider\"\n    } = _ref;\n    super();\n\n    _defineProperty(this, \"isTorus\", void 0);\n\n    _defineProperty(this, \"_rpcEngine\", void 0);\n\n    _defineProperty(this, \"jsonRpcConnectionEvents\", void 0);\n\n    _defineProperty(this, \"_state\", void 0);\n\n    if (!duplex(connectionStream)) {\n      throw new Error(messages.errors.invalidDuplexStream());\n    }\n\n    this.isTorus = true;\n    this.setMaxListeners(maxEventListeners);\n    this._handleConnect = this._handleConnect.bind(this);\n    this._handleDisconnect = this._handleDisconnect.bind(this);\n    this._handleStreamDisconnect = this._handleStreamDisconnect.bind(this);\n    this._rpcRequest = this._rpcRequest.bind(this);\n    this._initializeState = this._initializeState.bind(this);\n    this.request = this.request.bind(this);\n    this.sendAsync = this.sendAsync.bind(this); // this.enable = this.enable.bind(this);\n    // setup connectionStream multiplexing\n\n    const mux = new ObjectMultiplex();\n    pump(connectionStream, mux, connectionStream, this._handleStreamDisconnect.bind(this, \"Torus\")); // ignore phishing warning message (handled elsewhere)\n\n    mux.ignoreStream(\"phishing\"); // setup own event listeners\n    // connect to async provider\n\n    const jsonRpcConnection = createStreamMiddleware();\n    pump(jsonRpcConnection.stream, mux.createStream(jsonRpcStreamName), jsonRpcConnection.stream, this._handleStreamDisconnect.bind(this, \"Torus RpcProvider\")); // handle RPC requests via dapp-side rpc engine\n\n    const rpcEngine = new JRPCEngine();\n    rpcEngine.push(createIdRemapMiddleware());\n    rpcEngine.push(createErrorMiddleware());\n    rpcEngine.push(createLoggerMiddleware({\n      origin: location.origin\n    }));\n    rpcEngine.push(jsonRpcConnection.middleware);\n    this._rpcEngine = rpcEngine;\n    this.jsonRpcConnectionEvents = jsonRpcConnection.events;\n  }\n  /**\n   * Submits an RPC request for the given method, with the given params.\n   * Resolves with the result of the method call, or rejects on error.\n   */\n\n\n  async request(args) {\n    if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n      throw ethErrors.rpc.invalidRequest({\n        message: messages.errors.invalidRequestArgs(),\n        data: args\n      });\n    }\n\n    const {\n      method,\n      params\n    } = args;\n\n    if (typeof method !== \"string\" || method.length === 0) {\n      throw ethErrors.rpc.invalidRequest({\n        message: messages.errors.invalidRequestMethod(),\n        data: args\n      });\n    }\n\n    if (params !== undefined && !Array.isArray(params) && (typeof params !== \"object\" || params === null)) {\n      throw ethErrors.rpc.invalidRequest({\n        message: messages.errors.invalidRequestParams(),\n        data: args\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      this._rpcRequest({\n        method,\n        params\n      }, getRpcPromiseCallback(resolve, reject));\n    });\n  }\n  /**\n   * Submits an RPC request per the given JSON-RPC request object.\n   */\n\n\n  send(payload, callback) {\n    this._rpcRequest(payload, callback);\n  }\n  /**\n   * Submits an RPC request per the given JSON-RPC request object.\n   */\n\n\n  sendAsync(payload) {\n    return new Promise((resolve, reject) => {\n      this._rpcRequest(payload, getRpcPromiseCallback(resolve, reject));\n    });\n  }\n  /**\n   * Called when connection is lost to critical streams.\n   *\n   * emits TorusInpageProvider#disconnect\n   */\n\n\n  _handleStreamDisconnect(streamName, error) {\n    logStreamDisconnectWarning(streamName, error, this);\n\n    this._handleDisconnect(false, error ? error.message : undefined);\n  }\n\n}\n\nconst handleEvent = function (handle, eventName, handler) {\n  for (var _len = arguments.length, handlerArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    handlerArgs[_key - 3] = arguments[_key];\n  }\n\n  const handlerWrapper = () => {\n    handler(...handlerArgs);\n    handle.removeEventListener(eventName, handlerWrapper);\n  };\n\n  handle.addEventListener(eventName, handlerWrapper);\n};\nasync function documentReady() {\n  return new Promise(resolve => {\n    if (document.readyState !== \"loading\") {\n      resolve();\n    } else {\n      handleEvent(document, \"DOMContentLoaded\", resolve);\n    }\n  });\n}\nconst htmlToElement = html => {\n  const template = window.document.createElement(\"template\");\n  const trimmedHtml = html.trim(); // Never return a text node of whitespace as the result\n\n  template.innerHTML = trimmedHtml;\n  return template.content.firstChild;\n};\n\nclass PopupHandler extends SafeEventEmitter {\n  constructor(_ref) {\n    let {\n      url,\n      target,\n      features\n    } = _ref;\n    super();\n\n    _defineProperty(this, \"url\", void 0);\n\n    _defineProperty(this, \"target\", void 0);\n\n    _defineProperty(this, \"features\", void 0);\n\n    _defineProperty(this, \"window\", void 0);\n\n    _defineProperty(this, \"windowTimer\", void 0);\n\n    _defineProperty(this, \"iClosedWindow\", void 0);\n\n    this.url = url;\n    this.target = target || \"_blank\";\n    this.features = features || getPopupFeatures(FEATURES_DEFAULT_POPUP_WINDOW);\n    this.window = undefined;\n    this.windowTimer = undefined;\n    this.iClosedWindow = false;\n\n    this._setupTimer();\n  }\n\n  _setupTimer() {\n    this.windowTimer = Number(setInterval(() => {\n      if (this.window && this.window.closed) {\n        clearInterval(this.windowTimer);\n\n        if (!this.iClosedWindow) {\n          this.emit(\"close\");\n        }\n\n        this.iClosedWindow = false;\n        this.window = undefined;\n      }\n\n      if (this.window === undefined) clearInterval(this.windowTimer);\n    }, 500));\n  }\n\n  open() {\n    var _this$window;\n\n    this.window = window.open(this.url.href, this.target, this.features);\n    if ((_this$window = this.window) !== null && _this$window !== void 0 && _this$window.focus) this.window.focus();\n    return Promise.resolve();\n  }\n\n  close() {\n    this.iClosedWindow = true;\n    if (this.window) this.window.close();\n  }\n\n  redirect(locationReplaceOnRedirect) {\n    if (locationReplaceOnRedirect) {\n      window.location.replace(this.url.href);\n    } else {\n      window.location.href = this.url.href;\n    }\n  }\n\n}\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nclass TorusCommunicationProvider extends BaseProvider {\n  constructor(connectionStream, _ref) {\n    let {\n      maxEventListeners = 100,\n      jsonRpcStreamName = \"provider\"\n    } = _ref;\n    super(connectionStream, {\n      maxEventListeners,\n      jsonRpcStreamName\n    }); // private state\n\n    _defineProperty(this, \"embedTranslations\", void 0);\n\n    _defineProperty(this, \"torusUrl\", void 0);\n\n    _defineProperty(this, \"dappStorageKey\", void 0);\n\n    _defineProperty(this, \"windowRefs\", void 0);\n\n    _defineProperty(this, \"tryWindowHandle\", void 0);\n\n    _defineProperty(this, \"torusAlertContainer\", void 0);\n\n    _defineProperty(this, \"torusIframe\", void 0);\n\n    this._state = _objectSpread$2({}, TorusCommunicationProvider._defaultState); // public state\n\n    this.torusUrl = \"\";\n    this.dappStorageKey = \"\";\n    const languageTranslations = configuration.translations[getUserLanguage()];\n    this.embedTranslations = languageTranslations.embed;\n    this.windowRefs = {}; // setup own event listeners\n    // EIP-1193 connect\n\n    this.on(\"connect\", () => {\n      this._state.isConnected = true;\n    });\n\n    const notificationHandler = payload => {\n      const {\n        method,\n        params\n      } = payload;\n\n      if (method === COMMUNICATION_NOTIFICATIONS.IFRAME_STATUS) {\n        const {\n          isFullScreen,\n          rid\n        } = params;\n\n        this._displayIframe({\n          isFull: isFullScreen,\n          rid: rid\n        });\n      } else if (method === COMMUNICATION_NOTIFICATIONS.CREATE_WINDOW) {\n        const {\n          windowId,\n          url\n        } = params;\n\n        this._createPopupBlockAlert(windowId, url);\n      } else if (method === COMMUNICATION_NOTIFICATIONS.CLOSE_WINDOW) {\n        this._handleCloseWindow(params);\n      } else if (method === COMMUNICATION_NOTIFICATIONS.USER_LOGGED_IN) {\n        const {\n          currentLoginProvider\n        } = params;\n        this._state.isLoggedIn = true;\n        this._state.currentLoginProvider = currentLoginProvider;\n      } else if (method === COMMUNICATION_NOTIFICATIONS.USER_LOGGED_OUT) {\n        this._state.isLoggedIn = false;\n        this._state.currentLoginProvider = null;\n\n        this._displayIframe();\n      }\n    };\n\n    this.jsonRpcConnectionEvents.on(\"notification\", notificationHandler);\n  }\n\n  get isLoggedIn() {\n    return this._state.isLoggedIn;\n  }\n\n  get isIFrameFullScreen() {\n    return this._state.isIFrameFullScreen;\n  }\n  /**\n   * Returns whether the inPage provider is connected to Torus.\n   */\n\n\n  isConnected() {\n    return this._state.isConnected;\n  }\n\n  async _initializeState(params) {\n    try {\n      const {\n        torusUrl,\n        dappStorageKey,\n        torusAlertContainer,\n        torusIframe\n      } = params;\n      this.torusUrl = torusUrl;\n      this.dappStorageKey = dappStorageKey;\n      this.torusAlertContainer = torusAlertContainer;\n      this.torusIframe = torusIframe;\n      this.torusIframe.addEventListener(\"load\", () => {\n        // only do this if iframe is not full screen\n        if (!this._state.isIFrameFullScreen) this._displayIframe();\n      });\n      const {\n        currentLoginProvider,\n        isLoggedIn\n      } = await this.request({\n        method: COMMUNICATION_JRPC_METHODS.GET_PROVIDER_STATE,\n        params: []\n      }); // indicate that we've connected, for EIP-1193 compliance\n\n      this._handleConnect(currentLoginProvider, isLoggedIn);\n    } catch (error) {\n      log.error(\"Torus: Failed to get initial state. Please report this bug.\", error);\n    } finally {\n      log.info(\"initialized communication state\");\n      this._state.initialized = true;\n      this.emit(\"_initialized\");\n    }\n  }\n\n  _handleWindow(windowId) {\n    let {\n      url,\n      target,\n      features\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const finalUrl = new URL(url || \"\".concat(this.torusUrl, \"/redirect?windowId=\").concat(windowId));\n\n    if (this.dappStorageKey) {\n      // If multiple instances, it returns the first one\n      if (finalUrl.hash) finalUrl.hash += \"&dappStorageKey=\".concat(this.dappStorageKey);else finalUrl.hash = \"#dappStorageKey=\".concat(this.dappStorageKey);\n    }\n\n    const handledWindow = new PopupHandler({\n      url: finalUrl,\n      target,\n      features\n    });\n    handledWindow.open();\n\n    if (!handledWindow.window) {\n      this._createPopupBlockAlert(windowId, finalUrl.href);\n\n      return;\n    } // Add to collection only if window is opened\n\n\n    this.windowRefs[windowId] = handledWindow; // We tell the iframe that the window has been successfully opened\n\n    this.request({\n      method: COMMUNICATION_JRPC_METHODS.OPENED_WINDOW,\n      params: {\n        windowId\n      }\n    });\n    handledWindow.once(\"close\", () => {\n      // user closed the window\n      delete this.windowRefs[windowId];\n      this.request({\n        method: COMMUNICATION_JRPC_METHODS.CLOSED_WINDOW,\n        params: {\n          windowId\n        }\n      });\n    });\n  }\n\n  _displayIframe() {\n    let {\n      isFull = false,\n      rid = \"\"\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const style = {}; // set phase\n\n    if (!isFull) {\n      style.display = this._state.torusWidgetVisibility ? \"block\" : \"none\";\n      style.height = \"70px\";\n      style.width = \"70px\";\n\n      switch (this._state.buttonPosition) {\n        case BUTTON_POSITION.TOP_LEFT:\n          style.top = \"0px\";\n          style.left = \"0px\";\n          style.right = \"auto\";\n          style.bottom = \"auto\";\n          break;\n\n        case BUTTON_POSITION.TOP_RIGHT:\n          style.top = \"0px\";\n          style.right = \"0px\";\n          style.left = \"auto\";\n          style.bottom = \"auto\";\n          break;\n\n        case BUTTON_POSITION.BOTTOM_RIGHT:\n          style.bottom = \"0px\";\n          style.right = \"0px\";\n          style.top = \"auto\";\n          style.left = \"auto\";\n          break;\n\n        case BUTTON_POSITION.BOTTOM_LEFT:\n        default:\n          style.bottom = \"0px\";\n          style.left = \"0px\";\n          style.top = \"auto\";\n          style.right = \"auto\";\n          break;\n      }\n    } else {\n      style.display = \"block\";\n      style.width = \"100%\";\n      style.height = \"100%\";\n      style.top = \"0px\";\n      style.right = \"0px\";\n      style.left = \"0px\";\n      style.bottom = \"0px\";\n    }\n\n    Object.assign(this.torusIframe.style, style);\n    this._state.isIFrameFullScreen = isFull;\n    this.request({\n      method: COMMUNICATION_JRPC_METHODS.IFRAME_STATUS,\n      params: {\n        isIFrameFullScreen: isFull,\n        rid\n      }\n    });\n  }\n\n  hideTorusButton() {\n    this._state.torusWidgetVisibility = false;\n\n    this._displayIframe();\n  }\n\n  showTorusButton() {\n    this._state.torusWidgetVisibility = true;\n\n    this._displayIframe();\n  }\n  /**\n   * Internal RPC method. Forwards requests to background via the RPC engine.\n   * Also remap ids inbound and outbound\n   */\n\n\n  _rpcRequest(payload, callback) {\n    const cb = callback;\n    const _payload = payload;\n\n    if (!Array.isArray(_payload)) {\n      if (!_payload.jsonrpc) {\n        _payload.jsonrpc = \"2.0\";\n      }\n    }\n\n    this.tryWindowHandle(_payload, cb);\n  }\n  /**\n   * When the provider becomes connected, updates internal state and emits\n   * required events. Idempotent.\n   *\n   * @param currentLoginProvider - The login Provider\n   * emits TorusInpageProvider#connect\n   */\n\n\n  _handleConnect(currentLoginProvider, isLoggedIn) {\n    if (!this._state.isConnected) {\n      this._state.isConnected = true;\n      this.emit(\"connect\", {\n        currentLoginProvider,\n        isLoggedIn\n      });\n      log.debug(messages.info.connected(currentLoginProvider));\n    }\n  }\n  /**\n   * When the provider becomes disconnected, updates internal state and emits\n   * required events. Idempotent with respect to the isRecoverable parameter.\n   *\n   * Error codes per the CloseEvent status codes as required by EIP-1193:\n   * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n   *\n   * @param isRecoverable - Whether the disconnection is recoverable.\n   * @param errorMessage - A custom error message.\n   * emits TorusInpageProvider#disconnect\n   */\n\n\n  _handleDisconnect(isRecoverable, errorMessage) {\n    if (this._state.isConnected || !this._state.isPermanentlyDisconnected && !isRecoverable) {\n      this._state.isConnected = false;\n      let error;\n\n      if (isRecoverable) {\n        error = new EthereumRpcError(1013, // Try again later\n        errorMessage || messages.errors.disconnected());\n        log.debug(error);\n      } else {\n        error = new EthereumRpcError(1011, // Internal error\n        errorMessage || messages.errors.permanentlyDisconnected());\n        log.error(error);\n        this._state.currentLoginProvider = null;\n        this._state.isLoggedIn = false;\n        this._state.torusWidgetVisibility = false;\n        this._state.isIFrameFullScreen = false;\n        this._state.isPermanentlyDisconnected = true;\n      }\n\n      this.emit(\"disconnect\", error);\n    }\n  } // Called if the iframe wants to close the window cause it is done processing the request\n\n\n  _handleCloseWindow(params) {\n    const {\n      windowId\n    } = params;\n\n    if (this.windowRefs[windowId]) {\n      this.windowRefs[windowId].close();\n      delete this.windowRefs[windowId];\n    }\n  }\n\n  async _createPopupBlockAlert(windowId, url) {\n    const logoUrl = this.getLogoUrl();\n    const torusAlert = htmlToElement('<div id=\"torusAlert\" class=\"torus-alert--v2\">' + \"<div id=\\\"torusAlert__logo\\\"><img src=\\\"\".concat(logoUrl, \"\\\" /></div>\") + \"<div>\" + \"<h1 id=\\\"torusAlert__title\\\">\".concat(this.embedTranslations.actionRequired, \"</h1>\") + \"<p id=\\\"torusAlert__desc\\\">\".concat(this.embedTranslations.pendingAction, \"</p>\") + \"</div>\" + \"</div>\");\n    const successAlert = htmlToElement(\"<div><a id=\\\"torusAlert__btn\\\">\".concat(this.embedTranslations.continue, \"</a></div>\"));\n    const btnContainer = htmlToElement('<div id=\"torusAlert__btn-container\"></div>');\n    btnContainer.appendChild(successAlert);\n    torusAlert.appendChild(btnContainer);\n\n    const bindOnLoad = () => {\n      successAlert.addEventListener(\"click\", () => {\n        this._handleWindow(windowId, {\n          url,\n          target: \"_blank\",\n          features: getPopupFeatures(FEATURES_CONFIRM_WINDOW)\n        });\n\n        torusAlert.remove();\n        if (this.torusAlertContainer.children.length === 0) this.torusAlertContainer.style.display = \"none\";\n      });\n    };\n\n    const attachOnLoad = () => {\n      this.torusAlertContainer.appendChild(torusAlert);\n    };\n\n    await documentReady();\n    attachOnLoad();\n    bindOnLoad();\n    this.torusAlertContainer.style.display = \"block\";\n  }\n\n  getLogoUrl() {\n    const logoUrl = \"\".concat(this.torusUrl, \"/images/torus_icon-blue.svg\");\n    return logoUrl;\n  }\n\n}\n\n_defineProperty(TorusCommunicationProvider, \"_defaultState\", {\n  buttonPosition: \"bottom-left\",\n  currentLoginProvider: null,\n  isIFrameFullScreen: false,\n  hasEmittedConnection: false,\n  torusWidgetVisibility: false,\n  initialized: false,\n  isLoggedIn: false,\n  isPermanentlyDisconnected: false,\n  isConnected: false\n});\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nclass TorusInPageProvider extends BaseProvider {\n  /**\n   * The chain ID of the currently connected Solana chain.\n   * See [chainId.network]{@link https://chainid.network} for more information.\n   */\n\n  /**\n   * The user's currently selected Solana address.\n   * If null, Torus is either locked or the user has not permitted any\n   * addresses to be viewed.\n   */\n  constructor(connectionStream, _ref) {\n    let {\n      maxEventListeners = 100,\n      jsonRpcStreamName = \"provider\"\n    } = _ref;\n    super(connectionStream, {\n      maxEventListeners,\n      jsonRpcStreamName\n    }); // private state\n\n    _defineProperty(this, \"chainId\", void 0);\n\n    _defineProperty(this, \"selectedAddress\", void 0);\n\n    _defineProperty(this, \"tryWindowHandle\", void 0);\n\n    this._state = _objectSpread$1({}, TorusInPageProvider._defaultState); // public state\n\n    this.selectedAddress = null;\n    this.chainId = null;\n    this._handleAccountsChanged = this._handleAccountsChanged.bind(this);\n    this._handleChainChanged = this._handleChainChanged.bind(this);\n    this._handleUnlockStateChanged = this._handleUnlockStateChanged.bind(this); // setup own event listeners\n    // EIP-1193 connect\n\n    this.on(\"connect\", () => {\n      this._state.isConnected = true;\n    });\n\n    const jsonRpcNotificationHandler = payload => {\n      const {\n        method,\n        params\n      } = payload;\n\n      if (method === PROVIDER_NOTIFICATIONS.ACCOUNTS_CHANGED) {\n        this._handleAccountsChanged(params);\n      } else if (method === PROVIDER_NOTIFICATIONS.UNLOCK_STATE_CHANGED) {\n        this._handleUnlockStateChanged(params);\n      } else if (method === PROVIDER_NOTIFICATIONS.CHAIN_CHANGED) {\n        this._handleChainChanged(params);\n      }\n    }; // json rpc notification listener\n\n\n    this.jsonRpcConnectionEvents.on(\"notification\", jsonRpcNotificationHandler);\n  }\n  /**\n   * Returns whether the inpage provider is connected to Torus.\n   */\n\n\n  isConnected() {\n    return this._state.isConnected;\n  } // Private Methods\n  //= ===================\n\n  /**\n   * Constructor helper.\n   * Populates initial state by calling 'wallet_getProviderState' and emits\n   * necessary events.\n   */\n\n\n  async _initializeState() {\n    try {\n      const {\n        accounts,\n        chainId,\n        isUnlocked\n      } = await this.request({\n        method: PROVIDER_JRPC_METHODS.GET_PROVIDER_STATE,\n        params: []\n      }); // indicate that we've connected, for EIP-1193 compliance\n\n      this.emit(\"connect\", {\n        chainId\n      });\n\n      this._handleChainChanged({\n        chainId\n      });\n\n      this._handleUnlockStateChanged({\n        accounts,\n        isUnlocked\n      });\n\n      this._handleAccountsChanged(accounts);\n    } catch (error) {\n      log.error(\"Torus: Failed to get initial state. Please report this bug.\", error);\n    } finally {\n      log.info(\"initialized provider state\");\n      this._state.initialized = true;\n      this.emit(\"_initialized\");\n    }\n  }\n  /**\n   * Internal RPC method. Forwards requests to background via the RPC engine.\n   * Also remap ids inbound and outbound\n   */\n\n\n  _rpcRequest(payload, callback) {\n    let isInternal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    let cb = callback;\n    const _payload = payload;\n\n    if (!Array.isArray(_payload)) {\n      if (!_payload.jsonrpc) {\n        _payload.jsonrpc = \"2.0\";\n      }\n\n      if (_payload.method === \"solana_accounts\" || _payload.method === \"solana_requestAccounts\") {\n        // handle accounts changing\n        cb = (err, res) => {\n          this._handleAccountsChanged(res.result || [], _payload.method === \"solana_accounts\", isInternal);\n\n          callback(err, res);\n        };\n      } else if (_payload.method === \"wallet_getProviderState\") {\n        this._rpcEngine.handle(payload, cb);\n\n        return;\n      }\n    }\n\n    this.tryWindowHandle(_payload, cb);\n  }\n  /**\n   * When the provider becomes connected, updates internal state and emits\n   * required events. Idempotent.\n   *\n   * @param chainId - The ID of the newly connected chain.\n   * emits TorusInpageProvider#connect\n   */\n\n\n  _handleConnect(chainId) {\n    if (!this._state.isConnected) {\n      this._state.isConnected = true;\n      this.emit(\"connect\", {\n        chainId\n      });\n      log.debug(messages.info.connected(chainId));\n    }\n  }\n  /**\n   * When the provider becomes disconnected, updates internal state and emits\n   * required events. Idempotent with respect to the isRecoverable parameter.\n   *\n   * Error codes per the CloseEvent status codes as required by EIP-1193:\n   * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n   *\n   * @param isRecoverable - Whether the disconnection is recoverable.\n   * @param errorMessage - A custom error message.\n   * emits TorusInpageProvider#disconnect\n   */\n\n\n  _handleDisconnect(isRecoverable, errorMessage) {\n    if (this._state.isConnected || !this._state.isPermanentlyDisconnected && !isRecoverable) {\n      this._state.isConnected = false;\n      let error;\n\n      if (isRecoverable) {\n        error = new EthereumRpcError(1013, // Try again later\n        errorMessage || messages.errors.disconnected());\n        log.debug(error);\n      } else {\n        error = new EthereumRpcError(1011, // Internal error\n        errorMessage || messages.errors.permanentlyDisconnected());\n        log.error(error);\n        this.chainId = null;\n        this._state.accounts = null;\n        this.selectedAddress = null;\n        this._state.isUnlocked = false;\n        this._state.isPermanentlyDisconnected = true;\n      }\n\n      this.emit(\"disconnect\", error);\n    }\n  }\n  /**\n   * Called when accounts may have changed.\n   */\n\n\n  _handleAccountsChanged(accounts) {\n    let isEthAccounts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    let isInternal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    // defensive programming\n    let finalAccounts = accounts;\n\n    if (!Array.isArray(finalAccounts)) {\n      log.error(\"Torus: Received non-array accounts parameter. Please report this bug.\", finalAccounts);\n      finalAccounts = [];\n    }\n\n    for (const account of accounts) {\n      if (typeof account !== \"string\") {\n        log.error(\"Torus: Received non-string account. Please report this bug.\", accounts);\n        finalAccounts = [];\n        break;\n      }\n    } // emit accountsChanged if anything about the accounts array has changed\n\n\n    if (!dequal(this._state.accounts, finalAccounts)) {\n      // we should always have the correct accounts even before solana_accounts\n      // returns, except in cases where isInternal is true\n      if (isEthAccounts && Array.isArray(this._state.accounts) && this._state.accounts.length > 0 && !isInternal) {\n        log.error('Torus: \"solana_accounts\" unexpectedly updated accounts. Please report this bug.', finalAccounts);\n      }\n\n      this._state.accounts = finalAccounts;\n      this.emit(\"accountsChanged\", finalAccounts);\n    } // handle selectedAddress\n\n\n    if (this.selectedAddress !== finalAccounts[0]) {\n      this.selectedAddress = finalAccounts[0] || null;\n    }\n  }\n  /**\n   * Upon receipt of a new chainId and networkVersion, emits corresponding\n   * events and sets relevant public state.\n   * Does nothing if neither the chainId nor the networkVersion are different\n   * from existing values.\n   *\n   * emits TorusInpageProvider#chainChanged\n   * @param networkInfo - An object with network info.\n   */\n\n\n  _handleChainChanged() {\n    let {\n      chainId\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!chainId) {\n      log.error(\"Torus: Received invalid network parameters. Please report this bug.\", {\n        chainId\n      });\n      return;\n    }\n\n    if (chainId === \"loading\") {\n      this._handleDisconnect(true);\n    } else {\n      this._handleConnect(chainId);\n\n      if (chainId !== this.chainId) {\n        this.chainId = chainId;\n\n        if (this._state.initialized) {\n          this.emit(\"chainChanged\", this.chainId);\n        }\n      }\n    }\n  }\n  /**\n   * Upon receipt of a new isUnlocked state, sets relevant public state.\n   * Calls the accounts changed handler with the received accounts, or an empty\n   * array.\n   *\n   * Does nothing if the received value is equal to the existing value.\n   * There are no lock/unlock events.\n   *\n   * @param opts - Options bag.\n   */\n\n\n  _handleUnlockStateChanged() {\n    let {\n      accounts,\n      isUnlocked\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (typeof isUnlocked !== \"boolean\") {\n      log.error(\"Torus: Received invalid isUnlocked parameter. Please report this bug.\", {\n        isUnlocked\n      });\n      return;\n    }\n\n    if (isUnlocked !== this._state.isUnlocked) {\n      this._state.isUnlocked = isUnlocked;\n\n      this._handleAccountsChanged(accounts || []);\n    }\n  }\n\n}\n\n_defineProperty(TorusInPageProvider, \"_defaultState\", {\n  accounts: null,\n  isConnected: false,\n  isUnlocked: false,\n  initialized: false,\n  isPermanentlyDisconnected: false,\n  hasEmittedConnection: false\n});\n\n/**\n * Returns whether the given image URL exists\n */\nfunction imgExists(url) {\n  return new Promise((resolve, reject) => {\n    try {\n      const img = document.createElement(\"img\");\n\n      img.onload = () => resolve(true);\n\n      img.onerror = () => resolve(false);\n\n      img.src = url;\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n/**\n * Extracts a name for the site from the DOM\n */\n\n\nconst getSiteName = window => {\n  const {\n    document\n  } = window;\n  const siteName = document.querySelector('head > meta[property=\"og:site_name\"]');\n\n  if (siteName) {\n    return siteName.content;\n  }\n\n  const metaTitle = document.querySelector('head > meta[name=\"title\"]');\n\n  if (metaTitle) {\n    return metaTitle.content;\n  }\n\n  if (document.title && document.title.length > 0) {\n    return document.title;\n  }\n\n  return window.location.hostname;\n};\n/**\n * Extracts an icon for the site from the DOM\n */\n\n\nasync function getSiteIcon(window) {\n  try {\n    const {\n      document\n    } = window; // Use the site's favicon if it exists\n\n    let icon = document.querySelector('head > link[rel=\"shortcut icon\"]');\n\n    if (icon && (await imgExists(icon.href))) {\n      return icon.href;\n    } // Search through available icons in no particular order\n\n\n    icon = Array.from(document.querySelectorAll('head > link[rel=\"icon\"]')).find(_icon => Boolean(_icon.href));\n\n    if (icon && (await imgExists(icon.href))) {\n      return icon.href;\n    }\n\n    return \"\";\n  } catch (error) {\n    return \"\";\n  }\n}\n/**\n * Gets site metadata and returns it\n *\n */\n\n\nconst getSiteMetadata = async () => ({\n  name: getSiteName(window),\n  icon: await getSiteIcon(window)\n});\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nconst PROVIDER_UNSAFE_METHODS = [\"send_transaction\", \"sign_transaction\", \"sign_all_transactions\", \"sign_message\", \"connect\"];\nconst COMMUNICATION_UNSAFE_METHODS = [COMMUNICATION_JRPC_METHODS.SET_PROVIDER];\nconst isLocalStorageAvailable = storageAvailable(\"localStorage\"); // preload for iframe doesn't work https://bugs.chromium.org/p/chromium/issues/detail?id=593267\n\n(async function preLoadIframe() {\n  try {\n    if (typeof document === \"undefined\") return;\n    const torusIframeHtml = document.createElement(\"link\");\n    const {\n      torusUrl\n    } = await getTorusUrl(\"production\");\n    torusIframeHtml.href = \"\".concat(torusUrl, \"/frame\");\n    torusIframeHtml.crossOrigin = \"anonymous\";\n    torusIframeHtml.type = \"text/html\";\n    torusIframeHtml.rel = \"prefetch\";\n\n    if (torusIframeHtml.relList && torusIframeHtml.relList.supports) {\n      if (torusIframeHtml.relList.supports(\"prefetch\")) {\n        document.head.appendChild(torusIframeHtml);\n      }\n    }\n  } catch (error) {\n    log.warn(error);\n  }\n})();\n\nclass Torus {\n  constructor() {\n    let {\n      modalZIndex = 99999\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _defineProperty(this, \"isInitialized\", void 0);\n\n    _defineProperty(this, \"torusAlert\", void 0);\n\n    _defineProperty(this, \"modalZIndex\", void 0);\n\n    _defineProperty(this, \"alertZIndex\", void 0);\n\n    _defineProperty(this, \"requestedLoginProvider\", void 0);\n\n    _defineProperty(this, \"provider\", void 0);\n\n    _defineProperty(this, \"communicationProvider\", void 0);\n\n    _defineProperty(this, \"dappStorageKey\", void 0);\n\n    _defineProperty(this, \"torusAlertContainer\", void 0);\n\n    _defineProperty(this, \"torusUrl\", void 0);\n\n    _defineProperty(this, \"torusIframe\", void 0);\n\n    _defineProperty(this, \"styleLink\", void 0);\n\n    this.torusUrl = \"\";\n    this.isInitialized = false; // init done\n\n    this.requestedLoginProvider = null;\n    this.modalZIndex = modalZIndex;\n    this.alertZIndex = modalZIndex + 1000;\n    this.dappStorageKey = \"\";\n  }\n\n  get isLoggedIn() {\n    if (!this.communicationProvider) return false;\n    return this.communicationProvider.isLoggedIn;\n  }\n\n  async init() {\n    let {\n      buildEnv = TORUS_BUILD_ENV.PRODUCTION,\n      enableLogging = false,\n      network,\n      showTorusButton = false,\n      useLocalStorage = false,\n      buttonPosition = BUTTON_POSITION.BOTTOM_LEFT,\n      apiKey = \"torus-default\",\n      extraParams = {}\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (this.isInitialized) throw new Error(\"Already initialized\");\n    setAPIKey(apiKey);\n    const {\n      torusUrl,\n      logLevel\n    } = await getTorusUrl(buildEnv);\n    log.info(torusUrl, \"url loaded\");\n    this.torusUrl = torusUrl;\n    log.setDefaultLevel(logLevel);\n    if (enableLogging) log.enableAll();else log.disableAll();\n    const dappStorageKey = this.handleDappStorageKey(useLocalStorage);\n    const torusIframeUrl = new URL(torusUrl);\n    if (torusIframeUrl.pathname.endsWith(\"/\")) torusIframeUrl.pathname += \"frame\";else torusIframeUrl.pathname += \"/frame\";\n    const hashParams = new URLSearchParams();\n    if (dappStorageKey) hashParams.append(\"dappStorageKey\", dappStorageKey);\n    hashParams.append(\"origin\", window.location.origin);\n    torusIframeUrl.hash = hashParams.toString(); // Iframe code\n\n    this.torusIframe = htmlToElement(\"<iframe\\n        id=\\\"torusIframe\\\"\\n        class=\\\"torusIframe\\\"\\n        src=\\\"\".concat(torusIframeUrl.href, \"\\\"\\n        style=\\\"display: none; position: fixed; top: 0; right: 0; width: 100%;\\n        height: 100%; border: none; border-radius: 0; z-index: \").concat(this.modalZIndex.toString(), \"\\\"\\n      ></iframe>\"));\n    this.torusAlertContainer = htmlToElement(\"<div id=\\\"torusAlertContainer\\\" style=\\\"display:none; z-index: \".concat(this.alertZIndex.toString(), \"\\\"></div>\"));\n    this.styleLink = htmlToElement(\"<link href=\\\"\".concat(torusUrl, \"/css/widget.css\\\" rel=\\\"stylesheet\\\" type=\\\"text/css\\\">\"));\n\n    const handleSetup = async () => {\n      return new Promise((resolve, reject) => {\n        try {\n          window.document.head.appendChild(this.styleLink);\n          window.document.body.appendChild(this.torusIframe);\n          window.document.body.appendChild(this.torusAlertContainer);\n          this.torusIframe.addEventListener(\"load\", async () => {\n            const dappMetadata = await getSiteMetadata(); // send init params here\n\n            this.torusIframe.contentWindow.postMessage({\n              buttonPosition,\n              apiKey,\n              network,\n              dappMetadata,\n              extraParams\n            }, torusIframeUrl.origin);\n            await this._setupWeb3({\n              torusUrl\n            });\n            if (showTorusButton) this.showTorusButton();else this.hideTorusButton();\n            this.isInitialized = true;\n            window.torus = this;\n            resolve();\n          });\n        } catch (error) {\n          reject(error);\n        }\n      });\n    };\n\n    await documentReady();\n    await handleSetup();\n  }\n\n  async login() {\n    let params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!this.isInitialized) throw new Error(\"Call init() first\");\n\n    try {\n      this.requestedLoginProvider = params.loginProvider || null;\n\n      if (!this.requestedLoginProvider) {\n        this.communicationProvider._displayIframe({\n          isFull: true\n        });\n      } // If user is already logged in, we assume they have given access to the website\n\n\n      const res = await new Promise((resolve, reject) => {\n        // We use this method because we want to update inPage provider state with account info\n        this.provider._rpcRequest({\n          method: \"solana_requestAccounts\",\n          params: [this.requestedLoginProvider, params.login_hint]\n        }, getRpcPromiseCallback(resolve, reject));\n      });\n\n      if (Array.isArray(res) && res.length > 0) {\n        return res;\n      } // This would never happen, but just in case\n\n\n      throw new Error(\"Login failed\");\n    } catch (error) {\n      log.error(\"login failed\", error);\n      throw error;\n    } finally {\n      if (this.communicationProvider.isIFrameFullScreen) this.communicationProvider._displayIframe();\n    }\n  }\n\n  async loginWithPrivateKey(loginParams) {\n    if (!this.isInitialized) throw new Error(\"Call init() first\");\n    const {\n      privateKey,\n      userInfo\n    } = loginParams;\n    const {\n      success\n    } = await this.communicationProvider.request({\n      method: \"login_with_private_key\",\n      params: {\n        privateKey,\n        userInfo\n      }\n    });\n    if (!success) throw new Error(\"Login Failed\");\n  }\n\n  async logout() {\n    if (!this.communicationProvider.isLoggedIn) throw new Error(\"Not logged in\");\n    await this.communicationProvider.request({\n      method: COMMUNICATION_JRPC_METHODS.LOGOUT,\n      params: []\n    });\n    this.requestedLoginProvider = null;\n  }\n\n  async cleanUp() {\n    if (this.communicationProvider.isLoggedIn) {\n      await this.logout();\n    }\n\n    this.clearInit();\n  }\n\n  clearInit() {\n    function isElement(element) {\n      return element instanceof Element || element instanceof Document;\n    }\n\n    if (isElement(this.styleLink) && window.document.body.contains(this.styleLink)) {\n      this.styleLink.remove();\n      this.styleLink = undefined;\n    }\n\n    if (isElement(this.torusIframe) && window.document.body.contains(this.torusIframe)) {\n      this.torusIframe.remove();\n      this.torusIframe = undefined;\n    }\n\n    if (isElement(this.torusAlertContainer) && window.document.body.contains(this.torusAlertContainer)) {\n      this.torusAlert = undefined;\n      this.torusAlertContainer.remove();\n      this.torusAlertContainer = undefined;\n    }\n\n    this.isInitialized = false;\n  }\n\n  hideTorusButton() {\n    this.communicationProvider.hideTorusButton();\n  }\n\n  showTorusButton() {\n    this.communicationProvider.showTorusButton();\n  }\n\n  async setProvider(params) {\n    await this.communicationProvider.request({\n      method: COMMUNICATION_JRPC_METHODS.SET_PROVIDER,\n      params: _objectSpread({}, params)\n    });\n  }\n\n  async showWallet(path) {\n    let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const instanceId = await this.communicationProvider.request({\n      method: COMMUNICATION_JRPC_METHODS.WALLET_INSTANCE_ID,\n      params: []\n    });\n    const finalPath = path ? \"/\".concat(path) : \"\";\n    const finalUrl = new URL(\"\".concat(this.torusUrl, \"/wallet\").concat(finalPath)); // Using URL constructor to prevent js injection and allow parameter validation.!\n\n    finalUrl.searchParams.append(\"instanceId\", instanceId);\n    Object.keys(params).forEach(x => {\n      finalUrl.searchParams.append(x, params[x]);\n    });\n\n    if (this.dappStorageKey) {\n      finalUrl.hash = \"#dappStorageKey=\".concat(this.dappStorageKey);\n    } // No need to track this window state. Hence, no _handleWindow call.\n\n\n    const walletWindow = new PopupHandler({\n      url: finalUrl,\n      features: getPopupFeatures(FEATURES_DEFAULT_WALLET_WINDOW)\n    });\n    walletWindow.open();\n  }\n\n  async getUserInfo() {\n    const userInfoResponse = await this.communicationProvider.request({\n      method: COMMUNICATION_JRPC_METHODS.USER_INFO,\n      params: []\n    });\n    return userInfoResponse;\n  }\n\n  async initiateTopup(provider, params) {\n    if (!this.isInitialized) throw new Error(\"Torus is not initialized\");\n    const windowId = getWindowId();\n\n    this.communicationProvider._handleWindow(windowId);\n\n    const topupResponse = await this.communicationProvider.request({\n      method: COMMUNICATION_JRPC_METHODS.TOPUP,\n      params: {\n        provider,\n        params,\n        windowId\n      }\n    });\n    return topupResponse;\n  } // Solana specific API\n\n\n  async getAccounts() {\n    const response = await this.provider.request({\n      method: \"getAccounts\",\n      params: []\n    });\n    return response;\n  }\n\n  async sendTransaction(transaction) {\n    const response = await this.provider.request({\n      method: \"send_transaction\",\n      params: {\n        message: transaction.serialize({\n          requireAllSignatures: false\n        }).toString(\"hex\")\n      }\n    });\n    return response;\n  }\n\n  async signTransaction(transaction) {\n    const response = await this.provider.request({\n      method: \"sign_transaction\",\n      params: {\n        message: transaction.serializeMessage().toString(\"hex\"),\n        messageOnly: true\n      }\n    }); // reconstruct signature pair\n\n    const parsed = JSON.parse(response);\n    const signature = {\n      publicKey: new PublicKey(parsed.publicKey),\n      signature: Buffer.from(parsed.signature, \"hex\")\n    };\n    transaction.addSignature(signature.publicKey, signature.signature);\n    return transaction;\n  }\n\n  async signAllTransactions(transactions) {\n    const encodedMessage = transactions.map(tx => {\n      return tx.serializeMessage().toString(\"hex\");\n    });\n    const responses = await this.provider.request({\n      method: \"sign_all_transactions\",\n      params: {\n        message: encodedMessage,\n        messageOnly: true\n      }\n    }); // reconstruct signature pairs\n\n    const signatures = responses.map(item => {\n      const parsed = JSON.parse(item);\n      return {\n        publicKey: new PublicKey(parsed.publicKey),\n        signature: Buffer.from(parsed.signature, \"hex\")\n      };\n    });\n    transactions.forEach((tx, idx) => {\n      tx.addSignature(signatures[idx].publicKey, signatures[idx].signature);\n      return tx;\n    });\n    return transactions;\n  }\n\n  async signMessage(data) {\n    const response = await this.provider.request({\n      method: \"sign_message\",\n      params: {\n        data\n      }\n    });\n    return response;\n  }\n\n  async getGaslessPublicKey() {\n    const response = await this.provider.request({\n      method: \"get_gasless_public_key\",\n      params: []\n    });\n    return response;\n  } // async connect(): Promise<boolean> {\n  //   const response = (await this.provider.request({\n  //     method: \"connect\",\n  //     params: {},\n  //   })) as boolean;\n  //   return response;\n  // }\n\n\n  handleDappStorageKey(useLocalStorage) {\n    let dappStorageKey = \"\";\n\n    if (isLocalStorageAvailable && useLocalStorage) {\n      const storedKey = window.localStorage.getItem(configuration.localStorageKey);\n      if (storedKey) dappStorageKey = storedKey;else {\n        const generatedKey = \"torus-app-\".concat(getWindowId());\n        window.localStorage.setItem(configuration.localStorageKey, generatedKey);\n        dappStorageKey = generatedKey;\n      }\n    }\n\n    this.dappStorageKey = dappStorageKey;\n    return dappStorageKey;\n  }\n\n  async _setupWeb3(providerParams) {\n    log.info(\"setupWeb3 running\"); // setup background connection\n\n    const providerStream = new BasePostMessageStream({\n      name: \"embed_torus\",\n      target: \"iframe_torus\",\n      targetWindow: this.torusIframe.contentWindow\n    }); // We create another LocalMessageDuplexStream for communication between dapp <> iframe\n\n    const communicationStream = new BasePostMessageStream({\n      name: \"embed_communication\",\n      target: \"iframe_communication\",\n      targetWindow: this.torusIframe.contentWindow\n    }); // compose the inPage provider\n\n    const inPageProvider = new TorusInPageProvider(providerStream, {});\n    const communicationProvider = new TorusCommunicationProvider(communicationStream, {});\n\n    inPageProvider.tryWindowHandle = (payload, cb) => {\n      const _payload = payload;\n\n      if (!Array.isArray(_payload) && PROVIDER_UNSAFE_METHODS.includes(_payload.method)) {\n        if (!this.communicationProvider.isLoggedIn) throw new Error(\"User Not Logged In\");\n        const windowId = getWindowId();\n\n        communicationProvider._handleWindow(windowId, {\n          target: \"_blank\",\n          features: getPopupFeatures(FEATURES_CONFIRM_WINDOW)\n        }); // for inPageProvider methods sending windowId in request instead of params\n        // as params might be positional.\n\n\n        _payload.windowId = windowId;\n      }\n\n      inPageProvider._rpcEngine.handle(_payload, cb);\n    };\n\n    communicationProvider.tryWindowHandle = (payload, cb) => {\n      const _payload = payload;\n\n      if (!Array.isArray(_payload) && COMMUNICATION_UNSAFE_METHODS.includes(_payload.method)) {\n        const windowId = getWindowId();\n\n        communicationProvider._handleWindow(windowId, {\n          target: \"_blank\",\n          features: getPopupFeatures(FEATURES_PROVIDER_CHANGE_WINDOW) // todo: are these features generic for all\n\n        }); // for communication methods sending window id in jrpc req params\n\n\n        _payload.params.windowId = windowId;\n      }\n\n      communicationProvider._rpcEngine.handle(_payload, cb);\n    }; // detect solana_requestAccounts and pipe to enable for now\n\n\n    const detectAccountRequestPrototypeModifier = m => {\n      const originalMethod = inPageProvider[m]; // eslint-disable-next-line @typescript-eslint/no-this-alias\n\n      const self = this;\n\n      inPageProvider[m] = function providerFunc(request, cb) {\n        const {\n          method,\n          params = []\n        } = request;\n\n        if (method === \"solana_requestAccounts\") {\n          if (!cb) return self.login({\n            loginProvider: params[0]\n          });\n          self.login({\n            loginProvider: params[0]\n          }) // eslint-disable-next-line promise/no-callback-in-promise\n          .then(res => cb(null, res)) // eslint-disable-next-line promise/no-callback-in-promise\n          .catch(err => cb(err));\n        }\n\n        return originalMethod.apply(this, [request, cb]);\n      };\n    }; // Detects call to solana_requestAccounts in request & sendAsync and passes to login\n\n\n    detectAccountRequestPrototypeModifier(\"request\");\n    detectAccountRequestPrototypeModifier(\"sendAsync\");\n    detectAccountRequestPrototypeModifier(\"send\");\n    const proxiedInPageProvider = new Proxy(inPageProvider, {\n      // straight up lie that we deleted the property so that it doesn't\n      // throw an error in strict mode\n      deleteProperty: () => true\n    });\n    const proxiedCommunicationProvider = new Proxy(communicationProvider, {\n      // straight up lie that we deleted the property so that it doesn't\n      // throw an error in strict mode\n      deleteProperty: () => true\n    });\n    this.provider = proxiedInPageProvider;\n    this.communicationProvider = proxiedCommunicationProvider;\n    await Promise.all([inPageProvider._initializeState(), communicationProvider._initializeState(_objectSpread(_objectSpread({}, providerParams), {}, {\n      dappStorageKey: this.dappStorageKey,\n      torusAlertContainer: this.torusAlertContainer,\n      torusIframe: this.torusIframe\n    }))]);\n    log.debug(\"Torus - injected provider\");\n  }\n\n}\n\nexport { BUTTON_POSITION, LOGIN_PROVIDER, PAYMENT_PROVIDER, TORUS_BUILD_ENV, TorusInPageProvider, Torus as default };\n//# sourceMappingURL=solanaEmbed.esm.js.map\n",null,null,null,null,null,null,null,null,null,null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMessageFromCode = exports.serializeError = exports.EthereumProviderError = exports.EthereumRpcError = exports.ethErrors = exports.errorCodes = void 0;\nconst classes_1 = require(\"./classes\");\nObject.defineProperty(exports, \"EthereumRpcError\", { enumerable: true, get: function () { return classes_1.EthereumRpcError; } });\nObject.defineProperty(exports, \"EthereumProviderError\", { enumerable: true, get: function () { return classes_1.EthereumProviderError; } });\nconst utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"serializeError\", { enumerable: true, get: function () { return utils_1.serializeError; } });\nObject.defineProperty(exports, \"getMessageFromCode\", { enumerable: true, get: function () { return utils_1.getMessageFromCode; } });\nconst errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"ethErrors\", { enumerable: true, get: function () { return errors_1.ethErrors; } });\nconst error_constants_1 = require(\"./error-constants\");\nObject.defineProperty(exports, \"errorCodes\", { enumerable: true, get: function () { return error_constants_1.errorCodes; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUNBQW9FO0FBVWxFLGlHQVZPLDBCQUFnQixPQVVQO0FBQ2hCLHNHQVh5QiwrQkFBcUIsT0FXekI7QUFWdkIsbUNBRWlCO0FBU2YsK0ZBVkEsc0JBQWMsT0FVQTtBQUNkLG1HQVhnQiwwQkFBa0IsT0FXaEI7QUFUcEIscUNBQXFDO0FBS25DLDBGQUxPLGtCQUFTLE9BS1A7QUFKWCx1REFBK0M7QUFHN0MsMkZBSE8sNEJBQVUsT0FHUCJ9","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ethErrors = void 0;\nconst classes_1 = require(\"./classes\");\nconst utils_1 = require(\"./utils\");\nconst error_constants_1 = require(\"./error-constants\");\nexports.ethErrors = {\n    rpc: {\n        /**\n         * Get a JSON RPC 2.0 Parse (-32700) error.\n         */\n        parse: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse, arg),\n        /**\n         * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n         */\n        invalidRequest: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest, arg),\n        /**\n         * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n         */\n        invalidParams: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams, arg),\n        /**\n         * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n         */\n        methodNotFound: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound, arg),\n        /**\n         * Get a JSON RPC 2.0 Internal (-32603) error.\n         */\n        internal: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal, arg),\n        /**\n         * Get a JSON RPC 2.0 Server error.\n         * Permits integer error codes in the [ -32099 <= -32005 ] range.\n         * Codes -32000 through -32004 are reserved by EIP-1474.\n         */\n        server: (opts) => {\n            if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n                throw new Error('Ethereum RPC Server errors must provide single object argument.');\n            }\n            const { code } = opts;\n            if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n                throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');\n            }\n            return getEthJsonRpcError(code, opts);\n        },\n        /**\n         * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n         */\n        invalidInput: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput, arg),\n        /**\n         * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n         */\n        resourceNotFound: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound, arg),\n        /**\n         * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n         */\n        resourceUnavailable: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable, arg),\n        /**\n         * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n         */\n        transactionRejected: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected, arg),\n        /**\n         * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n         */\n        methodNotSupported: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported, arg),\n        /**\n         * Get an Ethereum JSON RPC Limit Exceeded (-32005) error.\n         */\n        limitExceeded: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded, arg),\n    },\n    provider: {\n        /**\n         * Get an Ethereum Provider User Rejected Request (4001) error.\n         */\n        userRejectedRequest: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest, arg);\n        },\n        /**\n         * Get an Ethereum Provider Unauthorized (4100) error.\n         */\n        unauthorized: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.unauthorized, arg);\n        },\n        /**\n         * Get an Ethereum Provider Unsupported Method (4200) error.\n         */\n        unsupportedMethod: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod, arg);\n        },\n        /**\n         * Get an Ethereum Provider Not Connected (4900) error.\n         */\n        disconnected: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.disconnected, arg);\n        },\n        /**\n         * Get an Ethereum Provider Chain Not Connected (4901) error.\n         */\n        chainDisconnected: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected, arg);\n        },\n        /**\n         * Get a custom Ethereum Provider error.\n         */\n        custom: (opts) => {\n            if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n                throw new Error('Ethereum Provider custom errors must provide single object argument.');\n            }\n            const { code, message, data } = opts;\n            if (!message || typeof message !== 'string') {\n                throw new Error('\"message\" must be a nonempty string');\n            }\n            return new classes_1.EthereumProviderError(code, message, data);\n        },\n    },\n};\n// Internal\nfunction getEthJsonRpcError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.EthereumRpcError(code, message || utils_1.getMessageFromCode(code), data);\n}\nfunction getEthProviderError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.EthereumProviderError(code, message || utils_1.getMessageFromCode(code), data);\n}\nfunction parseOpts(arg) {\n    if (arg) {\n        if (typeof arg === 'string') {\n            return [arg];\n        }\n        else if (typeof arg === 'object' && !Array.isArray(arg)) {\n            const { message, data } = arg;\n            if (message && typeof message !== 'string') {\n                throw new Error('Must specify string message.');\n            }\n            return [message || undefined, data];\n        }\n    }\n    return [];\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Vycm9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx1Q0FBb0U7QUFDcEUsbUNBQTZDO0FBQzdDLHVEQUErQztBQWVsQyxRQUFBLFNBQVMsR0FBRztJQUN2QixHQUFHLEVBQUU7UUFFSDs7V0FFRztRQUNILEtBQUssRUFBRSxDQUFJLEdBQXFCLEVBQUUsRUFBRSxDQUFDLGtCQUFrQixDQUNyRCw0QkFBVSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUMxQjtRQUVEOztXQUVHO1FBQ0gsY0FBYyxFQUFFLENBQUksR0FBcUIsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQzlELDRCQUFVLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQ25DO1FBRUQ7O1dBRUc7UUFDSCxhQUFhLEVBQUUsQ0FBSSxHQUFxQixFQUFFLEVBQUUsQ0FBQyxrQkFBa0IsQ0FDN0QsNEJBQVUsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FDbEM7UUFFRDs7V0FFRztRQUNILGNBQWMsRUFBRSxDQUFJLEdBQXFCLEVBQUUsRUFBRSxDQUFDLGtCQUFrQixDQUM5RCw0QkFBVSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUNuQztRQUVEOztXQUVHO1FBQ0gsUUFBUSxFQUFFLENBQUksR0FBcUIsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQ3hELDRCQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQzdCO1FBRUQ7Ozs7V0FJRztRQUNILE1BQU0sRUFBRSxDQUFJLElBQTJCLEVBQUUsRUFBRTtZQUN6QyxJQUFJLENBQUMsSUFBSSxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUM1RCxNQUFNLElBQUksS0FBSyxDQUFDLGlFQUFpRSxDQUFDLENBQUM7YUFDcEY7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","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport Torus from '@toruslabs/solana-embed';\nimport { BaseAdapter, WALLET_ADAPTERS, ADAPTER_NAMESPACES, CHAIN_NAMESPACES, ADAPTER_CATEGORY, ADAPTER_STATUS, getChainConfig, ADAPTER_EVENTS, WalletInitializationError, WalletLoginError } from '@web3auth/base';\nimport { TorusInjectedProvider } from '@web3auth/solana-provider';\nimport log from 'loglevel';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nclass SolanaWalletAdapter extends BaseAdapter {\n  constructor() {\n    let params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super();\n\n    _defineProperty(this, \"name\", WALLET_ADAPTERS.TORUS_SOLANA);\n\n    _defineProperty(this, \"adapterNamespace\", ADAPTER_NAMESPACES.SOLANA);\n\n    _defineProperty(this, \"currentChainNamespace\", CHAIN_NAMESPACES.SOLANA);\n\n    _defineProperty(this, \"type\", ADAPTER_CATEGORY.EXTERNAL);\n\n    _defineProperty(this, \"status\", ADAPTER_STATUS.NOT_READY);\n\n    _defineProperty(this, \"torusInstance\", null);\n\n    _defineProperty(this, \"torusWalletOptions\", void 0);\n\n    _defineProperty(this, \"initParams\", void 0);\n\n    _defineProperty(this, \"loginSettings\", {});\n\n    _defineProperty(this, \"solanaProvider\", null);\n\n    _defineProperty(this, \"rehydrated\", false);\n\n    this.torusWalletOptions = params.adapterSettings || {};\n    this.initParams = params.initParams || {};\n    this.loginSettings = params.loginSettings || {};\n    this.chainConfig = params.chainConfig || null;\n  }\n\n  get provider() {\n    if (this.status === ADAPTER_STATUS.CONNECTED && this.solanaProvider) {\n      var _this$solanaProvider;\n\n      return ((_this$solanaProvider = this.solanaProvider) === null || _this$solanaProvider === void 0 ? void 0 : _this$solanaProvider.provider) || null;\n    }\n\n    return null;\n  }\n\n  set provider(_) {\n    throw new Error(\"Not implemented\");\n  }\n\n  async init(options) {\n    super.checkInitializationRequirements(); // set chainConfig for mainnet by default if not set\n\n    let network;\n\n    if (!this.chainConfig) {\n      this.chainConfig = getChainConfig(CHAIN_NAMESPACES.SOLANA, \"0x1\");\n      const {\n        blockExplorer,\n        displayName,\n        ticker,\n        tickerName,\n        rpcTarget,\n        chainId\n      } = this.chainConfig;\n      network = {\n        chainId,\n        rpcTarget,\n        blockExplorerUrl: blockExplorer,\n        displayName,\n        ticker,\n        tickerName,\n        logo: \"\"\n      };\n    } else {\n      const {\n        chainId,\n        blockExplorer,\n        displayName,\n        rpcTarget,\n        ticker,\n        tickerName\n      } = this.chainConfig;\n      network = {\n        chainId,\n        rpcTarget,\n        blockExplorerUrl: blockExplorer,\n        displayName,\n        tickerName,\n        ticker,\n        logo: \"\"\n      };\n    }\n\n    this.torusInstance = new Torus(this.torusWalletOptions);\n    await this.torusInstance.init(_objectSpread(_objectSpread({\n      showTorusButton: false\n    }, this.initParams), {}, {\n      network\n    }));\n    this.solanaProvider = new TorusInjectedProvider({\n      config: {\n        chainConfig: this.chainConfig\n      }\n    });\n    this.status = ADAPTER_STATUS.READY;\n    this.emit(ADAPTER_EVENTS.READY, WALLET_ADAPTERS.TORUS_SOLANA);\n\n    try {\n      if (options.autoConnect) {\n        this.rehydrated = true;\n        await this.connect();\n      }\n    } catch (error) {\n      log.error(\"Failed to connect with cached torus solana provider\", error);\n      this.emit(ADAPTER_EVENTS.ERRORED, error);\n    }\n  }\n\n  async connect() {\n    super.checkConnectionRequirements();\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    if (!this.solanaProvider) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    this.status = ADAPTER_STATUS.CONNECTING;\n    this.emit(ADAPTER_EVENTS.CONNECTING, {\n      adapter: WALLET_ADAPTERS.TORUS_SOLANA\n    });\n\n    try {\n      await this.torusInstance.login(this.loginSettings);\n      await this.solanaProvider.setupProvider(this.torusInstance.provider);\n      this.status = ADAPTER_STATUS.CONNECTED;\n      this.torusInstance.showTorusButton();\n      this.emit(ADAPTER_STATUS.CONNECTED, {\n        adapter: WALLET_ADAPTERS.TORUS_SOLANA,\n        reconnected: this.rehydrated\n      });\n      return this.provider;\n    } catch (error) {\n      // ready again to be connected\n      this.status = ADAPTER_STATUS.READY;\n      this.rehydrated = false;\n      this.emit(ADAPTER_EVENTS.ERRORED, error);\n      throw WalletLoginError.connectionError(\"Failed to login with torus solana wallet\");\n    }\n  }\n\n  async disconnect() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      cleanup: false\n    };\n    if (this.status !== ADAPTER_STATUS.CONNECTED) throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    await this.torusInstance.logout();\n\n    if (options.cleanup) {\n      // ready to connect again\n      this.status = ADAPTER_STATUS.NOT_READY;\n      this.torusInstance = null;\n      this.solanaProvider = null;\n    } else {\n      // ready to connect again\n      this.status = ADAPTER_STATUS.READY;\n    }\n\n    this.emit(ADAPTER_EVENTS.DISCONNECTED);\n  }\n\n  async getUserInfo() {\n    if (this.status !== ADAPTER_STATUS.CONNECTED) throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    const userInfo = await this.torusInstance.getUserInfo();\n    return userInfo;\n  }\n\n  setAdapterSettings(_) {}\n\n}\n\nexport { SolanaWalletAdapter };\n//# sourceMappingURL=torusSolanaAdapter.esm.js.map\n"]}}